const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ScreenerPage-DH2JNpun.js","assets/index-Ce2_9GLb.js","assets/DashboardPage-BH-owa8Z.js"])))=>i.map(i=>d[i]);
var KA=Object.defineProperty;var YA=(i,e,n)=>e in i?KA(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n;var fr=(i,e,n)=>YA(i,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Ak=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Rk(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(i).forEach(function(s){var o=Object.getOwnPropertyDescriptor(i,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return i[s]}})}),n}var Hm={exports:{}},ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function QA(){if(Iv)return ec;Iv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return ec.Fragment=e,ec.jsx=n,ec.jsxs=n,ec}var Nv;function XA(){return Nv||(Nv=1,Hm.exports=QA()),Hm.exports}var C=XA(),qm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function JA(){if(xv)return Ae;xv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,q={};function re(V,ee,W){this.props=V,this.context=ee,this.refs=q,this.updater=W||j}re.prototype.isReactComponent={},re.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},re.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Y(){}Y.prototype=re.prototype;function J(V,ee,W){this.props=V,this.context=ee,this.refs=q,this.updater=W||j}var ce=J.prototype=new Y;ce.constructor=J,$(ce,re.prototype),ce.isPureReactComponent=!0;var pe=Array.isArray;function ye(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,ee,W){var se=W.ref;return{$$typeof:i,type:V,key:ee,ref:se!==void 0?se:null,props:W}}function k(V,ee){return R(V.type,ee,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function L(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(W){return ee[W]})}var N=/\/+/g;function $e(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):ee.toString(36)}function gt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ye,ye):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,ee,W,se,ve){var be=typeof V;(be==="undefined"||be==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(be){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case i:case e:Ue=!0;break;case E:return Ue=V._init,Q(Ue(V._payload),ee,W,se,ve)}}if(Ue)return ve=ve(V),Ue=se===""?"."+$e(V,0):se,pe(ve)?(W="",Ue!=null&&(W=Ue.replace(N,"$&/")+"/"),Q(ve,ee,W,"",function(xs){return xs})):ve!=null&&(D(ve)&&(ve=k(ve,W+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+Ue)),ee.push(ve)),1;Ue=0;var tt=se===""?".":se+":";if(pe(V))for(var at=0;at<V.length;at++)se=V[at],be=tt+$e(se,at),Ue+=Q(se,ee,W,be,ve);else if(at=O(V),typeof at=="function")for(V=at.call(V),at=0;!(se=V.next()).done;)se=se.value,be=tt+$e(se,at++),Ue+=Q(se,ee,W,be,ve);else if(be==="object"){if(typeof V.then=="function")return Q(gt(V),ee,W,se,ve);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(V,ee,W){if(V==null)return V;var se=[],ve=0;return Q(V,se,"","",function(be){return ee.call(W,be,ve++)}),se}function de(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(W){(V._status===0||V._status===-1)&&(V._status=1,V._result=W)},function(W){(V._status===0||V._status===-1)&&(V._status=2,V._result=W)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var we=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},xe={map:oe,forEach:function(V,ee,W){oe(V,function(){ee.apply(this,arguments)},W)},count:function(V){var ee=0;return oe(V,function(){ee++}),ee},toArray:function(V){return oe(V,function(ee){return ee})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=T,Ae.Children=xe,Ae.Component=re,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=J,Ae.StrictMode=s,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,ee,W){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var se=$({},V.props),ve=V.key;if(ee!=null)for(be in ee.key!==void 0&&(ve=""+ee.key),ee)!A.call(ee,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ee.ref===void 0||(se[be]=ee[be]);var be=arguments.length-2;if(be===1)se.children=W;else if(1<be){for(var Ue=Array(be),tt=0;tt<be;tt++)Ue[tt]=arguments[tt+2];se.children=Ue}return R(V.type,ve,se)},Ae.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ae.createElement=function(V,ee,W){var se,ve={},be=null;if(ee!=null)for(se in ee.key!==void 0&&(be=""+ee.key),ee)A.call(ee,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=ee[se]);var Ue=arguments.length-2;if(Ue===1)ve.children=W;else if(1<Ue){for(var tt=Array(Ue),at=0;at<Ue;at++)tt[at]=arguments[at+2];ve.children=tt}if(V&&V.defaultProps)for(se in Ue=V.defaultProps,Ue)ve[se]===void 0&&(ve[se]=Ue[se]);return R(V,be,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=D,Ae.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:de}},Ae.memo=function(V,ee){return{$$typeof:p,type:V,compare:ee===void 0?null:ee}},Ae.startTransition=function(V){var ee=I.T,W={};I.T=W;try{var se=V(),ve=I.S;ve!==null&&ve(W,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ye,we)}catch(be){we(be)}finally{ee!==null&&W.types!==null&&(ee.types=W.types),I.T=ee}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(V){return I.H.use(V)},Ae.useActionState=function(V,ee,W){return I.H.useActionState(V,ee,W)},Ae.useCallback=function(V,ee){return I.H.useCallback(V,ee)},Ae.useContext=function(V){return I.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,ee){return I.H.useDeferredValue(V,ee)},Ae.useEffect=function(V,ee){return I.H.useEffect(V,ee)},Ae.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(V,ee,W){return I.H.useImperativeHandle(V,ee,W)},Ae.useInsertionEffect=function(V,ee){return I.H.useInsertionEffect(V,ee)},Ae.useLayoutEffect=function(V,ee){return I.H.useLayoutEffect(V,ee)},Ae.useMemo=function(V,ee){return I.H.useMemo(V,ee)},Ae.useOptimistic=function(V,ee){return I.H.useOptimistic(V,ee)},Ae.useReducer=function(V,ee,W){return I.H.useReducer(V,ee,W)},Ae.useRef=function(V){return I.H.useRef(V)},Ae.useState=function(V){return I.H.useState(V)},Ae.useSyncExternalStore=function(V,ee,W){return I.H.useSyncExternalStore(V,ee,W)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var Dv;function Wg(){return Dv||(Dv=1,qm.exports=JA()),qm.exports}var U=Wg();const WA=BT(U);var Fm={exports:{}},tc={},Gm={exports:{}},$m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function ZA(){return Ov||(Ov=1,(function(i){function e(Q,oe){var de=Q.length;Q.push(oe);e:for(;0<de;){var we=de-1>>>1,xe=Q[we];if(0<o(xe,oe))Q[we]=oe,Q[de]=xe,de=we;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],de=Q.pop();if(de!==oe){Q[0]=de;e:for(var we=0,xe=Q.length,V=xe>>>1;we<V;){var ee=2*(we+1)-1,W=Q[ee],se=ee+1,ve=Q[se];if(0>o(W,de))se<xe&&0>o(ve,W)?(Q[we]=ve,Q[se]=de,we=se):(Q[we]=W,Q[ee]=de,we=ee);else if(se<xe&&0>o(ve,de))Q[we]=ve,Q[se]=de,we=se;else break e}}return oe}function o(Q,oe){var de=Q.sortIndex-oe.sortIndex;return de!==0?de:Q.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var g=[],p=[],E=1,T=null,S=3,O=!1,j=!1,$=!1,q=!1,re=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var oe=n(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=Q)s(p),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(p)}}function pe(Q){if($=!1,ce(Q),!j)if(n(g)!==null)j=!0,ye||(ye=!0,L());else{var oe=n(p);oe!==null&&gt(pe,oe.startTime-Q)}}var ye=!1,I=-1,A=5,R=-1;function k(){return q?!0:!(i.unstable_now()-R<A)}function D(){if(q=!1,ye){var Q=i.unstable_now();R=Q;var oe=!0;try{e:{j=!1,$&&($=!1,Y(I),I=-1),O=!0;var de=S;try{t:{for(ce(Q),T=n(g);T!==null&&!(T.expirationTime>Q&&k());){var we=T.callback;if(typeof we=="function"){T.callback=null,S=T.priorityLevel;var xe=we(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof xe=="function"){T.callback=xe,ce(Q),oe=!0;break t}T===n(g)&&s(g),ce(Q)}else s(g);T=n(g)}if(T!==null)oe=!0;else{var V=n(p);V!==null&&gt(pe,V.startTime-Q),oe=!1}}break e}finally{T=null,S=de,O=!1}oe=void 0}}finally{oe?L():ye=!1}}}var L;if(typeof J=="function")L=function(){J(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,$e=N.port2;N.port1.onmessage=D,L=function(){$e.postMessage(null)}}else L=function(){re(D,0)};function gt(Q,oe){I=re(function(){Q(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var de=S;S=oe;try{return Q()}finally{S=de}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=S;S=Q;try{return oe()}finally{S=de}},i.unstable_scheduleCallback=function(Q,oe,de){var we=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?we+de:we):de=we,Q){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=de+xe,Q={id:E++,callback:oe,priorityLevel:Q,startTime:de,expirationTime:xe,sortIndex:-1},de>we?(Q.sortIndex=de,e(p,Q),n(g)===null&&Q===n(p)&&($?(Y(I),I=-1):$=!0,gt(pe,de-we))):(Q.sortIndex=xe,e(g,Q),j||O||(j=!0,ye||(ye=!0,L()))),Q},i.unstable_shouldYield=k,i.unstable_wrapCallback=function(Q){var oe=S;return function(){var de=S;S=oe;try{return Q.apply(this,arguments)}finally{S=de}}}})($m)),$m}var Mv;function eR(){return Mv||(Mv=1,Gm.exports=ZA()),Gm.exports}var Km={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function tR(){if(Vv)return Xt;Vv=1;var i=Wg();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:p,implementation:E}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,E)},Xt.flushSync=function(g){var p=u.T,E=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=p,s.p=E,s.d.f()}},Xt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Xt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,T=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xt.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,p){return g(p)},Xt.useFormState=function(g,p,E){return u.H.useFormState(g,p,E)},Xt.useFormStatus=function(){return u.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var kv;function nR(){if(kv)return Km.exports;kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Km.exports=tR(),Km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function iR(){if(Pv)return tc;Pv=1;var i=eR(),e=Wg(),n=nR();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return g(f),t;if(d===l)return g(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function $e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case re:return"Profiler";case q:return"StrictMode";case pe:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case J:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case ce:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:$e(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return $e(t(r))}catch{}}return null}var gt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},we=[],xe=-1;function V(t){return{current:t}}function ee(t){0>xe||(t.current=we[xe],we[xe]=null,xe--)}function W(t,r){xe++,we[xe]=t.current,t.current=r}var se=V(null),ve=V(null),be=V(null),Ue=V(null);function tt(t,r){switch(W(be,r),W(ve,t),W(se,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?J0(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=J0(r),t=W0(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(se),W(se,t)}function at(){ee(se),ee(ve),ee(be)}function xs(t){t.memoizedState!==null&&W(Ue,t);var r=se.current,a=W0(r,t.type);r!==a&&(W(ve,t),W(se,a))}function Ca(t){ve.current===t&&(ee(se),ee(ve)),Ue.current===t&&(ee(Ue),Xl._currentValue=de)}var Ia,Na;function ui(t){if(Ia===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ia=r&&r[1]||"",Na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ia+t+Na}var Xo=!1;function Ds(t,r){if(!t||Xo)return"";Xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var F=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){F=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){F=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var x=_.split(`
`),H=b.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===H.length)for(l=x.length-1,f=H.length-1;1<=l&&0<=f&&x[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==H[f]){var X=`
`+x[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{Xo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Jo(t,r){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==r&&r!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return ui("Activity");default:return""}}function Wo(t){try{var r="",a=null;do r+=Jo(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,Vt=i.unstable_scheduleCallback,Ar=i.unstable_cancelCallback,Ff=i.unstable_shouldYield,Kc=i.unstable_requestPaint,nn=i.unstable_now,Os=i.unstable_getCurrentPriorityLevel,Zo=i.unstable_ImmediatePriority,el=i.unstable_UserBlockingPriority,Rr=i.unstable_NormalPriority,Gf=i.unstable_LowPriority,Yc=i.unstable_IdlePriority,Qc=i.log,Xc=i.unstable_setDisableYieldValue,$n=null,Bt=null;function Nn(t){if(typeof Qc=="function"&&Xc(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode($n,t)}catch{}}var pt=Math.clz32?Math.clz32:Wc,Jc=Math.log,xa=Math.LN2;function Wc(t){return t>>>=0,t===0?32:31-(Jc(t)/xa|0)|0}var hi=256,Ms=262144,wt=4194304;function fi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=fi(l):(_&=b,_!==0?f=fi(_):a||(a=b&~t,a!==0&&(f=fi(a))))):(b=l&~d,b!==0?f=fi(b):_!==0?f=fi(_):a||(a=l&~t,a!==0&&(f=fi(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Kn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function $f(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zc(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function mi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Vs(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kf(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,x=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pt(a),ne=1<<X;b[X]=0,x[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var K=F[X];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&ks(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function ks(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-pt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function tl(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-pt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function nl(t,r){var a=r&-r;return a=(a&42)!==0?1:Ps(a),(a&(t.suspendedLanes|r))!==0?0:a}function Ps(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function eu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Tv(t.type))}function Yn(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var Qn=Math.random().toString(36).slice(2),St="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,gi="__reactContainer$"+Qn,Da="__reactEvents$"+Qn,Yf="__reactListeners$"+Qn,tu="__reactHandles$"+Qn,nu="__reactResources$"+Qn,pi="__reactMarker$"+Qn;function Oa(t){delete t[St],delete t[Lt],delete t[Da],delete t[Yf],delete t[tu]}function yi(t){var r=t[St];if(r)return r;for(var a=t.parentNode;a;){if(r=a[gi]||a[St]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=sv(t);t!==null;){if(a=t[St])return a;t=sv(t)}return r}t=a,a=t.parentNode}return null}function xn(t){if(t=t[St]||t[gi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function yn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function _i(t){var r=t[nu];return r||(r=t[nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(t){t[pi]=!0}var il=new Set,rl={};function vi(t,r){Ei(t,r),Ei(t+"Capture",r)}function Ei(t,r){for(rl[t]=r,t=0;t<r.length;t++)il.add(r[t])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},ol={};function iu(t){return bt.call(ol,t)?!0:bt.call(al,t)?!1:sl.test(t)?ol[t]=!0:(al[t]=!0,!1)}function Ma(t,r,a){if(iu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function _n(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Rt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ll(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ke(t){if(!t._valueTracker){var r=Cr(t)?"checked":"value";t._valueTracker=ll(t,r,""+t[r])}}function Ls(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Cr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Us=/[\n"\\]/g;function ln(t){return t.replace(Us,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Va(t,r,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Ut(r)):t.value!==""+Ut(r)&&(t.value=""+Ut(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?cl(t,_,Ut(r)):a!=null?cl(t,_,Ut(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Ut(b):t.removeAttribute("name")}function ru(t,r,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ke(t);return}a=a!=null?""+Ut(a):"",r=r!=null?""+Ut(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function cl(t,r,a){r==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function su(t,r,a){if(r!=null&&(r=""+Ut(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Ut(a):""}function Nr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(gt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Ut(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||au.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function hl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ul(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&ul(t,d,r[d])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pa(t){return xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Xn(){}var fl=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,bi=null;function js(t){var r=xn(t);if(r&&(t=r.stateNode)){var a=t[Lt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Va(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ls(l)}break e;case"textarea":su(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(t,!!a.multiple,r,!1)}}}var La=!1;function Or(t,r,a){if(La)return t(r,a);La=!0;try{var l=t(r);return l}finally{if(La=!1,(Dr!==null||bi!==null)&&(eh(),Dr&&(r=Dr,t=bi,bi=Dr=null,js(r),t)))for(r=0;r<t.length;r++)js(t[r])}}function Jn(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zs=!1;if(On)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){zs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{zs=!1}var wi=null,dl=null,Bs=null;function ml(){if(Bs)return Bs;var t,r=dl,a=r.length,l,f="value"in wi?wi.value:wi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Bs=f.slice(t,1<l?1-l:void 0)}function Hs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function Wn(){return!1}function Ht(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yi:Wn,this.isPropagationStopped=Wn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),r}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ht(Qi),Mr=T({},Qi,{view:0,detail:0}),gl=Ht(Mr),Vr,Ua,Ai,ja=T({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Vr=t.screenX-Ai.screenX,Ua=t.screenY-Ai.screenY):Ua=Vr=0,Ai=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),pl=Ht(ja),qs=T({},ja,{dataTransfer:0}),lu=Ht(qs),cu=T({},Mr,{relatedTarget:0}),Fs=Ht(cu),yl=T({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=Ht(yl),za=T({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hu=Ht(za),fu=T({},Qi,{data:0}),Ri=Ht(fu),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=gu[t])?!!r[t]:!1}function kr(){return pu}var rn=T({},Mr,{key:function(t){if(t.key){var r=du[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yu=Ht(rn),_u=T({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ht(_u),h=T({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),y=Ht(h),v=T({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(v),z=T({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(z),ae=T({},Qi,{newState:0,oldState:0}),Ce=Ht(ae),yt=[9,13,27,32],qe=On&&"CompositionEvent"in window,ot=null;On&&"documentMode"in document&&(ot=document.documentMode);var Mn=On&&"TextEvent"in window&&!ot,Ci=On&&(!qe||ot&&8<ot&&11>=ot),Zn=" ",ei=!1;function Gs(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function yS(t,r){switch(t){case"compositionend":return Ba(r);case"keypress":return r.which!==32?null:(ei=!0,Zn);case"textInput":return t=r.data,t===Zn&&ei?null:t;default:return null}}function _S(t,r){if(Ha)return t==="compositionend"||!qe&&Gs(t,r)?(t=ml(),Bs=dl=wi=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ci&&r.locale!=="ko"?null:r.data;default:return null}}var vS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!vS[t.type]:r==="textarea"}function cy(t,r,a,l){Dr?bi?bi.push(l):bi=[l]:Dr=l,r=oh(r,"onChange"),0<r.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var _l=null,vl=null;function ES(t){G0(t,0)}function vu(t){var r=yn(t);if(Ls(r))return t}function uy(t,r){if(t==="change")return r}var hy=!1;if(On){var Qf;if(On){var Xf="oninput"in document;if(!Xf){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),Xf=typeof fy.oninput=="function"}Qf=Xf}else Qf=!1;hy=Qf&&(!document.documentMode||9<document.documentMode)}function dy(){_l&&(_l.detachEvent("onpropertychange",my),vl=_l=null)}function my(t){if(t.propertyName==="value"&&vu(vl)){var r=[];cy(r,vl,t,Dn(t)),Or(ES,r)}}function TS(t,r,a){t==="focusin"?(dy(),_l=r,vl=a,_l.attachEvent("onpropertychange",my)):t==="focusout"&&dy()}function bS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(vl)}function wS(t,r){if(t==="click")return vu(r)}function SS(t,r){if(t==="input"||t==="change")return vu(r)}function AS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var vn=typeof Object.is=="function"?Object.is:AS;function El(t,r){if(vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!bt.call(r,f)||!vn(t[f],r[f]))return!1}return!0}function gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function py(t,r){var a=gy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gy(a)}}function yy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?yy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function _y(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ti(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ti(t.document)}return r}function Jf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var RS=On&&"documentMode"in document&&11>=document.documentMode,qa=null,Wf=null,Tl=null,Zf=!1;function vy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zf||qa==null||qa!==Ti(l)||(l=qa,"selectionStart"in l&&Jf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=oh(Wf,"onSelect"),0<l.length&&(r=new Si("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=qa)))}function $s(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Fa={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},ed={},Ey={};On&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Ks(t){if(ed[t])return ed[t];if(!Fa[t])return t;var r=Fa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ey)return ed[t]=r[a];return t}var Ty=Ks("animationend"),by=Ks("animationiteration"),wy=Ks("animationstart"),CS=Ks("transitionrun"),IS=Ks("transitionstart"),NS=Ks("transitioncancel"),Sy=Ks("transitionend"),Ay=new Map,td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");td.push("scrollEnd");function ti(t,r){Ay.set(t,r),vi(r,[t])}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Ga=0,nd=0;function Tu(){for(var t=Ga,r=nd=Ga=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Ry(a,f,d)}}function bu(t,r,a,l){Vn[Ga++]=t,Vn[Ga++]=r,Vn[Ga++]=a,Vn[Ga++]=l,nd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function id(t,r,a,l){return bu(t,r,a,l),wu(t)}function Ys(t,r){return bu(t,null,null,r),wu(t)}function Ry(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-pt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function wu(t){if(50<ql)throw ql=0,fm=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var $a={};function xS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new xS(t,r,a,l)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Su(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")rd(t)&&(_=1);else if(typeof t=="string")_=kA(t,a,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,r,f),t.elementType=R,t.lanes=d,t;case $:return Qs(a.children,f,d,r);case q:_=8,f|=24;break;case re:return t=En(12,a,r,f|2),t.elementType=re,t.lanes=d,t;case pe:return t=En(13,a,r,f),t.elementType=pe,t.lanes=d,t;case ye:return t=En(19,a,r,f),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case Y:_=9;break e;case ce:_=11;break e;case I:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=En(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Qs(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function sd(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function Iy(t){var r=En(18,null,null,0);return r.stateNode=t,r}function ad(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ny=new WeakMap;function kn(t,r){if(typeof t=="object"&&t!==null){var a=Ny.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Wo(r)},Ny.set(t,r),r)}return{value:t,source:r,stack:Wo(r)}}var Ka=[],Ya=0,Au=null,bl=0,Pn=[],Ln=0,Pr=null,Ii=1,Ni="";function Wi(t,r){Ka[Ya++]=bl,Ka[Ya++]=Au,Au=t,bl=r}function xy(t,r,a){Pn[Ln++]=Ii,Pn[Ln++]=Ni,Pn[Ln++]=Pr,Pr=t;var l=Ii;t=Ni;var f=32-pt(l)-1;l&=~(1<<f),a+=1;var d=32-pt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ii=1<<32-pt(r)+f|a<<f|l,Ni=d+t}else Ii=1<<d|a<<f|l,Ni=t}function od(t){t.return!==null&&(Wi(t,1),xy(t,1,0))}function ld(t){for(;t===Au;)Au=Ka[--Ya],Ka[Ya]=null,bl=Ka[--Ya],Ka[Ya]=null;for(;t===Pr;)Pr=Pn[--Ln],Pn[Ln]=null,Ni=Pn[--Ln],Pn[Ln]=null,Ii=Pn[--Ln],Pn[Ln]=null}function Dy(t,r){Pn[Ln++]=Ii,Pn[Ln++]=Ni,Pn[Ln++]=Pr,Ii=r.id,Ni=r.overflow,Pr=t}var qt=null,it=null,je=!1,Lr=null,Un=!1,cd=Error(s(519));function Ur(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wl(kn(r,t)),cd}function Oy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[St]=t,r[Lt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Gl.length;a++)Oe(Gl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),ru(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Nr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Q0(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Xn),r=!0):r=!1,r||Ur(t,!0)}function My(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qt=qt.return}}function Qa(t){if(t!==qt)return!1;if(!je)return My(t),je=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cm(t.type,t.memoizedProps)),a=!a),a&&it&&Ur(t),My(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=rv(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=rv(t)}else r===27?(r=it,Wr(t.type)?(t=Om,Om=null,it=t):it=r):it=qt?zn(t.stateNode.nextSibling):null;return!0}function Xs(){it=qt=null,je=!1}function ud(){var t=Lr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Lr=null),t}function wl(t){Lr===null?Lr=[t]:Lr.push(t)}var hd=V(null),Js=null,Zi=null;function jr(t,r,a){W(hd,r._currentValue),r._currentValue=a}function er(t){t._currentValue=hd.current,ee(hd)}function fd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function dd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var x=0;x<r.length;x++)if(b.context===r[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),fd(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),fd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Xa(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;vn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Ue.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}f=f.return}t!==null&&dd(r,t,a,l),r.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ws(t){Js=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Vy(Js,t)}function Cu(t,r){return Js===null&&Ws(t),Vy(t,r)}function Vy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(s(308));Zi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Zi=Zi.next=r;return a}var DS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},OS=i.unstable_scheduleCallback,MS=i.unstable_NormalPriority,Ct={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new DS,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&OS(MS,function(){t.controller.abort()})}var Al=null,gd=0,Ja=0,Wa=null;function VS(t,r){if(Al===null){var a=Al=[];gd=0,Ja=_m(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gd++,r.then(ky,ky),r}function ky(){if(--gd===0&&Al!==null){Wa!==null&&(Wa.status="fulfilled");var t=Al;Al=null,Ja=0,Wa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function kS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Py=Q.S;Q.S=function(t,r){v0=nn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&VS(t,r),Py!==null&&Py(t,r)};var Zs=V(null);function pd(){var t=Zs.current;return t!==null?t:et.pooledCache}function Iu(t,r){r===null?W(Zs,Zs.current):W(Zs,r.pool)}function Ly(){var t=pd();return t===null?null:{parent:Ct._currentValue,pool:t}}var Za=Error(s(460)),yd=Error(s(474)),Nu=Error(s(542)),xu={then:function(){}};function Uy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Xn,Xn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,By(t),t;default:if(typeof r.status=="string")r.then(Xn,Xn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,By(t),t}throw ta=r,Za}}function ea(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Za):a}}var ta=null;function zy(){if(ta===null)throw Error(s(459));var t=ta;return ta=null,t}function By(t){if(t===Za||t===Nu)throw Error(s(483))}var eo=null,Rl=0;function Du(t){var r=Rl;return Rl+=1,eo===null&&(eo=[]),jy(eo,t,r)}function Cl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Ou(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Hy(t){function r(P,M){if(t){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)r(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=Ji(P,M),P.index=0,P.sibling=null,P}function d(P,M,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,M,B,te){return M===null||M.tag!==6?(M=sd(B,P.mode,te),M.return=P,M):(M=f(M,B),M.return=P,M)}function x(P,M,B,te){var me=B.type;return me===$?X(P,M,B.props.children,te,B.key):M!==null&&(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&ea(me)===M.type)?(M=f(M,B.props),Cl(M,B),M.return=P,M):(M=Su(B.type,B.key,B.props,null,P.mode,te),Cl(M,B),M.return=P,M)}function H(P,M,B,te){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=ad(B,P.mode,te),M.return=P,M):(M=f(M,B.children||[]),M.return=P,M)}function X(P,M,B,te,me){return M===null||M.tag!==7?(M=Qs(B,P.mode,te,me),M.return=P,M):(M=f(M,B),M.return=P,M)}function ne(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=sd(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return B=Su(M.type,M.key,M.props,null,P.mode,B),Cl(B,M),B.return=P,B;case j:return M=ad(M,P.mode,B),M.return=P,M;case A:return M=ea(M),ne(P,M,B)}if(gt(M)||L(M))return M=Qs(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return ne(P,Du(M),B);if(M.$$typeof===J)return ne(P,Cu(P,M),B);Ou(P,M)}return null}function F(P,M,B,te){var me=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:b(P,M,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return B.key===me?x(P,M,B,te):null;case j:return B.key===me?H(P,M,B,te):null;case A:return B=ea(B),F(P,M,B,te)}if(gt(B)||L(B))return me!==null?null:X(P,M,B,te,null);if(typeof B.then=="function")return F(P,M,Du(B),te);if(B.$$typeof===J)return F(P,M,Cu(P,B),te);Ou(P,B)}return null}function K(P,M,B,te,me){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return P=P.get(B)||null,b(M,P,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case O:return P=P.get(te.key===null?B:te.key)||null,x(M,P,te,me);case j:return P=P.get(te.key===null?B:te.key)||null,H(M,P,te,me);case A:return te=ea(te),K(P,M,B,te,me)}if(gt(te)||L(te))return P=P.get(B)||null,X(M,P,te,me,null);if(typeof te.then=="function")return K(P,M,B,Du(te),me);if(te.$$typeof===J)return K(P,M,B,Cu(M,te),me);Ou(M,te)}return null}function he(P,M,B,te){for(var me=null,Be=null,fe=M,Ne=M=0,Ve=null;fe!==null&&Ne<B.length;Ne++){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var He=F(P,fe,B[Ne],te);if(He===null){fe===null&&(fe=Ve);break}t&&fe&&He.alternate===null&&r(P,fe),M=d(He,M,Ne),Be===null?me=He:Be.sibling=He,Be=He,fe=Ve}if(Ne===B.length)return a(P,fe),je&&Wi(P,Ne),me;if(fe===null){for(;Ne<B.length;Ne++)fe=ne(P,B[Ne],te),fe!==null&&(M=d(fe,M,Ne),Be===null?me=fe:Be.sibling=fe,Be=fe);return je&&Wi(P,Ne),me}for(fe=l(fe);Ne<B.length;Ne++)Ve=K(fe,P,Ne,B[Ne],te),Ve!==null&&(t&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ne:Ve.key),M=d(Ve,M,Ne),Be===null?me=Ve:Be.sibling=Ve,Be=Ve);return t&&fe.forEach(function(is){return r(P,is)}),je&&Wi(P,Ne),me}function _e(P,M,B,te){if(B==null)throw Error(s(151));for(var me=null,Be=null,fe=M,Ne=M=0,Ve=null,He=B.next();fe!==null&&!He.done;Ne++,He=B.next()){fe.index>Ne?(Ve=fe,fe=null):Ve=fe.sibling;var is=F(P,fe,He.value,te);if(is===null){fe===null&&(fe=Ve);break}t&&fe&&is.alternate===null&&r(P,fe),M=d(is,M,Ne),Be===null?me=is:Be.sibling=is,Be=is,fe=Ve}if(He.done)return a(P,fe),je&&Wi(P,Ne),me;if(fe===null){for(;!He.done;Ne++,He=B.next())He=ne(P,He.value,te),He!==null&&(M=d(He,M,Ne),Be===null?me=He:Be.sibling=He,Be=He);return je&&Wi(P,Ne),me}for(fe=l(fe);!He.done;Ne++,He=B.next())He=K(fe,P,Ne,He.value,te),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Ne:He.key),M=d(He,M,Ne),Be===null?me=He:Be.sibling=He,Be=He);return t&&fe.forEach(function($A){return r(P,$A)}),je&&Wi(P,Ne),me}function Ze(P,M,B,te){if(typeof B=="object"&&B!==null&&B.type===$&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case O:e:{for(var me=B.key;M!==null;){if(M.key===me){if(me=B.type,me===$){if(M.tag===7){a(P,M.sibling),te=f(M,B.props.children),te.return=P,P=te;break e}}else if(M.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&ea(me)===M.type){a(P,M.sibling),te=f(M,B.props),Cl(te,B),te.return=P,P=te;break e}a(P,M);break}else r(P,M);M=M.sibling}B.type===$?(te=Qs(B.props.children,P.mode,te,B.key),te.return=P,P=te):(te=Su(B.type,B.key,B.props,null,P.mode,te),Cl(te,B),te.return=P,P=te)}return _(P);case j:e:{for(me=B.key;M!==null;){if(M.key===me)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(P,M.sibling),te=f(M,B.children||[]),te.return=P,P=te;break e}else{a(P,M);break}else r(P,M);M=M.sibling}te=ad(B,P.mode,te),te.return=P,P=te}return _(P);case A:return B=ea(B),Ze(P,M,B,te)}if(gt(B))return he(P,M,B,te);if(L(B)){if(me=L(B),typeof me!="function")throw Error(s(150));return B=me.call(B),_e(P,M,B,te)}if(typeof B.then=="function")return Ze(P,M,Du(B),te);if(B.$$typeof===J)return Ze(P,M,Cu(P,B),te);Ou(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(P,M.sibling),te=f(M,B),te.return=P,P=te):(a(P,M),te=sd(B,P.mode,te),te.return=P,P=te),_(P)):a(P,M)}return function(P,M,B,te){try{Rl=0;var me=Ze(P,M,B,te);return eo=null,me}catch(fe){if(fe===Za||fe===Nu)throw fe;var Be=En(29,fe,null,P.mode);return Be.lanes=te,Be.return=P,Be}finally{}}}var na=Hy(!0),qy=Hy(!1),zr=!1;function _d(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=wu(t),Ry(t,null,a),r}return bu(t,l,r,a),wu(t)}function Il(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,tl(t,a)}}function Ed(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Td=!1;function Nl(){if(Td){var t=Wa;if(t!==null)throw t}}function xl(t,r,a,l){Td=!1;var f=t.updateQueue;zr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var x=b,H=x.next;x.next=null,_===null?d=H:_.next=H,_=x;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=H:b.next=H,X.lastBaseUpdate=x))}if(d!==null){var ne=f.baseState;_=0,X=H=x=null,b=d;do{var F=b.lane&-536870913,K=F!==b.lane;if(K?(Me&F)===F:(l&F)===F){F!==0&&F===Ja&&(Td=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=t,_e=b;F=r;var Ze=a;switch(_e.tag){case 1:if(he=_e.payload,typeof he=="function"){ne=he.call(Ze,ne,F);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=_e.payload,F=typeof he=="function"?he.call(Ze,ne,F):he,F==null)break e;ne=T({},ne,F);break e;case 2:zr=!0}}F=b.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[F]:K.push(F))}else K={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(H=X=K,x=ne):X=X.next=K,_|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);X===null&&(x=ne),f.baseState=x,f.firstBaseUpdate=H,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Kr|=_,t.lanes=_,t.memoizedState=ne}}function Fy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Gy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fy(a[t],r)}var to=V(null),Mu=V(0);function $y(t,r){t=cr,W(Mu,t),W(to,r),cr=t|r.baseLanes}function bd(){W(Mu,cr),W(to,to.current)}function wd(){cr=Mu.current,ee(to),ee(Mu)}var Tn=V(null),jn=null;function qr(t){var r=t.alternate;W(_t,_t.current&1),W(Tn,t),jn===null&&(r===null||to.current!==null||r.memoizedState!==null)&&(jn=t)}function Sd(t){W(_t,_t.current),W(Tn,t),jn===null&&(jn=t)}function Ky(t){t.tag===22?(W(_t,_t.current),W(Tn,t),jn===null&&(jn=t)):Fr()}function Fr(){W(_t,_t.current),W(Tn,Tn.current)}function bn(t){ee(Tn),jn===t&&(jn=null),ee(_t)}var _t=V(0);function Vu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xm(a)||Dm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var tr=0,Ie=null,Je=null,It=null,ku=!1,no=!1,ia=!1,Pu=0,Dl=0,io=null,PS=0;function ht(){throw Error(s(321))}function Ad(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!vn(t[a],r[a]))return!1;return!0}function Rd(t,r,a,l,f,d){return tr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?x_:Bd,ia=!1,d=a(l,f),ia=!1,no&&(d=Qy(r,a,l,f)),Yy(t),d}function Yy(t){Q.H=Vl;var r=Je!==null&&Je.next!==null;if(tr=0,It=Je=Ie=null,ku=!1,Dl=0,io=null,r)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Ru(t)&&(Nt=!0))}function Qy(t,r,a,l){Ie=t;var f=0;do{if(no&&(io=null),Dl=0,no=!1,25<=f)throw Error(s(301));if(f+=1,It=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=D_,d=r(a,l)}while(no);return d}function LS(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Ol(r):r,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Cd(){var t=Pu!==0;return Pu=0,t}function Id(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Nd(t){if(ku){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ku=!1}tr=0,It=Je=Ie=null,no=!1,Dl=Pu=0,io=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ie.memoizedState=It=t:It=It.next=t,It}function vt(){if(Je===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var r=It===null?Ie.memoizedState:It.next;if(r!==null)It=r,Je=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},It===null?Ie.memoizedState=It=t:It=It.next=t}return It}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(t){var r=Dl;return Dl+=1,io===null&&(io=[]),t=jy(io,t,r),r=Ie,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?x_:Bd),t}function Uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ol(t);if(t.$$typeof===J)return Ft(t)}throw Error(s(438,String(t)))}function xd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Lu(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=k;return r.index++,a}function nr(t,r){return typeof r=="function"?r(t):r}function ju(t){var r=vt();return Dd(r,Je,t)}function Dd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=_=null,x=null,H=r,X=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Me&ne)===ne:(tr&ne)===ne){var F=H.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===Ja&&(X=!0);else if((tr&F)===F){H=H.next,F===Ja&&(X=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(b=x=ne,_=d):x=x.next=ne,Ie.lanes|=F,Kr|=F;ne=H.action,ia&&a(d,ne),d=H.hasEagerState?H.eagerState:a(d,ne)}else F={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(b=x=F,_=d):x=x.next=F,Ie.lanes|=ne,Kr|=ne;H=H.next}while(H!==null&&H!==r);if(x===null?_=d:x.next=b,!vn(d,t.memoizedState)&&(Nt=!0,X&&(a=Wa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Od(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);vn(d,r.memoizedState)||(Nt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Xy(t,r,a){var l=Ie,f=vt(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!vn((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,Nt=!0),f=f.queue,kd(Zy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},Wy.bind(null,l,f,a,r),null),et===null)throw Error(s(349));d||(tr&127)!==0||Jy(l,r,a)}return a}function Jy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Lu(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Wy(t,r,a,l){r.value=a,r.getSnapshot=l,e_(r)&&t_(t)}function Zy(t,r,a){return a(function(){e_(r)&&t_(t)})}function e_(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!vn(t,a)}catch{return!0}}function t_(t){var r=Ys(t,2);r!==null&&mn(r,t,2)}function Md(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),ia){Nn(!0);try{a()}finally{Nn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},r}function n_(t,r,a,l){return t.baseState=a,Dd(t,Je,typeof l=="function"?l:nr)}function US(t,r,a,l,f){if(Hu(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,i_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function i_(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=Q.T,_={};Q.T=_;try{var b=a(f,l),x=Q.S;x!==null&&x(_,b),r_(t,r,b)}catch(H){Vd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),r_(t,r,d)}catch(H){Vd(t,r,H)}}function r_(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){s_(t,r,l)},function(l){return Vd(t,r,l)}):s_(t,r,a)}function s_(t,r,a){r.status="fulfilled",r.value=a,a_(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,i_(t,a)))}function Vd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,a_(r),r=r.next;while(r!==l)}t.action=null}function a_(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function o_(t,r){return r}function l_(t,r){if(je){var a=et.formState;if(a!==null){e:{var l=Ie;if(je){if(it){t:{for(var f=it,d=Un;f.nodeType!==8;){if(!d){f=null;break t}if(f=zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=zn(f.nextSibling),l=f.data==="F!";break e}}Ur(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:r},a.queue=l,a=C_.bind(null,Ie,l),l.dispatch=a,l=Md(!1),d=zd.bind(null,Ie,!1,l.queue),l=sn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=US.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function c_(t){var r=vt();return u_(r,Je,t)}function u_(t,r,a){if(r=Dd(t,r,o_)[0],t=ju(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Ol(r)}catch(_){throw _===Za?Nu:_}else l=r;r=vt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,ro(9,{destroy:void 0},jS.bind(null,f,a),null)),[l,d,t]}function jS(t,r){t.action=r}function h_(t){var r=vt(),a=Je;if(a!==null)return u_(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function ro(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Lu(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function f_(){return vt().memoizedState}function zu(t,r,a,l){var f=sn();Ie.flags|=t,f.memoizedState=ro(1|r,{destroy:void 0},a,l===void 0?null:l)}function Bu(t,r,a,l){var f=vt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&Ad(l,Je.memoizedState.deps)?f.memoizedState=ro(r,d,a,l):(Ie.flags|=t,f.memoizedState=ro(1|r,d,a,l))}function d_(t,r){zu(8390656,8,t,r)}function kd(t,r){Bu(2048,8,t,r)}function zS(t){Ie.flags|=4;var r=Ie.updateQueue;if(r===null)r=Lu(),Ie.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function m_(t){var r=vt().memoizedState;return zS({ref:r,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function g_(t,r){return Bu(4,2,t,r)}function p_(t,r){return Bu(4,4,t,r)}function y_(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function __(t,r,a){a=a!=null?a.concat([t]):null,Bu(4,4,y_.bind(null,r,t),a)}function Pd(){}function v_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ad(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function E_(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ad(r,l[1]))return l[0];if(l=t(),ia){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l}function Ld(t,r,a){return a===void 0||(tr&1073741824)!==0&&(Me&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=T0(),Ie.lanes|=t,Kr|=t,a)}function T_(t,r,a,l){return vn(a,r)?a:to.current!==null?(t=Ld(t,a,l),vn(t,r)||(Nt=!0),t):(tr&42)===0||(tr&1073741824)!==0&&(Me&261930)===0?(Nt=!0,t.memoizedState=a):(t=T0(),Ie.lanes|=t,Kr|=t,r)}function b_(t,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=Q.T,b={};Q.T=b,zd(t,!1,r,a);try{var x=f(),H=Q.S;if(H!==null&&H(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=kS(x,l);Ml(t,r,X,An(t))}else Ml(t,r,l,An(t))}catch(ne){Ml(t,r,{then:function(){},status:"rejected",reason:ne},An())}finally{oe.p=d,_!==null&&b.types!==null&&(_.types=b.types),Q.T=_}}function BS(){}function Ud(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=w_(t).queue;b_(t,f,r,de,a===null?BS:function(){return S_(t),a(l)})}function w_(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function S_(t){var r=w_(t);r.next===null&&(r=t.alternate.memoizedState),Ml(t,r.next.queue,{},An())}function jd(){return Ft(Xl)}function A_(){return vt().memoizedState}function R_(){return vt().memoizedState}function HS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();t=Br(a);var l=Hr(r,t,a);l!==null&&(mn(l,r,a),Il(l,r,a)),r={cache:md()},t.payload=r;return}r=r.return}}function qS(t,r,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(t)?I_(r,a):(a=id(t,r,a,l),a!==null&&(mn(a,t,l),N_(a,r,l)))}function C_(t,r,a){var l=An();Ml(t,r,a,l)}function Ml(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(t))I_(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,vn(b,_))return bu(t,r,f,0),et===null&&Tu(),!1}catch{}finally{}if(a=id(t,r,f,l),a!==null)return mn(a,t,l),N_(a,r,l),!0}return!1}function zd(t,r,a,l){if(l={lane:2,revertLane:_m(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(t)){if(r)throw Error(s(479))}else r=id(t,a,l,2),r!==null&&mn(r,t,2)}function Hu(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function I_(t,r){no=ku=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function N_(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,tl(t,a)}}var Vl={readContext:Ft,use:Uu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Vl.useEffectEvent=ht;var x_={readContext:Ft,use:Uu,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Ft,useEffect:d_,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,zu(4194308,4,y_.bind(null,r,t),a)},useLayoutEffect:function(t,r){return zu(4194308,4,t,r)},useInsertionEffect:function(t,r){zu(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(ia){Nn(!0);try{t()}finally{Nn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var f=a(r);if(ia){Nn(!0);try{a(r)}finally{Nn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=qS.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=Md(t);var r=t.queue,a=C_.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Pd,useDeferredValue:function(t,r){var a=sn();return Ld(a,t,r)},useTransition:function(){var t=Md(!1);return t=b_.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=sn();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Me&127)!==0||Jy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,d_(Zy.bind(null,l,d,t),[t]),l.flags|=2048,ro(9,{destroy:void 0},Wy.bind(null,l,d,a,r),null),a},useId:function(){var t=sn(),r=et.identifierPrefix;if(je){var a=Ni,l=Ii;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Pu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=PS++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:jd,useFormState:l_,useActionState:l_,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=zd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:xd,useCacheRefresh:function(){return sn().memoizedState=HS.bind(null,Ie)},useEffectEvent:function(t){var r=sn(),a={impl:t};return r.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Bd={readContext:Ft,use:Uu,useCallback:v_,useContext:Ft,useEffect:kd,useImperativeHandle:__,useInsertionEffect:g_,useLayoutEffect:p_,useMemo:E_,useReducer:ju,useRef:f_,useState:function(){return ju(nr)},useDebugValue:Pd,useDeferredValue:function(t,r){var a=vt();return T_(a,Je.memoizedState,t,r)},useTransition:function(){var t=ju(nr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Ol(t),r]},useSyncExternalStore:Xy,useId:A_,useHostTransitionStatus:jd,useFormState:c_,useActionState:c_,useOptimistic:function(t,r){var a=vt();return n_(a,Je,t,r)},useMemoCache:xd,useCacheRefresh:R_};Bd.useEffectEvent=m_;var D_={readContext:Ft,use:Uu,useCallback:v_,useContext:Ft,useEffect:kd,useImperativeHandle:__,useInsertionEffect:g_,useLayoutEffect:p_,useMemo:E_,useReducer:Od,useRef:f_,useState:function(){return Od(nr)},useDebugValue:Pd,useDeferredValue:function(t,r){var a=vt();return Je===null?Ld(a,t,r):T_(a,Je.memoizedState,t,r)},useTransition:function(){var t=Od(nr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:Ol(t),r]},useSyncExternalStore:Xy,useId:A_,useHostTransitionStatus:jd,useFormState:h_,useActionState:h_,useOptimistic:function(t,r){var a=vt();return Je!==null?n_(a,Je,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xd,useCacheRefresh:R_};D_.useEffectEvent=m_;function Hd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=An(),f=Br(l);f.payload=r,a!=null&&(f.callback=a),r=Hr(t,f,l),r!==null&&(mn(r,t,l),Il(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=An(),f=Br(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Hr(t,f,l),r!==null&&(mn(r,t,l),Il(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=An(),l=Br(a);l.tag=2,r!=null&&(l.callback=r),r=Hr(t,l,a),r!==null&&(mn(r,t,a),Il(r,t,a))}};function O_(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!El(a,l)||!El(f,d):!0}function M_(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&qd.enqueueReplaceState(r,r.state,null)}function ra(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function V_(t){Eu(t)}function k_(t){console.error(t)}function P_(t){Eu(t)}function qu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function L_(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fd(t,r,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){qu(t,r)},a}function U_(t){return t=Br(t),t.tag=3,t}function j_(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){L_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){L_(r,a,l),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function FS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xa(r,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?th():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===xu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),gm(t,l,f)),!1;case 22:return a.flags|=65536,l===xu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),gm(t,l,f)),!1}throw Error(s(435,a.tag))}return gm(t,l,f),th(),!1}if(je)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==cd&&(t=Error(s(422),{cause:l}),wl(kn(t,a)))):(l!==cd&&(r=Error(s(423),{cause:l}),wl(kn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=kn(l,a),f=Fd(t.stateNode,l,f),Ed(t,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Hl===null?Hl=[d]:Hl.push(d),ft!==4&&(ft=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Fd(a.stateNode,l,t),Ed(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=U_(f),j_(f,t,a,l),Ed(a,f),!1}a=a.return}while(a!==null);return!1}var Gd=Error(s(461)),Nt=!1;function Gt(t,r,a,l){r.child=t===null?qy(r,null,a,l):na(r,t.child,a,l)}function z_(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ws(r),l=Rd(t,r,a,_,d,f),b=Cd(),t!==null&&!Nt?(Id(t,r,f),ir(t,r,f)):(je&&b&&od(r),r.flags|=1,Gt(t,r,l,f),r.child)}function B_(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,H_(t,r,d,l,f)):(t=Su(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Zd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(_,l)&&t.ref===r.ref)return ir(t,r,f)}return r.flags|=1,t=Ji(d,l),t.ref=r.ref,t.return=r,r.child=t}function H_(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(El(d,l)&&t.ref===r.ref)if(Nt=!1,r.pendingProps=l=d,Zd(t,f))(t.flags&131072)!==0&&(Nt=!0);else return r.lanes=t.lanes,ir(t,r,f)}return $d(t,r,a,l,f)}function q_(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return F_(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Iu(r,d!==null?d.cachePool:null),d!==null?$y(r,d):bd(),Ky(r);else return l=r.lanes=536870912,F_(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Iu(r,d.cachePool),$y(r,d),Fr(),r.memoizedState=null):(t!==null&&Iu(r,null),bd(),Fr());return Gt(t,r,f,a),r.child}function kl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function F_(t,r,a,l,f){var d=pd();return d=d===null?null:{parent:Ct._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&Iu(r,null),bd(),Ky(r),t!==null&&Xa(t,r,l,!0),r.childLanes=f,null}function Fu(t,r){return r=$u({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function G_(t,r,a){return na(r,t.child,null,a),t=Fu(r,r.pendingProps),t.flags|=2,bn(r),r.memoizedState=null,t}function GS(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(je){if(l.mode==="hidden")return t=Fu(r,l),r.lanes=536870912,kl(null,t);if(Sd(r),(t=it)?(t=iv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Iy(t),a.return=r,r.child=a,qt=r,it=null)):t=null,t===null)throw Ur(r);return r.lanes=536870912,null}return Fu(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Sd(r),f)if(r.flags&256)r.flags&=-257,r=G_(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Nt||Xa(t,r,a,!1),f=(a&t.childLanes)!==0,Nt||f){if(l=et,l!==null&&(_=nl(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ys(t,_),mn(l,t,_),Gd;th(),r=G_(t,r,a)}else t=d.treeContext,it=zn(_.nextSibling),qt=r,je=!0,Lr=null,Un=!1,t!==null&&Dy(r,t),r=Fu(r,l),r.flags|=4096;return r}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Gu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function $d(t,r,a,l,f){return Ws(r),a=Rd(t,r,a,l,void 0,f),l=Cd(),t!==null&&!Nt?(Id(t,r,f),ir(t,r,f)):(je&&l&&od(r),r.flags|=1,Gt(t,r,a,f),r.child)}function $_(t,r,a,l,f,d){return Ws(r),r.updateQueue=null,a=Qy(r,l,a,f),Yy(t),l=Cd(),t!==null&&!Nt?(Id(t,r,d),ir(t,r,d)):(je&&l&&od(r),r.flags|=1,Gt(t,r,a,d),r.child)}function K_(t,r,a,l,f){if(Ws(r),r.stateNode===null){var d=$a,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},_d(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):$a,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Hd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&qd.enqueueReplaceState(d,d.state,null),xl(r,l,d,f),Nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,x=ra(a,b);d.props=x;var H=d.context,X=a.contextType;_=$a,typeof X=="object"&&X!==null&&(_=Ft(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&M_(r,d,l,_),zr=!1;var F=r.memoizedState;d.state=F,xl(r,l,d,f),Nl(),H=r.memoizedState,b||F!==H||zr?(typeof ne=="function"&&(Hd(r,a,ne,l),H=r.memoizedState),(x=zr||O_(r,a,x,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,vd(t,r),_=r.memoizedProps,X=ra(a,_),d.props=X,ne=r.pendingProps,F=d.context,H=a.contextType,x=$a,typeof H=="object"&&H!==null&&(x=Ft(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||F!==x)&&M_(r,d,l,x),zr=!1,F=r.memoizedState,d.state=F,xl(r,l,d,f),Nl();var K=r.memoizedState;_!==ne||F!==K||zr||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof b=="function"&&(Hd(r,a,b,l),K=r.memoizedState),(X=zr||O_(r,a,X,l,F,K,x)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=x,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Gu(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=na(r,t.child,null,f),r.child=na(r,null,a,f)):Gt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=ir(t,r,f),t}function Y_(t,r,a,l){return Xs(),r.flags|=256,Gt(t,r,a,l),r.child}var Kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(t){return{baseLanes:t,cachePool:Ly()}}function Qd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Sn),t}function Q_(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(je){if(f?qr(r):Fr(),(t=it)?(t=iv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Pr!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},a=Iy(t),a.return=r,r.child=a,qt=r,it=null)):t=null,t===null)throw Ur(r);return Dm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Fr(),f=r.mode,b=$u({mode:"hidden",children:b},f),l=Qs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Yd(a),l.childLanes=Qd(t,_,a),r.memoizedState=Kd,kl(null,l)):(qr(r),Xd(r,b))}var x=t.memoizedState;if(x!==null&&(b=x.dehydrated,b!==null)){if(d)r.flags&256?(qr(r),r.flags&=-257,r=Jd(t,r,a)):r.memoizedState!==null?(Fr(),r.child=t.child,r.flags|=128,r=null):(Fr(),b=l.fallback,f=r.mode,l=$u({mode:"visible",children:l.children},f),b=Qs(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,na(r,t.child,null,a),l=r.child,l.memoizedState=Yd(a),l.childLanes=Qd(t,_,a),r.memoizedState=Kd,r=kl(null,l));else if(qr(r),Dm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,wl({value:l,source:null,stack:null}),r=Jd(t,r,a)}else if(Nt||Xa(t,r,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=et,_!==null&&(l=nl(_,a),l!==0&&l!==x.retryLane))throw x.retryLane=l,Ys(t,l),mn(_,t,l),Gd;xm(b)||th(),r=Jd(t,r,a)}else xm(b)?(r.flags|=192,r.child=t.child,r=null):(t=x.treeContext,it=zn(b.nextSibling),qt=r,je=!0,Lr=null,Un=!1,t!==null&&Dy(r,t),r=Xd(r,l.children),r.flags|=4096);return r}return f?(Fr(),b=l.fallback,f=r.mode,x=t.child,H=x.sibling,l=Ji(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,H!==null?b=Ji(H,b):(b=Qs(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,kl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Yd(a):(f=b.cachePool,f!==null?(x=Ct._currentValue,f=f.parent!==x?{parent:x,pool:x}:f):f=Ly(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Qd(t,_,a),r.memoizedState=Kd,kl(t.child,l)):(qr(r),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Xd(t,r){return r=$u({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function $u(t,r){return t=En(22,t,null,r),t.lanes=0,t}function Jd(t,r,a){return na(r,t.child,null,a),t=Xd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function X_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),fd(t.return,r,a)}function Wd(t,r,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function J_(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=_t.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,W(_t,_),Gt(t,r,l,a),l=je?bl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,a,r);else if(t.tag===19)X_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Vu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Wd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Vu(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Wd(r,!0,a,null,d,l);break;case"together":Wd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function ir(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Kr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xa(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Ji(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Zd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function $S(t,r,a){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),jr(r,Ct,t.memoizedState.cache),Xs();break;case 27:case 5:xs(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Q_(t,r,a):(qr(r),t=ir(t,r,a),t!==null?t.sibling:null);qr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xa(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return J_(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(_t,_t.current),l)break;return null;case 22:return r.lanes=0,q_(t,r,a,r.pendingProps);case 24:jr(r,Ct,t.memoizedState.cache)}return ir(t,r,a)}function W_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Zd(t,a)&&(r.flags&128)===0)return Nt=!1,$S(t,r,a);Nt=(t.flags&131072)!==0}else Nt=!1,je&&(r.flags&1048576)!==0&&xy(r,bl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ea(r.elementType),r.type=t,typeof t=="function")rd(t)?(l=ra(t,l),r.tag=1,r=K_(null,r,t,l,a)):(r.tag=0,r=$d(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===ce){r.tag=11,r=z_(null,r,t,l,a);break e}else if(f===I){r.tag=14,r=B_(null,r,t,l,a);break e}}throw r=$e(t)||t,Error(s(306,r,""))}}return r;case 0:return $d(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ra(l,r.pendingProps),K_(t,r,l,f,a);case 3:e:{if(tt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,vd(t,r),xl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,jr(r,Ct,l),l!==d.cache&&dd(r,[Ct],a,!0),Nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Y_(t,r,l,a);break e}else if(l!==f){f=kn(Error(s(424)),r),wl(f),r=Y_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=zn(t.firstChild),qt=r,je=!0,Lr=null,Un=!0,a=qy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xs(),l===f){r=ir(t,r,a);break e}Gt(t,r,l,a)}r=r.child}return r;case 26:return Gu(t,r),t===null?(a=cv(r.type,null,r.pendingProps,null))?r.memoizedState=a:je||(a=r.type,t=r.pendingProps,l=lh(be.current).createElement(a),l[St]=r,l[Lt]=t,$t(l,a,t),At(l),r.stateNode=l):r.memoizedState=cv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return xs(r),t===null&&je&&(l=r.stateNode=av(r.type,r.pendingProps,be.current),qt=r,Un=!0,f=it,Wr(r.type)?(Om=f,it=zn(l.firstChild)):it=f),Gt(t,r,r.pendingProps.children,a),Gu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&je&&((f=l=it)&&(l=bA(l,r.type,r.pendingProps,Un),l!==null?(r.stateNode=l,qt=r,it=zn(l.firstChild),Un=!1,f=!0):f=!1),f||Ur(r)),xs(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Cm(f,d)?l=null:_!==null&&Cm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Rd(t,r,LS,null,null,a),Xl._currentValue=f),Gu(t,r),Gt(t,r,l,a),r.child;case 6:return t===null&&je&&((t=a=it)&&(a=wA(a,r.pendingProps,Un),a!==null?(r.stateNode=a,qt=r,it=null,t=!0):t=!1),t||Ur(r)),null;case 13:return Q_(t,r,a);case 4:return tt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=na(r,null,l,a):Gt(t,r,l,a),r.child;case 11:return z_(t,r,r.type,r.pendingProps,a);case 7:return Gt(t,r,r.pendingProps,a),r.child;case 8:return Gt(t,r,r.pendingProps.children,a),r.child;case 12:return Gt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,jr(r,r.type,l.value),Gt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ws(r),f=Ft(f),l=l(f),r.flags|=1,Gt(t,r,l,a),r.child;case 14:return B_(t,r,r.type,r.pendingProps,a);case 15:return H_(t,r,r.type,r.pendingProps,a);case 19:return J_(t,r,a);case 31:return GS(t,r,a);case 22:return q_(t,r,a,r.pendingProps);case 24:return Ws(r),l=Ft(Ct),t===null?(f=pd(),f===null&&(f=et,d=md(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},_d(r),jr(r,Ct,f)):((t.lanes&a)!==0&&(vd(t,r),xl(r,null,null,a),Nl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),jr(r,Ct,l)):(l=d.cache,jr(r,Ct,l),l!==f.cache&&dd(r,[Ct],a,!0))),Gt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function rr(t){t.flags|=4}function em(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(A0())t.flags|=8192;else throw ta=xu,yd}else t.flags&=-16777217}function Z_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mv(r))if(A0())t.flags|=8192;else throw ta=xu,yd}function Ku(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Zc():536870912,t.lanes|=r,lo|=r)}function Pl(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function KS(t,r,a){var l=r.pendingProps;switch(ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),er(Ct),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qa(r)?rr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ud())),rt(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(rr(r),d!==null?(rt(r),Z_(r,d)):(rt(r),em(r,f,null,l,a))):d?d!==t.memoizedState?(rr(r),rt(r),Z_(r,d)):(rt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&rr(r),rt(r),em(r,f,t,l,a)),null;case 27:if(Ca(r),a=be.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}t=se.current,Qa(r)?Oy(r):(t=av(f,l,a),r.stateNode=t,rr(r))}return rt(r),null;case 5:if(Ca(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(d=se.current,Qa(r))Oy(r);else{var _=lh(be.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[St]=r,d[Lt]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch($t(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rr(r)}}return rt(r),em(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&rr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Qa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=qt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[St]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q0(t.nodeValue,a)),t||Ur(r,!0)}else t=lh(t).createTextNode(l),t[St]=r,r.stateNode=t}return rt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),t=!1}else a=ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(bn(r),r):(bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return rt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Qa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[St]=r}else Xs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=ud(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(bn(r),r):(bn(r),null)}return bn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Ku(r,r.updateQueue),rt(r),null);case 4:return at(),t===null&&bm(r.stateNode.containerInfo),rt(r),null;case 10:return er(r.type),rt(r),null;case 19:if(ee(_t),l=r.memoizedState,l===null)return rt(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Pl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Vu(t),d!==null){for(r.flags|=128,Pl(l,!1),t=d.updateQueue,r.updateQueue=t,Ku(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Cy(a,t),a=a.sibling;return W(_t,_t.current&1|2),je&&Wi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&nn()>Wu&&(r.flags|=128,f=!0,Pl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Vu(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Ku(r,t),Pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!je)return rt(r),null}else 2*nn()-l.renderingStartTime>Wu&&a!==536870912&&(r.flags|=128,f=!0,Pl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=_t.current,W(_t,f?a&1|2:a&1),je&&Wi(r,l.treeForkCount),t):(rt(r),null);case 22:case 23:return bn(r),wd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),a=r.updateQueue,a!==null&&Ku(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ee(Zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),er(Ct),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function YS(t,r){switch(ld(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return er(Ct),at(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ca(r),null;case 31:if(r.memoizedState!==null){if(bn(r),r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(bn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Xs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ee(_t),null;case 4:return at(),null;case 10:return er(r.type),null;case 22:case 23:return bn(r),wd(),t!==null&&ee(Zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return er(Ct),null;case 25:return null;default:return null}}function e0(t,r){switch(ld(r),r.tag){case 3:er(Ct),at();break;case 26:case 27:case 5:Ca(r);break;case 4:at();break;case 31:r.memoizedState!==null&&bn(r);break;case 13:bn(r);break;case 19:ee(_t);break;case 10:er(r.type);break;case 22:case 23:bn(r),wd(),t!==null&&ee(Zs);break;case 24:er(Ct)}}function Ll(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Qe(r,r.return,b)}}function Gr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var x=a,H=b;try{H()}catch(X){Qe(f,x,X)}}}l=l.next}while(l!==d)}}catch(X){Qe(r,r.return,X)}}function t0(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Gy(r,a)}catch(l){Qe(t,t.return,l)}}}function n0(t,r,a){a.props=ra(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qe(t,r,l)}}function Ul(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Qe(t,r,f)}}function xi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Qe(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Qe(t,r,f)}else a.current=null}function i0(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Qe(t,t.return,f)}}function tm(t,r,a){try{var l=t.stateNode;pA(l,t.type,a,r),l[Lt]=r}catch(f){Qe(t,t.return,f)}}function r0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Wr(t.type)||t.tag===4}function nm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Wr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function im(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Xn));else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(im(t,r,a),t=t.sibling;t!==null;)im(t,r,a),t=t.sibling}function Yu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Wr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yu(t,r,a),t=t.sibling;t!==null;)Yu(t,r,a),t=t.sibling}function s0(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[St]=t,r[Lt]=a}catch(d){Qe(t,t.return,d)}}var sr=!1,xt=!1,rm=!1,a0=typeof WeakSet=="function"?WeakSet:Set,jt=null;function QS(t,r){if(t=t.containerInfo,Am=gh,t=_y(t),Jf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,x=-1,H=0,X=0,ne=t,F=null;t:for(;;){for(var K;ne!==a||f!==0&&ne.nodeType!==3||(b=_+f),ne!==d||l!==0&&ne.nodeType!==3||(x=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(K=ne.firstChild)!==null;)F=ne,ne=K;for(;;){if(ne===t)break t;if(F===a&&++H===f&&(b=_),F===d&&++X===l&&(x=_),(K=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=K}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rm={focusedElem:t,selectionRange:a},gh=!1,jt=r;jt!==null;)if(r=jt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,jt=t;else for(;jt!==null;){switch(r=jt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=ra(a.type,f);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Qe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,jt=t;break}jt=r.return}}function o0(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:or(t,a),l&4&&Ll(5,a);break;case 1:if(or(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Qe(a,a.return,_)}else{var f=ra(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(a,a.return,_)}}l&64&&t0(a),l&512&&Ul(a,a.return);break;case 3:if(or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Gy(t,r)}catch(_){Qe(a,a.return,_)}}break;case 27:r===null&&l&4&&s0(a);case 26:case 5:or(t,a),r===null&&l&4&&i0(a),l&512&&Ul(a,a.return);break;case 12:or(t,a);break;case 31:or(t,a),l&4&&u0(t,a);break;case 13:or(t,a),l&4&&h0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=rA.bind(null,a),SA(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){r=r!==null&&r.memoizedState!==null||xt,f=sr;var d=xt;sr=l,(xt=r)&&!d?lr(t,a,(a.subtreeFlags&8772)!==0):or(t,a),sr=f,xt=d}break;case 30:break;default:or(t,a)}}function l0(t){var r=t.alternate;r!==null&&(t.alternate=null,l0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Oa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,un=!1;function ar(t,r,a){for(a=a.child;a!==null;)c0(t,r,a),a=a.sibling}function c0(t,r,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount($n,a)}catch{}switch(a.tag){case 26:xt||xi(a,r),ar(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||xi(a,r);var l=lt,f=un;Wr(a.type)&&(lt=a.stateNode,un=!1),ar(t,r,a),Kl(a.stateNode),lt=l,un=f;break;case 5:xt||xi(a,r);case 6:if(l=lt,f=un,lt=null,ar(t,r,a),lt=l,un=f,lt!==null)if(un)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Qe(a,r,d)}else try{lt.removeChild(a.stateNode)}catch(d){Qe(a,r,d)}break;case 18:lt!==null&&(un?(t=lt,tv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):tv(lt,a.stateNode));break;case 4:l=lt,f=un,lt=a.stateNode.containerInfo,un=!0,ar(t,r,a),lt=l,un=f;break;case 0:case 11:case 14:case 15:Gr(2,a,r),xt||Gr(4,a,r),ar(t,r,a);break;case 1:xt||(xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&n0(a,r,l)),ar(t,r,a);break;case 21:ar(t,r,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,ar(t,r,a),xt=l;break;default:ar(t,r,a)}}function u0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){Qe(r,r.return,a)}}}function h0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){Qe(r,r.return,a)}}function XS(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new a0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new a0),r;default:throw Error(s(435,t.tag))}}function Qu(t,r){var a=XS(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=sA.bind(null,t,l);l.then(f,f)}})}function hn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Wr(b.type)){lt=b.stateNode,un=!1;break e}break;case 5:lt=b.stateNode,un=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,un=!0;break e}b=b.return}if(lt===null)throw Error(s(160));c0(d,_,f),lt=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)f0(r,t),r=r.sibling}var ni=null;function f0(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(r,t),fn(t),l&4&&(Gr(3,t,t.return),Ll(3,t),Gr(5,t,t.return));break;case 1:hn(r,t),fn(t),l&512&&(xt||a===null||xi(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ni;if(hn(r,t),fn(t),l&512&&(xt||a===null||xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[pi]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=fv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=fv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else dv(f,t.type,t.stateNode);else t.stateNode=hv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?dv(f,t.type,t.stateNode):hv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&tm(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(r,t),fn(t),l&512&&(xt||a===null||xi(a,a.return)),a!==null&&l&4&&tm(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,t),fn(t),l&512&&(xt||a===null||xi(a,a.return)),t.flags&32){f=t.stateNode;try{cn(f,"")}catch(he){Qe(t,t.return,he)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,tm(t,f,a!==null?a.memoizedProps:f)),l&1024&&(rm=!0);break;case 6:if(hn(r,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Qe(t,t.return,he)}}break;case 3:if(hh=null,f=ni,ni=ch(r.containerInfo),hn(r,t),ni=f,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(r.containerInfo)}catch(he){Qe(t,t.return,he)}rm&&(rm=!1,d0(t));break;case 4:l=ni,ni=ch(t.stateNode.containerInfo),hn(r,t),fn(t),ni=l;break;case 12:hn(r,t),fn(t);break;case 31:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 13:hn(r,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ju=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 22:f=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,H=sr,X=xt;if(sr=H||f,xt=X||x,hn(r,t),xt=X,sr=H,fn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||sr||xt||sa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=x.stateNode;var ne=x.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(he){Qe(x,x.return,he)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(he){Qe(x,x.return,he)}}}else if(r.tag===18){if(a===null){x=r;try{var K=x.stateNode;f?nv(K,!0):nv(x.stateNode,!1)}catch(he){Qe(x,x.return,he)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qu(t,a))));break;case 19:hn(r,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qu(t,l)));break;case 30:break;case 21:break;default:hn(r,t),fn(t)}}function fn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(r0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=nm(t);Yu(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var b=nm(t);Yu(t,b,_);break;case 3:case 4:var x=a.stateNode.containerInfo,H=nm(t);im(t,H,x);break;default:throw Error(s(161))}}catch(X){Qe(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function d0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;d0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function or(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)o0(t,r.alternate,r),r=r.sibling}function sa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Gr(4,r,r.return),sa(r);break;case 1:xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&n0(r,r.return,a),sa(r);break;case 27:Kl(r.stateNode);case 26:case 5:xi(r,r.return),sa(r);break;case 22:r.memoizedState===null&&sa(r);break;case 30:sa(r);break;default:sa(r)}t=t.sibling}}function lr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:lr(f,d,a),Ll(4,d);break;case 1:if(lr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Qe(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)Fy(x[f],b)}catch(H){Qe(l,l.return,H)}}a&&_&64&&t0(d),Ul(d,d.return);break;case 27:s0(d);case 26:case 5:lr(f,d,a),a&&l===null&&_&4&&i0(d),Ul(d,d.return);break;case 12:lr(f,d,a);break;case 31:lr(f,d,a),a&&_&4&&u0(f,d);break;case 13:lr(f,d,a),a&&_&4&&h0(f,d);break;case 22:d.memoizedState===null&&lr(f,d,a),Ul(d,d.return);break;case 30:break;default:lr(f,d,a)}r=r.sibling}}function sm(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function am(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t))}function ii(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)m0(t,r,a,l),r=r.sibling}function m0(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ii(t,r,a,l),f&2048&&Ll(9,r);break;case 1:ii(t,r,a,l);break;case 3:ii(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t)));break;case 12:if(f&2048){ii(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Qe(r,r.return,x)}}else ii(t,r,a,l);break;case 31:ii(t,r,a,l);break;case 13:ii(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ii(t,r,a,l):jl(t,r):d._visibility&2?ii(t,r,a,l):(d._visibility|=2,so(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&sm(_,r);break;case 24:ii(t,r,a,l),f&2048&&am(r.alternate,r);break;default:ii(t,r,a,l)}}function so(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,b=a,x=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:so(d,_,b,x,f),Ll(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?so(d,_,b,x,f):jl(d,_):(X._visibility|=2,so(d,_,b,x,f)),f&&H&2048&&sm(_.alternate,_);break;case 24:so(d,_,b,x,f),f&&H&2048&&am(_.alternate,_);break;default:so(d,_,b,x,f)}r=r.sibling}}function jl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:jl(a,l),f&2048&&sm(l.alternate,l);break;case 24:jl(a,l),f&2048&&am(l.alternate,l);break;default:jl(a,l)}r=r.sibling}}var zl=8192;function ao(t,r,a){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)g0(t,r,a),t=t.sibling}function g0(t,r,a){switch(t.tag){case 26:ao(t,r,a),t.flags&zl&&t.memoizedState!==null&&PA(a,ni,t.memoizedState,t.memoizedProps);break;case 5:ao(t,r,a);break;case 3:case 4:var l=ni;ni=ch(t.stateNode.containerInfo),ao(t,r,a),ni=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,ao(t,r,a),zl=l):ao(t,r,a));break;default:ao(t,r,a)}}function p0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Bl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,_0(l,t)}p0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y0(t),t=t.sibling}function y0(t){switch(t.tag){case 0:case 11:case 15:Bl(t),t.flags&2048&&Gr(9,t,t.return);break;case 3:Bl(t);break;case 12:Bl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Xu(t)):Bl(t);break;default:Bl(t)}}function Xu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,_0(l,t)}p0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Gr(8,r,r.return),Xu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(r));break;default:Xu(r)}t=t.sibling}}function _0(t,r){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var f=l.sibling,d=l.return;if(l0(l),l===a){jt=null;break e}if(f!==null){f.return=d,jt=f;break e}jt=d}}}var JS={getCacheForType:function(t){var r=Ft(Ct),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return Ft(Ct).controller.signal}},WS=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,De=null,Me=0,Ye=0,wn=null,$r=!1,oo=!1,om=!1,cr=0,ft=0,Kr=0,aa=0,lm=0,Sn=0,lo=0,Hl=null,dn=null,cm=!1,Ju=0,v0=0,Wu=1/0,Zu=null,Yr=null,kt=0,Qr=null,co=null,ur=0,um=0,hm=null,E0=null,ql=0,fm=null;function An(){return(Fe&2)!==0&&Me!==0?Me&-Me:Q.T!==null?_m():eu()}function T0(){if(Sn===0)if((Me&536870912)===0||je){var t=Ms;Ms<<=1,(Ms&3932160)===0&&(Ms=262144),Sn=t}else Sn=536870912;return t=Tn.current,t!==null&&(t.flags|=32),Sn}function mn(t,r,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(uo(t,0),Xr(t,Me,Sn,!1)),Vs(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(aa|=a),ft===4&&Xr(t,Me,Sn,!1)),Di(t))}function b0(t,r,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Kn(t,r),f=l?tA(t,r):mm(t,r,!0),d=l;do{if(f===0){oo&&!l&&Xr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!ZS(a)){f=mm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=Hl;var x=b.current.memoizedState.isDehydrated;if(x&&(uo(b,_).flags|=256),_=mm(b,_,!1),_!==2){if(om&&!x){b.errorRecoveryDisabledLanes|=d,aa|=d,f=4;break e}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){uo(t,0),Xr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Xr(l,r,Sn,!$r);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ju+300-nn(),10<f)){if(Xr(l,r,Sn,!$r),di(l,0,!0)!==0)break e;ur=r,l.timeoutHandle=Z0(w0.bind(null,l,a,dn,Zu,cm,r,Sn,aa,lo,$r,d,"Throttled",-0,0),f);break e}w0(l,a,dn,Zu,cm,r,Sn,aa,lo,$r,d,null,-0,0)}}break}while(!0);Di(t)}function w0(t,r,a,l,f,d,_,b,x,H,X,ne,F,K){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},g0(r,d,ne);var he=(d&62914560)===d?Ju-nn():(d&4194048)===d?v0-nn():0;if(he=LA(ne,he),he!==null){ur=d,t.cancelPendingCommit=he(D0.bind(null,t,r,d,a,l,f,_,b,x,X,ne,null,F,K)),Xr(t,d,_,!H);return}}D0(t,r,d,a,l,f,_,b,x)}function ZS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xr(t,r,a,l){r&=~lm,r&=~aa,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-pt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ks(t,a,r)}function eh(){return(Fe&6)===0?(Fl(0),!1):!0}function dm(){if(De!==null){if(Ye===0)var t=De.return;else t=De,Zi=Js=null,Nd(t),eo=null,Rl=0,t=De;for(;t!==null;)e0(t.alternate,t),t=t.return;De=null}}function uo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ur=0,dm(),et=t,De=a=Ji(t.current,null),Me=r,Ye=0,wn=null,$r=!1,oo=Kn(t,r),om=!1,lo=Sn=lm=aa=Kr=ft=0,dn=Hl=null,cm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-pt(l),d=1<<f;r|=t[f],l&=~d}return cr=r,Tu(),a}function S0(t,r){Ie=null,Q.H=Vl,r===Za||r===Nu?(r=zy(),Ye=3):r===yd?(r=zy(),Ye=4):Ye=r===Gd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,De===null&&(ft=1,qu(t,kn(r,t.current)))}function A0(){var t=Tn.current;return t===null?!0:(Me&4194048)===Me?jn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===jn:!1}function R0(){var t=Q.H;return Q.H=Vl,t===null?Vl:t}function C0(){var t=Q.A;return Q.A=JS,t}function th(){ft=4,$r||(Me&4194048)!==Me&&Tn.current!==null||(oo=!0),(Kr&134217727)===0&&(aa&134217727)===0||et===null||Xr(et,Me,Sn,!1)}function mm(t,r,a){var l=Fe;Fe|=2;var f=R0(),d=C0();(et!==t||Me!==r)&&(Zu=null,uo(t,r)),r=!1;var _=ft;e:do try{if(Ye!==0&&De!==null){var b=De,x=wn;switch(Ye){case 8:dm(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var H=Ye;if(Ye=0,wn=null,ho(t,b,x,H),a&&oo){_=0;break e}break;default:H=Ye,Ye=0,wn=null,ho(t,b,x,H)}}eA(),_=ft;break}catch(X){S0(t,X)}while(!0);return r&&t.shellSuspendCounter++,Zi=Js=null,Fe=l,Q.H=f,Q.A=d,De===null&&(et=null,Me=0,Tu()),_}function eA(){for(;De!==null;)I0(De)}function tA(t,r){var a=Fe;Fe|=2;var l=R0(),f=C0();et!==t||Me!==r?(Zu=null,Wu=nn()+500,uo(t,r)):oo=Kn(t,r);e:do try{if(Ye!==0&&De!==null){r=De;var d=wn;t:switch(Ye){case 1:Ye=0,wn=null,ho(t,r,d,1);break;case 2:case 9:if(Uy(d)){Ye=0,wn=null,N0(r);break}r=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Di(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Uy(d)?(Ye=0,wn=null,N0(r)):(Ye=0,wn=null,ho(t,r,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var b=De;if(_?mv(_):b.stateNode.complete){Ye=0,wn=null;var x=b.sibling;if(x!==null)De=x;else{var H=b.return;H!==null?(De=H,nh(H)):De=null}break t}}Ye=0,wn=null,ho(t,r,d,5);break;case 6:Ye=0,wn=null,ho(t,r,d,6);break;case 8:dm(),ft=6;break e;default:throw Error(s(462))}}nA();break}catch(X){S0(t,X)}while(!0);return Zi=Js=null,Q.H=l,Q.A=f,Fe=a,De!==null?0:(et=null,Me=0,Tu(),ft)}function nA(){for(;De!==null&&!Ff();)I0(De)}function I0(t){var r=W_(t.alternate,t,cr);t.memoizedProps=t.pendingProps,r===null?nh(t):De=r}function N0(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=$_(a,r,r.pendingProps,r.type,void 0,Me);break;case 11:r=$_(a,r,r.pendingProps,r.type.render,r.ref,Me);break;case 5:Nd(r);default:e0(a,r),r=De=Cy(r,cr),r=W_(a,r,cr)}t.memoizedProps=t.pendingProps,r===null?nh(t):De=r}function ho(t,r,a,l){Zi=Js=null,Nd(r),eo=null,Rl=0;var f=r.return;try{if(FS(t,f,r,a,Me)){ft=1,qu(t,kn(a,t.current)),De=null;return}}catch(d){if(f!==null)throw De=f,d;ft=1,qu(t,kn(a,t.current)),De=null;return}r.flags&32768?(je||l===1?t=!0:oo||(Me&536870912)!==0?t=!1:($r=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),x0(r,t)):nh(r)}function nh(t){var r=t;do{if((r.flags&32768)!==0){x0(r,$r);return}t=r.return;var a=KS(r.alternate,r,cr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ft===0&&(ft=5)}function x0(t,r){do{var a=YS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function D0(t,r,a,l,f,d,_,b,x){t.cancelPendingCommit=null;do ih();while(kt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=nd,Kf(t,a,d,_,b,x),t===et&&(De=et=null,Me=0),co=r,Qr=t,ur=a,um=d,hm=f,E0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aA(Rr,function(){return P0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=oe.p,oe.p=2,_=Fe,Fe|=4;try{QS(t,r,a)}finally{Fe=_,oe.p=f,Q.T=l}}kt=1,O0(),M0(),V0()}}function O0(){if(kt===1){kt=0;var t=Qr,r=co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var f=Fe;Fe|=4;try{f0(r,t);var d=Rm,_=_y(t.containerInfo),b=d.focusedElem,x=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&yy(b.ownerDocument.documentElement,b)){if(x!==null&&Jf(b)){var H=x.start,X=x.end;if(X===void 0&&(X=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(X,b.value.length);else{var ne=b.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var K=F.getSelection(),he=b.textContent.length,_e=Math.min(x.start,he),Ze=x.end===void 0?_e:Math.min(x.end,he);!K.extend&&_e>Ze&&(_=Ze,Ze=_e,_e=_);var P=py(b,_e),M=py(b,Ze);if(P&&M&&(K.rangeCount!==1||K.anchorNode!==P.node||K.anchorOffset!==P.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=ne.createRange();B.setStart(P.node,P.offset),K.removeAllRanges(),_e>Ze?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(ne=[],K=b;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var te=ne[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}gh=!!Am,Rm=Am=null}finally{Fe=f,oe.p=l,Q.T=a}}t.current=r,kt=2}}function M0(){if(kt===2){kt=0;var t=Qr,r=co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var f=Fe;Fe|=4;try{o0(t,r.alternate,r)}finally{Fe=f,oe.p=l,Q.T=a}}kt=3}}function V0(){if(kt===4||kt===3){kt=0,Kc();var t=Qr,r=co,a=ur,l=E0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?kt=5:(kt=0,co=Qr=null,k0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Yr=null),Ki(a),r=r.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot($n,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,f=oe.p,oe.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Q.T=r,oe.p=f}}(ur&3)!==0&&ih(),Di(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===fm?ql++:(ql=0,fm=t):ql=0,Fl(0)}}function k0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Sl(r)))}function ih(){return O0(),M0(),V0(),P0()}function P0(){if(kt!==5)return!1;var t=Qr,r=um;um=0;var a=Ki(ur),l=Q.T,f=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=hm,hm=null;var d=Qr,_=ur;if(kt=0,co=Qr=null,ur=0,(Fe&6)!==0)throw Error(s(331));var b=Fe;if(Fe|=4,y0(d.current),m0(d,d.current,_,a),Fe=b,Fl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot($n,d)}catch{}return!0}finally{oe.p=f,Q.T=l,k0(t,r)}}function L0(t,r,a){r=kn(a,r),r=Fd(t.stateNode,r,2),t=Hr(t,r,2),t!==null&&(Vs(t,2),Di(t))}function Qe(t,r,a){if(t.tag===3)L0(t,t,a);else for(;r!==null;){if(r.tag===3){L0(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){t=kn(a,t),a=U_(2),l=Hr(r,a,2),l!==null&&(j_(a,l,r,t),Vs(l,2),Di(l));break}}r=r.return}}function gm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new WS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(om=!0,f.add(a),t=iA.bind(null,t,r,a),r.then(t,t))}function iA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Me&a)===a&&(ft===4||ft===3&&(Me&62914560)===Me&&300>nn()-Ju?(Fe&2)===0&&uo(t,0):lm|=a,lo===Me&&(lo=0)),Di(t)}function U0(t,r){r===0&&(r=Zc()),t=Ys(t,r),t!==null&&(Vs(t,r),Di(t))}function rA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),U0(t,a)}function sA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),U0(t,a)}function aA(t,r){return Vt(t,r)}var rh=null,fo=null,pm=!1,sh=!1,ym=!1,Jr=0;function Di(t){t!==fo&&t.next===null&&(fo===null?rh=fo=t:fo=fo.next=t),sh=!0,pm||(pm=!0,lA())}function Fl(t,r){if(!ym&&sh){ym=!0;do for(var a=!1,l=rh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,H0(l,d))}else d=Me,d=di(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(a=!0,H0(l,d));l=l.next}while(a);ym=!1}}function oA(){j0()}function j0(){sh=pm=!1;var t=0;Jr!==0&&_A()&&(t=Jr);for(var r=nn(),a=null,l=rh;l!==null;){var f=l.next,d=z0(l,r);d===0?(l.next=null,a===null?rh=f:a.next=f,f===null&&(fo=a)):(a=l,(t!==0||(d&3)!==0)&&(sh=!0)),l=f}kt!==0&&kt!==5||Fl(t),Jr!==0&&(Jr=0)}function z0(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),b=1<<_,x=f[_];x===-1?((b&a)===0||(b&l)!==0)&&(f[_]=$f(b,r)):x<=r&&(t.expiredLanes|=b),d&=~b}if(r=et,a=Me,a=di(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ar(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Kn(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Ar(l),Ki(a)){case 2:case 8:a=el;break;case 32:a=Rr;break;case 268435456:a=Yc;break;default:a=Rr}return l=B0.bind(null,t),a=Vt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Ar(l),t.callbackPriority=2,t.callbackNode=null,2}function B0(t,r){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ih()&&t.callbackNode!==a)return null;var l=Me;return l=di(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(b0(t,l,r),z0(t,nn()),t.callbackNode!=null&&t.callbackNode===a?B0.bind(null,t):null)}function H0(t,r){if(ih())return null;b0(t,r,!0)}function lA(){EA(function(){(Fe&6)!==0?Vt(Zo,oA):j0()})}function _m(){if(Jr===0){var t=Ja;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Jr=t}return Jr}function q0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Pa(""+t)}function F0(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function cA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=q0((f[Lt]||null).action),_=l.submitter;_&&(r=(r=_[Lt]||null)?q0(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Si("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Jr!==0){var x=_?F0(f,_):new FormData(f);Ud(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=_?F0(f,_):new FormData(f),Ud(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var vm=0;vm<td.length;vm++){var Em=td[vm],uA=Em.toLowerCase(),hA=Em[0].toUpperCase()+Em.slice(1);ti(uA,"on"+hA)}ti(Ty,"onAnimationEnd"),ti(by,"onAnimationIteration"),ti(wy,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(CS,"onTransitionRun"),ti(IS,"onTransitionStart"),ti(NS,"onTransitionCancel"),ti(Sy,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function G0(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],x=b.instance,H=b.currentTarget;if(b=b.listener,x!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(X){Eu(X)}f.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(b=l[_],x=b.instance,H=b.currentTarget,b=b.listener,x!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(X){Eu(X)}f.currentTarget=null,d=x}}}}function Oe(t,r){var a=r[Da];a===void 0&&(a=r[Da]=new Set);var l=t+"__bubble";a.has(l)||($0(r,t,2,!1),a.add(l))}function Tm(t,r,a){var l=0;r&&(l|=4),$0(a,t,l,r)}var ah="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[ah]){t[ah]=!0,il.forEach(function(a){a!=="selectionchange"&&(fA.has(a)||Tm(a,!1,t),Tm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ah]||(r[ah]=!0,Tm("selectionchange",!1,r))}}function $0(t,r,a,l){switch(Tv(r)){case 2:var f=zA;break;case 8:f=BA;break;default:f=Lm}a=f.bind(null,r,a,t),f=void 0,!zs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function wm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=yi(b),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Or(function(){var H=d,X=Dn(a),ne=[];e:{var F=Ay.get(t);if(F!==void 0){var K=Si,he=t;switch(t){case"keypress":if(Hs(a)===0)break e;case"keydown":case"keyup":K=yu;break;case"focusin":he="focus",K=Fs;break;case"focusout":he="blur",K=Fs;break;case"beforeblur":case"afterblur":K=Fs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Ty:case by:case wy:K=uu;break;case Sy:K=w;break;case"scroll":case"scrollend":K=gl;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xi;break;case"toggle":case"beforetoggle":K=Ce}var _e=(r&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),P=_e?F!==null?F+"Capture":null:F;_e=[];for(var M=H,B;M!==null;){var te=M;if(B=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||B===null||P===null||(te=Jn(M,P),te!=null&&_e.push($l(M,te,B))),Ze)break;M=M.return}0<_e.length&&(F=new K(F,he,null,a,X),ne.push({event:F,listeners:_e}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==fl&&(he=a.relatedTarget||a.fromElement)&&(yi(he)||he[gi]))break e;if((K||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=H,he=he?yi(he):null,he!==null&&(Ze=c(he),_e=he.tag,he!==Ze||_e!==5&&_e!==27&&_e!==6)&&(he=null)):(K=null,he=H),K!==he)){if(_e=pl,te="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Xi,te="onPointerLeave",P="onPointerEnter",M="pointer"),Ze=K==null?F:yn(K),B=he==null?F:yn(he),F=new _e(te,M+"leave",K,a,X),F.target=Ze,F.relatedTarget=B,te=null,yi(X)===H&&(_e=new _e(P,M+"enter",he,a,X),_e.target=B,_e.relatedTarget=Ze,te=_e),Ze=te,K&&he)t:{for(_e=dA,P=K,M=he,B=0,te=P;te;te=_e(te))B++;te=0;for(var me=M;me;me=_e(me))te++;for(;0<B-te;)P=_e(P),B--;for(;0<te-B;)M=_e(M),te--;for(;B--;){if(P===M||M!==null&&P===M.alternate){_e=P;break t}P=_e(P),M=_e(M)}_e=null}else _e=null;K!==null&&K0(ne,F,K,_e,!1),he!==null&&Ze!==null&&K0(ne,Ze,he,_e,!0)}}e:{if(F=H?yn(H):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Be=uy;else if(ly(F))if(hy)Be=SS;else{Be=bS;var fe=TS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&ka(H.elementType)&&(Be=uy):Be=wS;if(Be&&(Be=Be(t,H))){cy(ne,Be,a,X);break e}fe&&fe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&cl(F,"number",F.value)}switch(fe=H?yn(H):window,t){case"focusin":(ly(fe)||fe.contentEditable==="true")&&(qa=fe,Wf=H,Tl=null);break;case"focusout":Tl=Wf=qa=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,vy(ne,a,X);break;case"selectionchange":if(RS)break;case"keydown":case"keyup":vy(ne,a,X)}var Ne;if(qe)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Ha?Gs(t,a)&&(Ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ci&&a.locale!=="ko"&&(Ha||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Ha&&(Ne=ml()):(wi=X,dl="value"in wi?wi.value:wi.textContent,Ha=!0)),fe=oh(H,Ve),0<fe.length&&(Ve=new Ri(Ve,t,null,a,X),ne.push({event:Ve,listeners:fe}),Ne?Ve.data=Ne:(Ne=Ba(a),Ne!==null&&(Ve.data=Ne)))),(Ne=Mn?yS(t,a):_S(t,a))&&(Ve=oh(H,"onBeforeInput"),0<Ve.length&&(fe=new Ri("onBeforeInput","beforeinput",null,a,X),ne.push({event:fe,listeners:Ve}),fe.data=Ne)),cA(ne,t,H,a,X)}G0(ne,r)})}function $l(t,r,a){return{instance:t,listener:r,currentTarget:a}}function oh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Jn(t,a),f!=null&&l.unshift($l(t,f,d)),f=Jn(t,r),f!=null&&l.push($l(t,f,d))),t.tag===3)return l;t=t.return}return[]}function dA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K0(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,x=b.alternate,H=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||H===null||(x=H,f?(H=Jn(a,d),H!=null&&_.unshift($l(a,H,x))):f||(H=Jn(a,d),H!=null&&_.push($l(a,H,x)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var mA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function Y0(t){return(typeof t=="string"?t:""+t).replace(mA,`
`).replace(gA,"")}function Q0(t,r){return r=Y0(r),Y0(t)===r}function We(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&cn(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":hl(t,l,d);break;case"data":if(r!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",f.name,f,null),We(t,r,"formEncType",f.formEncType,f,null),We(t,r,"formMethod",f.formMethod,f,null),We(t,r,"formTarget",f.formTarget,f,null)):(We(t,r,"encType",f.encType,f,null),We(t,r,"method",f.method,f,null),We(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ou.get(a)||a,Ma(t,a,l))}}function Sm(t,r,a,l,f,d){switch(a){case"style":hl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,_,a,null)}}f&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=_=f=null,x=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":x=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(t,r,l,X,a,null)}}ru(t,d,b,x,H,_,f,!1);return;case"select":Oe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:We(t,r,f,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Ir(t,!!l,r,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,r,_,b,a,null)}Nr(t,l,f,d);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,x,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Gl.length;l++)Oe(Gl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,H,l,a,null)}return;default:if(ka(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Sm(t,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,r,b,l,a,null))}function pA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,x=null,H=null,X=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=ne;default:l.hasOwnProperty(K)||We(t,r,K,null,l,ne)}}for(var F in l){var K=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(K!=null||ne!=null))switch(F){case"type":d=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ne&&We(t,r,F,K,l,ne)}}Va(t,_,b,x,H,X,d,f);return;case"select":K=_=b=F=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(d)||We(t,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==x&&We(t,r,f,d,l,x)}r=b,a=_,l=K,F!=null?Ir(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ir(t,!!a,r,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,r,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":F=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&We(t,r,_,f,l,d)}su(t,F,K);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,r,he,null,l,F)}for(x in l)if(F=l[x],K=a[x],l.hasOwnProperty(x)&&F!==K&&(F!=null||K!=null))switch(x){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,r,x,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&We(t,r,_e,null,l,F);for(H in l)if(F=l[H],K=a[H],l.hasOwnProperty(H)&&F!==K&&(F!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,H,F,l,K)}return;default:if(ka(r)){for(var Ze in a)F=a[Ze],a.hasOwnProperty(Ze)&&F!==void 0&&!l.hasOwnProperty(Ze)&&Sm(t,r,Ze,void 0,l,F);for(X in l)F=l[X],K=a[X],!l.hasOwnProperty(X)||F===K||F===void 0&&K===void 0||Sm(t,r,X,F,l,K);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&We(t,r,P,null,l,F);for(ne in l)F=l[ne],K=a[ne],!l.hasOwnProperty(ne)||F===K||F==null&&K==null||We(t,r,ne,F,l,K)}function X0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&X0(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var x=a[l],H=x.startTime;if(H>b)break;var X=x.transferSize,ne=x.initiatorType;X&&X0(ne)&&(x=x.responseEnd,_+=X*(x<b?1:(b-H)/(x-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Am=null,Rm=null;function lh(t){return t.nodeType===9?t:t.ownerDocument}function J0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Cm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Im=null;function _A(){var t=window.event;return t&&t.type==="popstate"?t===Im?!1:(Im=t,!0):(Im=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,ev=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof ev<"u"?function(t){return ev.resolve(null).then(t).catch(TA)}:Z0;function TA(t){setTimeout(function(){throw t})}function Wr(t){return t==="head"}function tv(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),yo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[pi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Kl(t.ownerDocument.body);a=f}while(a);yo(r)}function nv(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Nm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nm(a),Oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function bA(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function wA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function iv(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function xm(t){return t.data==="$?"||t.data==="$~"}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function SA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Om=null;function rv(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return zn(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function sv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function av(t,r,a){switch(r=lh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Kl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Oa(t)}var Bn=new Map,ov=new Set;function ch(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=oe.d;oe.d={f:AA,r:RA,D:CA,C:IA,L:NA,m:xA,X:OA,S:DA,M:MA};function AA(){var t=hr.f(),r=eh();return t||r}function RA(t){var r=xn(t);r!==null&&r.tag===5&&r.type==="form"?S_(r):hr.r(t)}var mo=typeof document>"u"?null:document;function lv(t,r,a){var l=mo;if(l&&typeof r=="string"&&r){var f=ln(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),ov.has(f)||(ov.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),At(r),l.head.appendChild(r)))}}function CA(t){hr.D(t),lv("dns-prefetch",t,null)}function IA(t,r){hr.C(t,r),lv("preconnect",t,r)}function NA(t,r,a){hr.L(t,r,a);var l=mo;if(l&&t&&r){var f='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(t)+'"]';var d=f;switch(r){case"style":d=go(t);break;case"script":d=po(t)}Bn.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Bn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Yl(d))||r==="script"&&l.querySelector(Ql(d))||(r=l.createElement("link"),$t(r,"link",t),At(r),l.head.appendChild(r)))}}function xA(t,r){hr.m(t,r);var a=mo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=po(t)}if(!Bn.has(d)&&(t=T({rel:"modulepreload",href:t},r),Bn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),$t(l,"link",t),At(l),a.head.appendChild(l)}}}function DA(t,r,a){hr.S(t,r,a);var l=mo;if(l&&t){var f=_i(l).hoistableStyles,d=go(t);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Yl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Bn.get(d))&&Mm(t,a);var x=_=l.createElement("link");At(x),$t(x,"link",t),x._p=new Promise(function(H,X){x.onload=H,x.onerror=X}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,uh(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function OA(t,r){hr.X(t,r);var a=mo;if(a&&t){var l=_i(a).hoistableScripts,f=po(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=T({src:t,async:!0},r),(r=Bn.get(f))&&Vm(t,r),d=a.createElement("script"),At(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function MA(t,r){hr.M(t,r);var a=mo;if(a&&t){var l=_i(a).hoistableScripts,f=po(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=Bn.get(f))&&Vm(t,r),d=a.createElement("script"),At(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function cv(t,r,a,l){var f=(f=be.current)?ch(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=go(a.href),a=_i(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=go(a.href);var d=_i(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||VA(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=po(a),a=_i(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function go(t){return'href="'+ln(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function uv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function VA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),At(r),t.head.appendChild(r))}function po(t){return'[src="'+ln(t)+'"]'}function Ql(t){return"script[async]"+t}function hv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,At(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),$t(l,"style",f),uh(l,a.precedence,t),r.instance=l;case"stylesheet":f=go(a.href);var d=t.querySelector(Yl(f));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=uv(a),(f=Bn.get(f))&&Mm(l,f),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),$t(d,"link",l),r.state.loading|=4,uh(d,a.precedence,t),r.instance=d;case"script":return d=po(a.src),(f=t.querySelector(Ql(d)))?(r.instance=f,At(f),f):(l=a,(f=Bn.get(d))&&(l=T({},a),Vm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),At(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,uh(l,a.precedence,t));return r.instance}function uh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Mm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Vm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var hh=null;function fv(t,r,a){if(hh===null){var l=new Map,f=hh=new Map;f.set(a,l)}else f=hh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[pi]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function dv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function kA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function PA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=go(l.href),d=r.querySelector(Yl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=fh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=r.ownerDocument||r,l=uv(l),(f=Bn.get(f))&&Mm(l,f),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(b,x){_.onload=b,_.onerror=x}),$t(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=fh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var km=0;function LA(t,r){return t.stylesheets&&t.count===0&&mh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&km===0&&(km=62500*yA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&mh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>km?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var dh=null;function mh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,dh=new Map,r.forEach(UA,t),dh=null,fh.call(t))}function UA(t,r){if(!(r.state.loading&4)){var a=dh.get(t);if(a)var l=a.get(null);else{a=new Map,dh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=fh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Xl={$$typeof:J,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function jA(t,r,a,l,f,d,_,b,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function gv(t,r,a,l,f,d,_,b,x,H,X,ne){return t=new jA(t,r,a,_,x,H,X,ne,b),r=1,d===!0&&(r|=24),d=En(3,null,null,r),t.current=d,d.stateNode=t,r=md(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},_d(d),t}function pv(t){return t?(t=$a,t):$a}function yv(t,r,a,l,f,d){f=pv(f),l.context===null?l.context=f:l.pendingContext=f,l=Br(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hr(t,l,r),a!==null&&(mn(a,t,r),Il(a,t,r))}function _v(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Pm(t,r){_v(t,r),(t=t.alternate)&&_v(t,r)}function vv(t){if(t.tag===13||t.tag===31){var r=Ys(t,67108864);r!==null&&mn(r,t,67108864),Pm(t,67108864)}}function Ev(t){if(t.tag===13||t.tag===31){var r=An();r=Ps(r);var a=Ys(t,r);a!==null&&mn(a,t,r),Pm(t,r)}}var gh=!0;function zA(t,r,a,l){var f=Q.T;Q.T=null;var d=oe.p;try{oe.p=2,Lm(t,r,a,l)}finally{oe.p=d,Q.T=f}}function BA(t,r,a,l){var f=Q.T;Q.T=null;var d=oe.p;try{oe.p=8,Lm(t,r,a,l)}finally{oe.p=d,Q.T=f}}function Lm(t,r,a,l){if(gh){var f=Um(l);if(f===null)wm(t,r,l,ph,a),bv(t,l);else if(qA(f,t,r,a,l))l.stopPropagation();else if(bv(t,l),r&4&&-1<HA.indexOf(t)){for(;f!==null;){var d=xn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=fi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var x=1<<31-pt(_);b.entanglements[1]|=x,_&=~x}Di(d),(Fe&6)===0&&(Wu=nn()+500,Fl(0))}}break;case 31:case 13:b=Ys(d,2),b!==null&&mn(b,d,2),eh(),Pm(d,2)}if(d=Um(l),d===null&&wm(t,r,l,ph,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else wm(t,r,l,null,a)}}function Um(t){return t=Dn(t),jm(t)}var ph=null;function jm(t){if(ph=null,t=yi(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=u(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ph=t,null}function Tv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Os()){case Zo:return 2;case el:return 8;case Rr:case Gf:return 32;case Yc:return 268435456;default:return 32}default:return 32}}var zm=!1,Zr=null,es=null,ts=null,Jl=new Map,Wl=new Map,ns=[],HA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bv(t,r){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Zl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=xn(r),r!==null&&vv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function qA(t,r,a,l,f){switch(r){case"focusin":return Zr=Zl(Zr,t,r,a,l,f),!0;case"dragenter":return es=Zl(es,t,r,a,l,f),!0;case"mouseover":return ts=Zl(ts,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Jl.set(d,Zl(Jl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Wl.set(d,Zl(Wl.get(d)||null,t,r,a,l,f)),!0}return!1}function wv(t){var r=yi(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){t.blockedOn=r,Yn(t.priority,function(){Ev(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,Yn(t.priority,function(){Ev(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);fl=l,a.target.dispatchEvent(l),fl=null}else return r=xn(a),r!==null&&vv(r),t.blockedOn=a,!1;r.shift()}return!0}function Sv(t,r,a){yh(t)&&a.delete(r)}function FA(){zm=!1,Zr!==null&&yh(Zr)&&(Zr=null),es!==null&&yh(es)&&(es=null),ts!==null&&yh(ts)&&(ts=null),Jl.forEach(Sv),Wl.forEach(Sv)}function _h(t,r){t.blockedOn===r&&(t.blockedOn=null,zm||(zm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,FA)))}var vh=null;function Av(t){vh!==t&&(vh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){vh===t&&(vh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(jm(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(r,3),r-=3,Ud(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function yo(t){function r(x){return _h(x,t)}Zr!==null&&_h(Zr,t),es!==null&&_h(es,t),ts!==null&&_h(ts,t),Jl.forEach(r),Wl.forEach(r);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)wv(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||Av(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)b=_.formAction;else if(jm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Av(a)}}}function Rv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Bm(t){this._internalRoot=t}Eh.prototype.render=Bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();yv(a,l,t,r,null,null)},Eh.prototype.unmount=Bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;yv(t.current,2,null,t,null,null),eh(),r[gi]=null}};function Eh(t){this._internalRoot=t}Eh.prototype.unstable_scheduleHydration=function(t){if(t){var r=eu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ns.length&&r!==0&&r<ns[a].priority;a++);ns.splice(a,0,t),a===0&&wv(t)}};var Cv=e.version;if(Cv!=="19.2.0")throw Error(s(527,Cv,"19.2.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var GA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{$n=Th.inject(GA),Bt=Th}catch{}}return tc.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=V_,d=k_,_=P_;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=gv(t,1,!1,null,null,a,l,null,f,d,_,Rv),t[gi]=r.current,bm(t),new Bm(r)},tc.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=V_,_=k_,b=P_,x=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),r=gv(t,1,!0,r,a??null,l,f,x,d,_,b,Rv),r.context=pv(null),a=r.current,l=An(),l=Ps(l),f=Br(l),f.callback=null,Hr(a,f,l),a=l,r.current.lanes=a,Vs(r,a),Di(r),t[gi]=r.current,bm(t),new Eh(r)},tc.version="19.2.0",tc}var Lv;function rR(){if(Lv)return Fm.exports;Lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fm.exports=iR(),Fm.exports}var sR=rR();const aR=BT(sR),oR="modulepreload",lR=function(i){return"/"+i},Uv={},Ea=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=u(n.map(p=>{if(p=lR(p),p in Uv)return;Uv[p]=!0;const E=p.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${T}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":oR,E||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),E)return new Promise((O,j)=>{S.addEventListener("load",O),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(u){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=u,window.dispatchEvent(m),!m.defaultPrevented)throw u}return o.then(u=>{for(const m of u||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})};function cR(i){const e=i.toLowerCase(),n=[{industry:"Software",keywords:["react","node","javascript","typescript","frontend","backend","fullstack","api","microservice","devops","docker","kubernetes"]},{industry:"FinTech",keywords:["fintech","ngn hng","bank","core banking","ti chnh s","thanh ton","payment gateway"]},{industry:"E-commerce",keywords:["e-commerce","thng mi in t","checkout","gi hng","shopify","magento"]},{industry:"Healthcare",keywords:["healthcare","y t","medical","patient","hospital","clinic","chm sc sc khe"]},{industry:"Education",keywords:["edtech","education","hc tp","elearning","trng hc","sinh vin"]},{industry:"Logistics",keywords:["logistics","vn ti","supply chain","warehouse","kho vn"]},{industry:"Agriculture",keywords:["agri","nng nghip","farm","trng trt","chn nui"]},{industry:"Real Estate",keywords:["bt ng sn","real estate","property","estate platform"]},{industry:"Telecommunications",keywords:["vin thng","telecom","5g","network operations"]}];for(const s of n)for(const o of s.keywords)if(e.includes(o))return s.industry;return null}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jv="popstate";function uR(i={}){function e(o,c){let{pathname:u="/",search:m="",hash:g=""}=Ta(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),_g("",{pathname:u,search:m,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(o,c){let u=o.document.querySelector("base"),m="";if(u&&u.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof c=="string"?c:pc(c))}function s(o,c){si(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return fR(e,n,s,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function si(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hR(){return Math.random().toString(36).substring(2,10)}function zv(i,e){return{usr:i.state,key:i.key,idx:e}}function _g(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ta(e):e,state:n,key:e&&e.key||s||hR()}}function pc({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ta(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function fR(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,u=o.history,m="POP",g=null,p=E();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function E(){return(u.state||{idx:null}).idx}function T(){m="POP";let q=E(),re=q==null?null:q-p;p=q,g&&g({action:m,location:$.location,delta:re})}function S(q,re){m="PUSH";let Y=_g($.location,q,re);n&&n(Y,q),p=E()+1;let J=zv(Y,p),ce=$.createHref(Y);try{u.pushState(J,"",ce)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(ce)}c&&g&&g({action:m,location:$.location,delta:1})}function O(q,re){m="REPLACE";let Y=_g($.location,q,re);n&&n(Y,q),p=E();let J=zv(Y,p),ce=$.createHref(Y);u.replaceState(J,"",ce),c&&g&&g({action:m,location:$.location,delta:0})}function j(q){return dR(q)}let $={get action(){return m},get location(){return i(o,u)},listen(q){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(jv,T),g=q,()=>{o.removeEventListener(jv,T),g=null}},createHref(q){return e(o,q)},createURL:j,encodeLocation(q){let re=j(q);return{pathname:re.pathname,search:re.search,hash:re.hash}},push:S,replace:O,go(q){return u.go(q)}};return $}function dR(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:pc(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function HT(i,e,n="/"){return mR(i,e,n,!1)}function mR(i,e,n,s){let o=typeof e=="string"?Ta(e):e,c=vr(o.pathname||"/",n);if(c==null)return null;let u=qT(i);gR(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let p=RR(c);m=SR(u[g],p,s)}return m}function qT(i,e=[],n=[],s="",o=!1){let c=(u,m,g=o,p)=>{let E={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;ct(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=pr([s,E.relativePath]),S=n.concat(E);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),qT(u.children,e,S,T,g)),!(u.path==null&&!u.index)&&e.push({path:T,score:bR(T,u.index),routesMeta:S})};return i.forEach((u,m)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))c(u,m);else for(let p of FT(u.path))c(u,m,!0,p)}),e}function FT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let u=FT(s.join("/")),m=[];return m.push(...u.map(g=>g===""?c:[c,g].join("/"))),o&&m.push(...u),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function gR(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:wR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var pR=/^:[\w-]+$/,yR=3,_R=2,vR=1,ER=10,TR=-2,Bv=i=>i==="*";function bR(i,e){let n=i.split("/"),s=n.length;return n.some(Bv)&&(s+=TR),e&&(s+=_R),n.filter(o=>!Bv(o)).reduce((o,c)=>o+(pR.test(c)?yR:c===""?vR:ER),s)}function wR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function SR(i,e,n=!1){let{routesMeta:s}=i,o={},c="/",u=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",T=Gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!T&&p&&n&&!s[s.length-1].route.index&&(T=Gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),u.push({params:o,pathname:pr([c,T.pathname]),pathnameBase:xR(pr([c,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(c=pr([c,T.pathnameBase]))}return u}function Gh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=AR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:T},S)=>{if(E==="*"){let j=m[S]||"";u=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const O=m[S];return T&&!O?p[E]=void 0:p[E]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:i}}function AR(i,e=!1,n=!0){si(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function RR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function vr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function CR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ta(i):i;return{pathname:n?n.startsWith("/")?n:IR(n,e):e,search:DR(s),hash:OR(o)}}function IR(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ym(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GT(i){let e=NR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $T(i,e,n,s=!1){let o;typeof i=="string"?o=Ta(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let c=i===""||o.pathname==="",u=c?"/":o.pathname,m;if(u==null)m=n;else{let T=e.length-1;if(!s&&u.startsWith("..")){let S=u.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=CR(o,m),p=u&&u!=="/"&&u.endsWith("/"),E=(c||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var pr=i=>i.join("/").replace(/\/\/+/g,"/"),xR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),DR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,OR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function MR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var KT=["POST","PUT","PATCH","DELETE"];new Set(KT);var VR=["GET",...KT];new Set(VR);var zo=U.createContext(null);zo.displayName="DataRouter";var mf=U.createContext(null);mf.displayName="DataRouterState";U.createContext(!1);var YT=U.createContext({isTransitioning:!1});YT.displayName="ViewTransition";var kR=U.createContext(new Map);kR.displayName="Fetchers";var PR=U.createContext(null);PR.displayName="Await";var $i=U.createContext(null);$i.displayName="Navigation";var Ic=U.createContext(null);Ic.displayName="Location";var Sr=U.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var Zg=U.createContext(null);Zg.displayName="RouteError";function LR(i,{relative:e}={}){ct(Nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext($i),{hash:o,pathname:c,search:u}=xc(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:pr([n,c])),s.createHref({pathname:m,search:u,hash:o})}function Nc(){return U.useContext(Ic)!=null}function bs(){return ct(Nc(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Ic).location}var QT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XT(i){U.useContext($i).static||U.useLayoutEffect(i)}function JT(){let{isDataRoute:i}=U.useContext(Sr);return i?XR():UR()}function UR(){ct(Nc(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(zo),{basename:e,navigator:n}=U.useContext($i),{matches:s}=U.useContext(Sr),{pathname:o}=bs(),c=JSON.stringify(GT(s)),u=U.useRef(!1);return XT(()=>{u.current=!0}),U.useCallback((g,p={})=>{if(si(u.current,QT),!u.current)return;if(typeof g=="number"){n.go(g);return}let E=$T(g,JSON.parse(c),o,p.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:pr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,c,o,i])}U.createContext(null);function xc(i,{relative:e}={}){let{matches:n}=U.useContext(Sr),{pathname:s}=bs(),o=JSON.stringify(GT(n));return U.useMemo(()=>$T(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function jR(i,e){return WT(i,e)}function WT(i,e,n,s,o){var Y;ct(Nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=U.useContext($i),{matches:u}=U.useContext(Sr),m=u[u.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";ZT(p,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=bs(),O;if(e){let J=typeof e=="string"?Ta(e):e;ct(E==="/"||((Y=J.pathname)==null?void 0:Y.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),O=J}else O=S;let j=O.pathname||"/",$=j;if(E!=="/"){let J=E.replace(/^\//,"").split("/");$="/"+j.replace(/^\//,"").split("/").slice(J.length).join("/")}let q=HT(i,{pathname:$});si(T||q!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),si(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let re=FR(q&&q.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:pr([E,c.encodeLocation?c.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:pr([E,c.encodeLocation?c.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),u,n,s,o);return e&&re?U.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},re):re}function zR(){let i=QR(),e=MR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",i),u=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:c},"ErrorBoundary")," or"," ",U.createElement("code",{style:c},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,u)}var BR=U.createElement(zR,null),HR=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?U.createElement(Sr.Provider,{value:this.props.routeContext},U.createElement(Zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qR({routeContext:i,match:e,children:n}){let s=U.useContext(zo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Sr.Provider,{value:i},n)}function FR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let c=i,u=n==null?void 0:n.errors;if(u!=null){let p=c.findIndex(E=>E.route.id&&(u==null?void 0:u[E.route.id])!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,p+1))}let m=!1,g=-1;if(n)for(let p=0;p<c.length;p++){let E=c[p];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(g=p),E.route.id){let{loaderData:T,errors:S}=n,O=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||O){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((p,E,T)=>{let S,O=!1,j=null,$=null;n&&(S=u&&E.route.id?u[E.route.id]:void 0,j=E.route.errorElement||BR,m&&(g<0&&T===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,$=null):g===T&&(O=!0,$=E.route.hydrateFallbackElement||null)));let q=e.concat(c.slice(0,T+1)),re=()=>{let Y;return S?Y=j:O?Y=$:E.route.Component?Y=U.createElement(E.route.Component,null):E.route.element?Y=E.route.element:Y=p,U.createElement(qR,{match:E,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:Y})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?U.createElement(HR,{location:n.location,revalidation:n.revalidation,component:j,error:S,children:re(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):re()},null)}function ep(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GR(i){let e=U.useContext(zo);return ct(e,ep(i)),e}function $R(i){let e=U.useContext(mf);return ct(e,ep(i)),e}function KR(i){let e=U.useContext(Sr);return ct(e,ep(i)),e}function tp(i){let e=KR(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function YR(){return tp("useRouteId")}function QR(){var s;let i=U.useContext(Zg),e=$R("useRouteError"),n=tp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function XR(){let{router:i}=GR("useNavigate"),e=tp("useNavigate"),n=U.useRef(!1);return XT(()=>{n.current=!0}),U.useCallback(async(o,c={})=>{si(n.current,QT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...c}))},[i,e])}var Hv={};function ZT(i,e,n){!e&&!Hv[i]&&(Hv[i]=!0,si(!1,n))}U.memo(JR);function JR({routes:i,future:e,state:n,unstable_onError:s}){return WT(i,void 0,n,s,e)}function dr(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:c=!1}){ct(!Nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof n=="string"&&(n=Ta(n));let{pathname:g="/",search:p="",hash:E="",state:T=null,key:S="default"}=n,O=U.useMemo(()=>{let j=vr(g,u);return j==null?null:{location:{pathname:j,search:p,hash:E,state:T,key:S},navigationType:s}},[u,g,p,E,T,S,s]);return si(O!=null,`<Router basename="${u}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:U.createElement($i.Provider,{value:m},U.createElement(Ic.Provider,{children:e,value:O}))}function ZR({children:i,location:e}){return jR(vg(i),e)}function vg(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let c=[...e,o];if(s.type===U.Fragment){n.push.apply(n,vg(s.props.children,c));return}ct(s.type===dr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=vg(s.props.children,c)),n.push(u)}),n}var Oh="get",Mh="application/x-www-form-urlencoded";function gf(i){return i!=null&&typeof i.tagName=="string"}function eC(i){return gf(i)&&i.tagName.toLowerCase()==="button"}function tC(i){return gf(i)&&i.tagName.toLowerCase()==="form"}function nC(i){return gf(i)&&i.tagName.toLowerCase()==="input"}function iC(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rC(i,e){return i.button===0&&(!e||e==="_self")&&!iC(i)}var bh=null;function sC(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(i){return i!=null&&!aC.has(i)?(si(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):i}function oC(i,e){let n,s,o,c,u;if(tC(i)){let m=i.getAttribute("action");s=m?vr(m,e):null,n=i.getAttribute("method")||Oh,o=Qm(i.getAttribute("enctype"))||Mh,c=new FormData(i)}else if(eC(i)||nC(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?vr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Oh,o=Qm(i.getAttribute("formenctype"))||Qm(m.getAttribute("enctype"))||Mh,c=new FormData(m,i),!sC()){let{name:p,type:E,value:T}=i;if(E==="image"){let S=p?`${p}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else p&&c.append(p,T)}}else{if(gf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,s=null,o=Mh,u=i}return c&&o==="text/plain"&&(u=c,c=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function np(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function lC(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&vr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function cC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hC(i,e,n){let s=await Promise.all(i.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await cC(c,n);return u.links?u.links():[]}return[]}));return gC(s.flat(1).filter(uC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qv(i,e,n,s,o,c){let u=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,p)=>u(g,p)||m(g,p)):c==="data"?e.filter((g,p)=>{var T;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(u(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function fC(i,e,{includeHydrateFallback:n}={}){return dC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function dC(i){return[...new Set(i)]}function mC(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function gC(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let c=JSON.stringify(mC(o));return n.has(c)||(n.add(c),s.push({key:c,link:o})),s},[])}function e1(){let i=U.useContext(zo);return np(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function pC(){let i=U.useContext(mf);return np(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ip=U.createContext(void 0);ip.displayName="FrameworkContext";function t1(){let i=U.useContext(ip);return np(i,"You must render this element inside a <HydratedRouter> element"),i}function yC(i,e){let n=U.useContext(ip),[s,o]=U.useState(!1),[c,u]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:T}=e,S=U.useRef(null);U.useEffect(()=>{if(i==="render"&&u(!0),i==="viewport"){let $=re=>{re.forEach(Y=>{u(Y.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[i]),U.useEffect(()=>{if(s){let $=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},j=()=>{o(!1),u(!1)};return n?i!=="intent"?[c,S,{}]:[c,S,{onFocus:nc(m,O),onBlur:nc(g,j),onMouseEnter:nc(p,O),onMouseLeave:nc(E,j),onTouchStart:nc(T,O)}]:[!1,S,{}]}function nc(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function _C({page:i,...e}){let{router:n}=e1(),s=U.useMemo(()=>HT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(EC,{page:i,matches:s,...e}):null}function vC(i){let{manifest:e,routeModules:n}=t1(),[s,o]=U.useState([]);return U.useEffect(()=>{let c=!1;return hC(i,e,n).then(u=>{c||o(u)}),()=>{c=!0}},[i,e,n]),s}function EC({page:i,matches:e,...n}){let s=bs(),{manifest:o,routeModules:c}=t1(),{basename:u}=e1(),{loaderData:m,matches:g}=pC(),p=U.useMemo(()=>qv(i,e,g,o,s,"data"),[i,e,g,o,s]),E=U.useMemo(()=>qv(i,e,g,o,s,"assets"),[i,e,g,o,s]),T=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(re=>{var J;let Y=o.routes[re.route.id];!Y||!Y.hasLoader||(!p.some(ce=>ce.route.id===re.route.id)&&re.route.id in m&&((J=c[re.route.id])!=null&&J.shouldRevalidate)||Y.hasClientLoader?$=!0:j.add(re.route.id))}),j.size===0)return[];let q=lC(i,u,"data");return $&&j.size>0&&q.searchParams.set("_routes",e.filter(re=>j.has(re.route.id)).map(re=>re.route.id).join(",")),[q.pathname+q.search]},[u,m,s,o,p,e,i,c]),S=U.useMemo(()=>fC(E,o),[E,o]),O=vC(E);return U.createElement(U.Fragment,null,T.map(j=>U.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),S.map(j=>U.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),O.map(({key:j,link:$})=>U.createElement("link",{key:j,nonce:n.nonce,...$})))}function TC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var n1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n1&&(window.__reactRouterVersion="7.9.4")}catch{}function bC({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=uR({window:n,v5Compat:!0}));let o=s.current,[c,u]=U.useState({action:o.action,location:o.location}),m=U.useCallback(g=>{U.startTransition(()=>u(g))},[u]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(WR,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:o})}var i1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r1=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:c,replace:u,state:m,target:g,to:p,preventScrollReset:E,viewTransition:T,...S},O){let{basename:j}=U.useContext($i),$=typeof p=="string"&&i1.test(p),q,re=!1;if(typeof p=="string"&&$&&(q=p,n1))try{let R=new URL(window.location.href),k=p.startsWith("//")?new URL(R.protocol+p):new URL(p),D=vr(k.pathname,j);k.origin===R.origin&&D!=null?p=D+k.search+k.hash:re=!0}catch{si(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=LR(p,{relative:o}),[J,ce,pe]=yC(s,S),ye=RC(p,{replace:u,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:T});function I(R){e&&e(R),R.defaultPrevented||ye(R)}let A=U.createElement("a",{...S,...pe,href:q||Y,onClick:re||c?e:I,ref:TC(O,ce),target:g,"data-discover":!$&&n==="render"?"true":void 0});return J&&!$?U.createElement(U.Fragment,null,A,U.createElement(_C,{page:Y})):A});r1.displayName="Link";var wC=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:c,to:u,viewTransition:m,children:g,...p},E){let T=xc(u,{relative:p.relative}),S=bs(),O=U.useContext(mf),{navigator:j,basename:$}=U.useContext($i),q=O!=null&&DC(T)&&m===!0,re=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,Y=S.pathname,J=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),J=J?J.toLowerCase():null,re=re.toLowerCase()),J&&$&&(J=vr(J,$)||J);const ce=re!=="/"&&re.endsWith("/")?re.length-1:re.length;let pe=Y===re||!o&&Y.startsWith(re)&&Y.charAt(ce)==="/",ye=J!=null&&(J===re||!o&&J.startsWith(re)&&J.charAt(re.length)==="/"),I={isActive:pe,isPending:ye,isTransitioning:q},A=pe?e:void 0,R;typeof s=="function"?R=s(I):R=[s,pe?"active":null,ye?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(I):c;return U.createElement(r1,{...p,"aria-current":A,className:R,ref:E,style:k,to:u,viewTransition:m},typeof g=="function"?g(I):g)});wC.displayName="NavLink";var SC=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:c,method:u=Oh,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:T,...S},O)=>{let j=NC(),$=xC(m,{relative:p}),q=u.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&i1.test(m),Y=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let ce=J.nativeEvent.submitter,pe=(ce==null?void 0:ce.getAttribute("formmethod"))||u;j(ce||J.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:T})};return U.createElement("form",{ref:O,method:q,action:$,onSubmit:s?g:Y,...S,"data-discover":!re&&i==="render"?"true":void 0})});SC.displayName="Form";function AC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s1(i){let e=U.useContext(zo);return ct(e,AC(i)),e}function RC(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:u}={}){let m=JT(),g=bs(),p=xc(i,{relative:c});return U.useCallback(E=>{if(rC(E,e)){E.preventDefault();let T=n!==void 0?n:pc(g)===pc(p);m(i,{replace:T,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[g,m,p,n,s,e,i,o,c,u])}var CC=0,IC=()=>`__${String(++CC)}__`;function NC(){let{router:i}=s1("useSubmit"),{basename:e}=U.useContext($i),n=YR();return U.useCallback(async(s,o={})=>{let{action:c,method:u,encType:m,formData:g,body:p}=oC(s,e);if(o.navigate===!1){let E=o.fetcherKey||IC();await i.fetch(E,n,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function xC(i,{relative:e}={}){let{basename:n}=U.useContext($i),s=U.useContext(Sr);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...xc(i||".",{relative:e})},u=bs();if(i==null){c.search=u.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();c.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:pr([n,c.pathname])),pc(c)}function DC(i,{relative:e}={}){let n=U.useContext(YT);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s1("useViewTransitionState"),o=xc(i,{relative:e});if(!n.isTransitioning)return!1;let c=vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gh(o.pathname,u)!=null||Gh(o.pathname,c)!=null}const OC=()=>{};var Fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},MC=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],m=i[n++],g=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],u=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},o1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,E=c>>2,T=(c&3)<<4|m>>4;let S=(m&15)<<2|p>>6,O=p&63;g||(O=64,u||(S=64)),s.push(n[E],n[T],n[S],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(a1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):MC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const p=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||p==null||T==null)throw new VC;const S=c<<2|m>>4;if(s.push(S),p!==64){const O=m<<4&240|p>>2;if(s.push(O),T!==64){const j=p<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class VC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kC=function(i){const e=a1(i);return o1.encodeByteArray(e,!0)},$h=function(i){return kC(i).replace(/\./g,"")},l1=function(i){try{return o1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=()=>PC().__FIREBASE_DEFAULTS__,UC=()=>{if(typeof process>"u"||typeof Fv>"u")return;const i=Fv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},jC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&l1(i[1]);return e&&JSON.parse(e)},pf=()=>{try{return OC()||LC()||UC()||jC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},c1=i=>{var e,n;return(n=(e=pf())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},zC=i=>{const e=c1(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},u1=()=>{var i;return(i=pf())==null?void 0:i.config},h1=i=>{var e;return(e=pf())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f1(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[$h(JSON.stringify(n)),$h(JSON.stringify(u)),""].join(".")}const uc={};function qC(){const i={prod:[],emulator:[]};for(const e of Object.keys(uc))uc[e]?i.emulator.push(e):i.prod.push(e);return i}function FC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Gv=!1;function d1(i,e){if(typeof window>"u"||typeof document>"u"||!Bo(window.location.host)||uc[i]===e||uc[i]||Gv)return;uc[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=qC().prod.length>0;function u(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Gv=!0,u()},S}function E(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=FC(s),O=n("text"),j=document.getElementById(O)||document.createElement("span"),$=n("learnmore"),q=document.getElementById($)||document.createElement("a"),re=n("preprendIcon"),Y=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),E(q,$);const ce=p();g(Y,re),J.append(Y,j,q,ce),document.body.appendChild(J)}c?(j.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function $C(){var e;const i=(e=pf())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function m1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function YC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QC(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XC(){return!$C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function p1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function JC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="FirebaseError";class ci extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=WC,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?ZC(c,s):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new ci(o,m,s)}}function ZC(i,e){return i.replace(eI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eI=/\{\$([^}]+)}/g;function tI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function gs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],u=e[o];if($v(c)&&$v(u)){if(!gs(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function $v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function rc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function sc(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function nI(i,e){const n=new iI(i,e);return n.subscribe.bind(n)}class iI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");rI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Xm),o.error===void 0&&(o.error=Xm),o.complete===void 0&&(o.complete=Xm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Xm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1e3,aI=2,oI=14400*1e3,lI=.5;function Kv(i,e=sI,n=aI){const s=e*Math.pow(n,i),o=Math.round(lI*s*(Math.random()-.5)*2);return Math.min(oI,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(i){return i&&i._delegate?i._delegate:i}class ai{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new BC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hI(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uI(i){return i===la?void 0:i}function hI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const dI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},mI=ke.INFO,gI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},pI=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=gI[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yf{constructor(e){this.name=e,this._logLevel=mI,this._logHandler=pI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const yI=(i,e)=>e.some(n=>i instanceof n);let Yv,Qv;function _I(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vI(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y1=new WeakMap,Eg=new WeakMap,_1=new WeakMap,Jm=new WeakMap,rp=new WeakMap;function EI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(hs(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&y1.set(n,i)}).catch(()=>{}),rp.set(e,i),e}function TI(i){if(Eg.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});Eg.set(i,e)}let Tg={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Eg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||_1.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bI(i){Tg=i(Tg)}function wI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Wm(this),e,...n);return _1.set(s,e.sort?e.sort():[e]),hs(s)}:vI().includes(i)?function(...e){return i.apply(Wm(this),e),hs(y1.get(this))}:function(...e){return hs(i.apply(Wm(this),e))}}function SI(i){return typeof i=="function"?wI(i):(i instanceof IDBTransaction&&TI(i),yI(i,_I())?new Proxy(i,Tg):i)}function hs(i){if(i instanceof IDBRequest)return EI(i);if(Jm.has(i))return Jm.get(i);const e=SI(i);return e!==i&&(Jm.set(i,e),rp.set(e,i)),e}const Wm=i=>rp.get(i);function v1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=hs(u);return s&&u.addEventListener("upgradeneeded",g=>{s(hs(u.result),g.oldVersion,g.newVersion,hs(u.transaction),g)}),n&&u.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const AI=["get","getKey","getAll","getAllKeys","count"],RI=["put","add","delete","clear"],Zm=new Map;function Xv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AI.includes(n)))return;const c=async function(u,...m){const g=this.transaction(u,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return Zm.set(e,c),c}bI(i=>({...i,get:(e,n,s)=>Xv(e,n)||i.get(e,n,s),has:(e,n)=>!!Xv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(II(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function II(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bg="@firebase/app",Jv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new yf("@firebase/app"),NI="@firebase/app-compat",xI="@firebase/analytics-compat",DI="@firebase/analytics",OI="@firebase/app-check-compat",MI="@firebase/app-check",VI="@firebase/auth",kI="@firebase/auth-compat",PI="@firebase/database",LI="@firebase/data-connect",UI="@firebase/database-compat",jI="@firebase/functions",zI="@firebase/functions-compat",BI="@firebase/installations",HI="@firebase/installations-compat",qI="@firebase/messaging",FI="@firebase/messaging-compat",GI="@firebase/performance",$I="@firebase/performance-compat",KI="@firebase/remote-config",YI="@firebase/remote-config-compat",QI="@firebase/storage",XI="@firebase/storage-compat",JI="@firebase/firestore",WI="@firebase/ai",ZI="@firebase/firestore-compat",e2="firebase",t2="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="[DEFAULT]",n2={[bg]:"fire-core",[NI]:"fire-core-compat",[DI]:"fire-analytics",[xI]:"fire-analytics-compat",[MI]:"fire-app-check",[OI]:"fire-app-check-compat",[VI]:"fire-auth",[kI]:"fire-auth-compat",[PI]:"fire-rtdb",[LI]:"fire-data-connect",[UI]:"fire-rtdb-compat",[jI]:"fire-fn",[zI]:"fire-fn-compat",[BI]:"fire-iid",[HI]:"fire-iid-compat",[qI]:"fire-fcm",[FI]:"fire-fcm-compat",[GI]:"fire-perf",[$I]:"fire-perf-compat",[KI]:"fire-rc",[YI]:"fire-rc-compat",[QI]:"fire-gcs",[XI]:"fire-gcs-compat",[JI]:"fire-fst",[ZI]:"fire-fst-compat",[WI]:"fire-vertex","fire-js":"fire-js",[e2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,i2=new Map,Sg=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Hi(i){const e=i.name;if(Sg.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Sg.set(e,i);for(const n of Kh.values())Wv(n,i);for(const n of i2.values())Wv(n,i);return!0}function wa(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Hn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new ba("app","Firebase",r2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=t2;function E1(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:wg,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=u1()),!n)throw fs.create("no-options");const c=Kh.get(o);if(c){if(gs(n,c.options)&&gs(s,c.config))return c;throw fs.create("duplicate-app",{appName:o})}const u=new fI(o);for(const g of Sg.values())u.addComponent(g);const m=new s2(n,s,u);return Kh.set(o,m),m}function sp(i=wg){const e=Kh.get(i);if(!e&&i===wg&&u1())return E1();if(!e)throw fs.create("no-app",{appName:i});return e}function Fn(i,e,n){let s=n2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(u.join(" "));return}Hi(new ai(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="firebase-heartbeat-database",o2=1,yc="firebase-heartbeat-store";let eg=null;function T1(){return eg||(eg=v1(a2,o2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(yc)}catch(n){console.warn(n)}}}}).catch(i=>{throw fs.create("idb-open",{originalErrorMessage:i.message})})),eg}async function l2(i){try{const n=(await T1()).transaction(yc),s=await n.objectStore(yc).get(b1(i));return await n.done,s}catch(e){if(e instanceof ci)Er.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function Zv(i,e){try{const s=(await T1()).transaction(yc,"readwrite");await s.objectStore(yc).put(e,b1(i)),await s.done}catch(n){if(n instanceof ci)Er.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(s.message)}}}function b1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=1024,u2=30;class h2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=eE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(u=>u.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>u2){const u=m2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Er.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eE(),{heartbeatsToSend:s,unsentEntries:o}=f2(this._heartbeatsCache.heartbeats),c=$h(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Er.warn(n),""}}}function eE(){return new Date().toISOString().substring(0,10)}function f2(i,e=c2){const n=[];let s=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),tE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?p1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Zv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tE(i){return $h(JSON.stringify({version:2,heartbeats:i})).length}function m2(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(i){Hi(new ai("platform-logger",e=>new CI(e),"PRIVATE")),Hi(new ai("heartbeat",e=>new h2(e),"PRIVATE")),Fn(bg,Jv,i),Fn(bg,Jv,"esm2020"),Fn("fire-js","")}g2("");function w1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p2=w1,S1=new ba("auth","Firebase",w1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new yf("@firebase/auth");function y2(i,...e){Yh.logLevel<=ke.WARN&&Yh.warn(`Auth (${Ho}): ${i}`,...e)}function Vh(i,...e){Yh.logLevel<=ke.ERROR&&Yh.error(`Auth (${Ho}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(i,...e){throw ap(i,...e)}function Pi(i,...e){return ap(i,...e)}function A1(i,e,n){const s={...p2(),[e]:n};return new ba("auth","Firebase",s).create(e,{appName:i.name})}function yr(i){return A1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return S1.create(i,...e)}function Ee(i,e,...n){if(!i)throw ap(e,...n)}function mr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Vh(e),new Error(e)}function Tr(i,e){i||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function _2(){return nE()==="http:"||nE()==="https:"}function nE(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_2()||m1()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=GC()||YC()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(i,e){Tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new Oc(3e4,6e4);function ws(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ss(i,e,n,s,o={}){return C1(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const m=Dc({key:i.config.apiKey,...u}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...c};return KC()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Bo(i.emulatorConfig.host)&&(p.credentials="include"),R1.fetch()(await I1(i,i.config.apiHost,n,m),p)})}async function C1(i,e,n){i._canInitEmulator=!1;const s={...T2,...e};try{const o=new A2(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw wh(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(i,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw wh(i,"email-already-in-use",u);if(g==="USER_DISABLED")throw wh(i,"user-disabled",u);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw A1(i,E,p);oi(i,E)}}catch(o){if(o instanceof ci)throw o;oi(i,"network-request-failed",{message:String(o)})}}async function Mc(i,e,n,s,o={}){const c=await Ss(i,e,n,s,o);return"mfaPendingCredential"in c&&oi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function I1(i,e,n,s){const o=`${e}${n}?${s}`,c=i,u=c.config.emulator?op(i.config,o):`${i.config.apiScheme}://${o}`;return b2.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}function S2(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),w2.get())})}}function wh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(i,e,s);return o.customData._tokenResponse=n,o}function iE(i){return i!==void 0&&i.enterprise!==void 0}class R2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function C2(i,e){return Ss(i,"GET","/v2/recaptchaConfig",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(i,e){return Ss(i,"POST","/v1/accounts:delete",e)}async function Qh(i,e){return Ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N2(i,e=!1){const n=mt(i),s=await n.getIdToken(e),o=lp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c==null?void 0:c.sign_in_provider;return{claims:o,token:s,authTime:hc(tg(o.auth_time)),issuedAtTime:hc(tg(o.iat)),expirationTime:hc(tg(o.exp)),signInProvider:u||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function tg(i){return Number(i)*1e3}function lp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=l1(n);return o?JSON.parse(o):(Vh("Failed to decode base64 JWT payload"),null)}catch(o){return Vh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rE(i){const e=lp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ci&&x2(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function x2({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(i){var T;const e=i.auth,n=await i.getIdToken(),s=await _c(i,Qh(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=(T=o.providerUserInfo)!=null&&T.length?N1(o.providerUserInfo):[],u=M2(i.providerData,c),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!(u!=null&&u.length),p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,E)}async function O2(i){const e=mt(i);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M2(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function N1(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(i,e){const n=await C1(i,{},async()=>{const s=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await I1(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&Bo(i.emulatorConfig.host)&&(g.credentials="include"),R1.fetch()(u,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function k2(i,e){return Ss(i,"POST","/v2/accounts:revokeToken",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await V2(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new Ro;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new D2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N2(this,e)}reload(){return O2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await _c(this,I2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:O,providerData:j,stsTokenManager:$}=n;Ee(T&&$,e,"internal-error");const q=Ro.fromJSON(this.name,$);Ee(typeof T=="string",e,"internal-error"),rs(s,e.name),rs(o,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),rs(c,e.name),rs(u,e.name),rs(m,e.name),rs(g,e.name),rs(p,e.name),rs(E,e.name);const re=new ri({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:O,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:q,createdAt:p,lastLoginAt:E});return j&&Array.isArray(j)&&(re.providerData=j.map(Y=>({...Y}))),g&&(re._redirectEventId=g),re}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ro;o.updateFromServerResponse(n);const c=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Xh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?N1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new Ro;m.updateFromIdToken(s);const g=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Rg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function gr(i){Tr(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(Tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x1.type="NONE";const aE=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(i,e,n){return`firebase:${i}:${e}:${n}`}class Co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,c),this.fullPersistenceKey=kh("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Co(gr(aE),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||gr(aE);const u=kh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(u);if(E){let T;if(typeof E=="string"){const S=await Qh(e,{idToken:E}).catch(()=>{});if(!S)break;T=await ri._fromGetAccountInfoResponse(e,S,E)}else T=ri._fromJSON(e,E);p!==c&&(m=T),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Co(c,e,s):(c=g[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(u)}catch{}})),new Co(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(P1(e))return"Blackberry";if(L1(e))return"Webos";if(O1(e))return"Safari";if((e.includes("chrome/")||M1(e))&&!e.includes("edge/"))return"Chrome";if(k1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function D1(i=tn()){return/firefox\//i.test(i)}function O1(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M1(i=tn()){return/crios\//i.test(i)}function V1(i=tn()){return/iemobile/i.test(i)}function k1(i=tn()){return/android/i.test(i)}function P1(i=tn()){return/blackberry/i.test(i)}function L1(i=tn()){return/webos/i.test(i)}function cp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function P2(i=tn()){var e;return cp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function L2(){return QC()&&document.documentMode===10}function U1(i=tn()){return cp(i)||k1(i)||L1(i)||P1(i)||/windows phone/i.test(i)||V1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(i,e=[]){let n;switch(i){case"Browser":n=oE(tn());break;case"Worker":n=`${oE(tn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((u,m)=>{try{const g=e(c);u(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(i,e={}){return Ss(i,"GET","/v2/passwordPolicy",ws(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=6;class B2{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??z2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new U2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var s,o,c;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===m)&&(g!=null&&g.user)&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(yr(this));const n=e?mt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await j2(this),n=new B2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await k2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{u=!0,g()}}else{const g=e.addObserver(n);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&y2(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Sa(i){return mt(i)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=nI(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q2(i){_f=i}function z1(i){return _f.loadJS(i)}function F2(){return _f.recaptchaEnterpriseScript}function G2(){return _f.gapiScript}function $2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class K2{constructor(){this.enterprise=new Y2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Y2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q2="recaptcha-enterprise",B1="NO_RECAPTCHA";class X2{constructor(e){this.type=Q2,this.auth=Sa(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(u,m)=>{C2(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new R2(g);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,u(p.siteKey)}}).catch(g=>{m(g)})})}function o(c,u,m){const g=window.grecaptcha;iE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(p=>{u(p)}).catch(()=>{u(B1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new K2().execute("siteKey",{action:"verify"}):new Promise((c,u)=>{s(this.auth).then(m=>{if(!n&&iE(window.grecaptcha))o(m,c,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let g=F2();g.length!==0&&(g+=m),z1(g).then(()=>{o(m,c,u)}).catch(p=>{u(p)})}}).catch(m=>{u(m)})})}}async function cE(i,e,n,s=!1,o=!1){const c=new X2(i);let u;if(o)u=B1;else try{u=await c.verify(n)}catch{u=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:u}):Object.assign(m,{captchaResponse:u}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cg(i,e,n,s,o){var c;if((c=i._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await cE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await cE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i,e){const n=wa(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(gs(c,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function W2(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Z2(i,e,n){const s=Sa(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),c=H1(e),{host:u,port:m}=eN(e),g=m===null?"":`:${m}`,p={url:`${c}//${u}${g}/`},E=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(gs(p,s.config.emulator)&&gs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Bo(u)?(f1(`${c}//${u}${g}`),d1("Auth",!0)):tN()}function H1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function eN(i){const e=H1(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:uE(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:uE(u)}}}function uE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function tN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function nN(i,e){return Ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(i,e){return Mc(i,"POST","/v1/accounts:signInWithPassword",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(i,e){return Mc(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}async function sN(i,e){return Mc(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",iN);case"emailLink":return rN(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,s,"signUpPassword",nN);case"emailLink":return sN(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i,e){return Mc(i,"POST","/v1/accounts:signInWithIdp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="http://localhost";class ma extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ma(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new ma(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Io(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:aN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lN(i){const e=rc(sc(i)).link,n=e?rc(sc(e)).deep_link_id:null,s=rc(sc(i)).deep_link_id;return(s?rc(sc(s)).link:null)||s||n||e||i}class hp{constructor(e){const n=rc(sc(e)),s=n.apiKey??null,o=n.oobCode??null,c=oN(n.mode??null);Ee(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lN(e);try{return new hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.providerId=qo.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=hp.parseLink(n);return Ee(s,"argument-error"),vc._fromEmailAndCode(e,s.code,s.tenantId)}}qo.PROVIDER_ID="password";qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends q1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Vc{constructor(){super("facebook.com")}static credential(e){return ma._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ma._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Vc{constructor(){super("github.com")}static credential(e){return ma._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Vc{constructor(){super("twitter.com")}static credential(e,n){return ma._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(i,e){return Mc(i,"POST","/v1/accounts:signUp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await ri._fromIdTokenResponse(e,s,o),u=hE(s);return new ga({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new ga({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends ci{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Jh(e,n,s,o)}}function F1(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(i,c,e,s):c})}async function uN(i,e,n=!1){const s=await _c(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ga._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(i,e,n=!1){const{auth:s}=i;if(Hn(s.app))return Promise.reject(yr(s));const o="reauthenticate";try{const c=await _c(i,F1(s,o,e,i),n);Ee(c.idToken,s,"internal-error");const u=lp(c.idToken);Ee(u,s,"internal-error");const{sub:m}=u;return Ee(i.uid===m,s,"user-mismatch"),ga._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&oi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(i,e,n=!1){if(Hn(i.app))return Promise.reject(yr(i));const s="signIn",o=await F1(i,s,e),c=await ga._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}async function fN(i,e){return G1(Sa(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(i){const e=Sa(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ck(i,e,n){if(Hn(i.app))return Promise.reject(yr(i));const s=Sa(i),u=await Cg(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cN).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&$1(i),g}),m=await ga._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(m.user),m}function Ik(i,e,n){return Hn(i.app)?Promise.reject(yr(i)):fN(mt(i),qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$1(i),s})}function dN(i,e,n,s){return mt(i).onIdTokenChanged(e,n,s)}function mN(i,e,n){return mt(i).beforeAuthStateChanged(e,n)}function K1(i,e,n,s){return mt(i).onAuthStateChanged(e,n,s)}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=1e3,pN=10;class Q1 extends Y1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,g)=>{this.notifyListeners(u,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);L2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q1.type="LOCAL";const yN=Q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Y1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}X1.type="SESSION";const J1=X1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new vf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(u).map(async p=>p(n.origin,c)),g=await _N(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,g)=>{const p=fp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(S.data.response);break;default:clearTimeout(E),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function EN(i){Li().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function TN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function wN(){return W1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="firebaseLocalStorageDb",SN=1,Zh="firebaseLocalStorage",eb="fbase_key";class kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ef(i,e){return i.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function AN(){const i=indexedDB.deleteDatabase(Z1);return new kc(i).toPromise()}function Ig(){const i=indexedDB.open(Z1,SN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Zh,{keyPath:eb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Zh)?e(s):(s.close(),await AN(),e(await Ig()))})})}async function fE(i,e,n){const s=Ef(i,!0).put({[eb]:e,value:n});return new kc(s).toPromise()}async function RN(i,e){const n=Ef(i,!1).get(e),s=await new kc(n).toPromise();return s===void 0?null:s.value}function dE(i,e){const n=Ef(i,!0).delete(e);return new kc(n).toPromise()}const CN=800,IN=3;class tb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>IN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(wN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await TN(),!this.activeServiceWorker)return;this.sender=new vN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await fE(e,Wh,"1"),await dE(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>RN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ef(o,!1).getAll();return new kc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tb.type="LOCAL";const NN=tb;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(i,e){return e?gr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DN(i){return G1(i.auth,new dp(i),i.bypassAuthState)}function ON(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),hN(n,new dp(i),i.bypassAuthState)}async function MN(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),uN(n,new dp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DN;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return ON;default:oi(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Oc(2e3,1e4);class So extends nb{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const e=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VN.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="pendingRedirect",Ph=new Map;class PN extends nb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const s=await LN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LN(i,e){const n=zN(e),s=jN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function UN(i,e){Ph.set(i._key(),e)}function jN(i){return gr(i._redirectPersistence)}function zN(i){return kh(kN,i.config.apiKey,i.name)}async function BN(i,e,n=!1){if(Hn(i.app))return Promise.reject(yr(i));const s=Sa(i),o=xN(s,e),u=await new PN(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!ib(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HN&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function ib({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ib(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(i,e={}){return Ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KN=/^https?/;async function YN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await GN(i);for(const n of e)try{if(QN(n))return}catch{}oi(i,"unauthorized-domain")}function QN(i){const e=Ag(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!KN.test(n))return!1;if($N.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new Oc(3e4,6e4);function gE(){const i=Li().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function JN(i){return new Promise((e,n)=>{var o,c,u;function s(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(Pi(i,"network-request-failed"))},timeout:XN.get()})}if((c=(o=Li().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((u=Li().gapi)!=null&&u.load)s();else{const m=$2("iframefcb");return Li()[m]=()=>{gapi.load?s():n(Pi(i,"network-request-failed"))},z1(`${G2()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function WN(i){return Lh=Lh||JN(i),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Oc(5e3,15e3),ex="__/auth/iframe",tx="emulator/auth/iframe",nx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ix=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rx(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?op(e,tx):`https://${i.config.authDomain}/${ex}`,s={apiKey:e.apiKey,appName:i.name,v:Ho},o=ix.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Dc(s).slice(1)}`}async function sx(i){const e=await WN(i),n=Li().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:rx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nx,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=Pi(i,"network-request-failed"),m=Li().setTimeout(()=>{c(u)},ZN.get());function g(){Li().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{c(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ox=500,lx=600,cx="_blank",ux="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hx(i,e,n,s=ox,o=lx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...ax,width:s.toString(),height:o.toString(),top:c,left:u},p=tn().toLowerCase();n&&(m=M1(p)?cx:n),D1(p)&&(e=e||ux,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[O,j])=>`${S}${O}=${j},`,"");if(P2(p)&&m!=="_self")return fx(e||"",m),new pE(null);const T=window.open(e||"",m,E);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new pE(T)}function fx(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__/auth/handler",mx="emulator/auth/handler",gx=encodeURIComponent("fac");async function yE(i,e,n,s,o,c){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ho,eventId:o};if(e instanceof q1){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",tI(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))u[E]=T}if(e instanceof Vc){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(u.scopes=E.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),p=g?`#${gx}=${encodeURIComponent(g)}`:"";return`${px(i)}?${Dc(m).slice(1)}${p}`}function px({config:i}){return i.emulator?op(i,mx):`https://${i.authDomain}/${dx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class yx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J1,this._completeRedirectFn=BN,this._overrideRedirectResult=UN}async _openPopup(e,n,s,o){var u;Tr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await yE(e,n,s,Ag(),o);return hx(e,c,fp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await yE(e,n,s,Ag(),o);return EN(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Tr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await sx(e),s=new qN(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ng,{type:ng},o=>{var u;const c=(u=o==null?void 0:o[0])==null?void 0:u[ng];c!==void 0&&n(!!c),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return U1()||O1()||cp()}}const _x=yx;var _E="@firebase/auth",vE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tx(i){Hi(new ai("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(i)},p=new H2(s,o,c,g);return W2(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Hi(new ai("auth-internal",e=>{const n=Sa(e.getProvider("auth").getImmediate());return(s=>new vx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(_E,vE,Ex(i)),Fn(_E,vE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=300,wx=h1("authIdTokenMaxAge")||bx;let EE=null;const Sx=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wx)return;const o=n==null?void 0:n.token;EE!==o&&(EE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ax(i=sp()){const e=wa(i,"auth");if(e.isInitialized())return e.getImmediate();const n=J2(i,{popupRedirectResolver:_x,persistence:[NN,yN,J1]}),s=h1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=Sx(c.toString());mN(n,u,()=>u(n.currentUser)),dN(n,m=>u(m))}}const o=c1("auth");return o&&Z2(n,`http://${o}`),n}function Rx(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}q2({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Pi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",Rx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tx("Browser");var Cx="firebase",Ix="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn(Cx,Ix,"app");const rb="@firebase/installations",mp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1e4,ab=`w:${mp}`,ob="FIS_v2",Nx="https://firebaseinstallations.googleapis.com/v1",xx=3600*1e3,Dx="installations",Ox="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pa=new ba(Dx,Ox,Mx);function lb(i){return i instanceof ci&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb({projectId:i}){return`${Nx}/projects/${i}/installations`}function ub(i){return{token:i.token,requestStatus:2,expiresIn:kx(i.expiresIn),creationTime:Date.now()}}async function hb(i,e){const s=(await e.json()).error;return pa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function fb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function Vx(i,{refreshToken:e}){const n=fb(i);return n.append("Authorization",Px(e)),n}async function db(i){const e=await i();return e.status>=500&&e.status<600?i():e}function kx(i){return Number(i.replace("s","000"))}function Px(i){return`${ob} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=cb(i),o=fb(i),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={fid:n,authVersion:ob,appId:i.appId,sdkVersion:ab},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await db(()=>fetch(s,m));if(g.ok){const p=await g.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:ub(p.authToken)}}else throw await hb("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=/^[cdef][\w-]{21}$/,Ng="";function zx(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=Bx(i);return jx.test(n)?n:Ng}catch{return Ng}}function Bx(i){return Ux(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Map;function pb(i,e){const n=Tf(i);yb(n,e),Hx(n,e)}function yb(i,e){const n=gb.get(i);if(n)for(const s of n)s(e)}function Hx(i,e){const n=qx();n&&n.postMessage({key:i,fid:e}),Fx()}let ha=null;function qx(){return!ha&&"BroadcastChannel"in self&&(ha=new BroadcastChannel("[Firebase] FID Change"),ha.onmessage=i=>{yb(i.data.key,i.data.fid)}),ha}function Fx(){gb.size===0&&ha&&(ha.close(),ha=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="firebase-installations-database",$x=1,ya="firebase-installations-store";let ig=null;function gp(){return ig||(ig=v1(Gx,$x,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ya)}}})),ig}async function ef(i,e){const n=Tf(i),o=(await gp()).transaction(ya,"readwrite"),c=o.objectStore(ya),u=await c.get(n);return await c.put(e,n),await o.done,(!u||u.fid!==e.fid)&&pb(i,e.fid),e}async function _b(i){const e=Tf(i),s=(await gp()).transaction(ya,"readwrite");await s.objectStore(ya).delete(e),await s.done}async function bf(i,e){const n=Tf(i),o=(await gp()).transaction(ya,"readwrite"),c=o.objectStore(ya),u=await c.get(n),m=e(u);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!u||u.fid!==m.fid)&&pb(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pp(i){let e;const n=await bf(i.appConfig,s=>{const o=Kx(s),c=Yx(i,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Ng?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Kx(i){const e=i||{fid:zx(),registrationStatus:0};return vb(e)}function Yx(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(pa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Qx(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Xx(i)}:{installationEntry:e}}async function Qx(i,e){try{const n=await Lx(i,e);return ef(i.appConfig,n)}catch(n){throw lb(n)&&n.customData.serverCode===409?await _b(i.appConfig):await ef(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Xx(i){let e=await TE(i.appConfig);for(;e.registrationStatus===1;)await mb(100),e=await TE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await pp(i);return s||n}return e}function TE(i){return bf(i,e=>{if(!e)throw pa.create("installation-not-found");return vb(e)})}function vb(i){return Jx(i)?{fid:i.fid,registrationStatus:0}:i}function Jx(i){return i.registrationStatus===1&&i.registrationTime+sb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx({appConfig:i,heartbeatServiceProvider:e},n){const s=Zx(i,n),o=Vx(i,n),c=e.getImmediate({optional:!0});if(c){const p=await c.getHeartbeatsHeader();p&&o.append("x-firebase-client",p)}const u={installation:{sdkVersion:ab,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(u)},g=await db(()=>fetch(s,m));if(g.ok){const p=await g.json();return ub(p)}else throw await hb("Generate Auth Token",g)}function Zx(i,{fid:e}){return`${cb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(i,e=!1){let n;const s=await bf(i.appConfig,c=>{if(!Eb(c))throw pa.create("not-registered");const u=c.authToken;if(!e&&nD(u))return c;if(u.requestStatus===1)return n=eD(i,e),c;{if(!navigator.onLine)throw pa.create("app-offline");const m=rD(c);return n=tD(i,m),m}});return n?await n:s.authToken}async function eD(i,e){let n=await bE(i.appConfig);for(;n.authToken.requestStatus===1;)await mb(100),n=await bE(i.appConfig);const s=n.authToken;return s.requestStatus===0?yp(i,e):s}function bE(i){return bf(i,e=>{if(!Eb(e))throw pa.create("not-registered");const n=e.authToken;return sD(n)?{...e,authToken:{requestStatus:0}}:e})}async function tD(i,e){try{const n=await Wx(i,e),s={...e,authToken:n};return await ef(i.appConfig,s),n}catch(n){if(lb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _b(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await ef(i.appConfig,s)}throw n}}function Eb(i){return i!==void 0&&i.registrationStatus===2}function nD(i){return i.requestStatus===2&&!iD(i)}function iD(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+xx}function rD(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function sD(i){return i.requestStatus===1&&i.requestTime+sb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(i){const e=i,{installationEntry:n,registrationPromise:s}=await pp(e);return s?s.catch(console.error):yp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(i,e=!1){const n=i;return await lD(n),(await yp(n,e)).token}async function lD(i){const{registrationPromise:e}=await pp(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(i){if(!i||!i.options)throw rg("App Configuration");if(!i.name)throw rg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw rg(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function rg(i){return pa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="installations",uD="installations-internal",hD=i=>{const e=i.getProvider("app").getImmediate(),n=cD(e),s=wa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},fD=i=>{const e=i.getProvider("app").getImmediate(),n=wa(e,Tb).getImmediate();return{getId:()=>aD(n),getToken:o=>oD(n,o)}};function dD(){Hi(new ai(Tb,hD,"PUBLIC")),Hi(new ai(uD,fD,"PRIVATE"))}dD();Fn(rb,mp);Fn(rb,mp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="analytics",mD="firebase_id",gD="origin",pD=60*1e3,yD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_p="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new yf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new ba("analytics","Analytics",_D);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(i){if(!i.startsWith(_p)){const e=In.create("invalid-gtag-resource",{gtagURL:i});return an.warn(e.message),""}return i}function bb(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function ED(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function TD(i,e){const n=ED("firebase-js-sdk-policy",{createScriptURL:vD}),s=document.createElement("script"),o=`${_p}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function bD(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function wD(i,e,n,s,o,c){const u=s[o];try{if(u)await e[u];else{const g=(await bb(n)).find(p=>p.measurementId===o);g&&await e[g.appId]}}catch(m){an.error(m)}i("config",o,c)}async function SD(i,e,n,s,o){try{let c=[];if(o&&o.send_to){let u=o.send_to;Array.isArray(u)||(u=[u]);const m=await bb(n);for(const g of u){const p=m.find(T=>T.measurementId===g),E=p&&e[p.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,o||{})}catch(c){an.error(c)}}function AD(i,e,n,s){async function o(c,...u){try{if(c==="event"){const[m,g]=u;await SD(i,e,n,m,g)}else if(c==="config"){const[m,g]=u;await wD(i,e,n,s,m,g)}else if(c==="consent"){const[m,g]=u;i("consent",m,g)}else if(c==="get"){const[m,g,p]=u;i("get",m,g,p)}else if(c==="set"){const[m]=u;i("set",m)}else i(c,...u)}catch(m){an.error(m)}}return o}function RD(i,e,n,s,o){let c=function(...u){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=AD(c,i,e,n),{gtagCore:c,wrappedGtag:window[o]}}function CD(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_p)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=30,ND=1e3;class xD{constructor(e={},n=ND){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const wb=new xD;function DD(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function OD(i){var u;const{appId:e,apiKey:n}=i,s={method:"GET",headers:DD(n)},o=yD.replace("{app-id}",e),c=await fetch(o,s);if(c.status!==200&&c.status!==304){let m="";try{const g=await c.json();(u=g.error)!=null&&u.message&&(m=g.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function MD(i,e=wb,n){const{appId:s,apiKey:o,measurementId:c}=i.options;if(!s)throw In.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw In.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new PD;return setTimeout(async()=>{m.abort()},pD),Sb({appId:s,apiKey:o,measurementId:c},u,m,e)}async function Sb(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=wb){var m;const{appId:c,measurementId:u}=i;try{await VD(s,e)}catch(g){if(u)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:u};throw g}try{const g=await OD(i);return o.deleteThrottleMetadata(c),g}catch(g){const p=g;if(!kD(p)){if(o.deleteThrottleMetadata(c),u)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:u};throw g}const E=Number((m=p==null?void 0:p.customData)==null?void 0:m.httpStatus)===503?Kv(n,o.intervalMillis,ID):Kv(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(c,T),an.debug(`Calling attemptFetch again in ${E} millis`),Sb(i,T,s,o)}}function VD(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(c),s(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kD(i){if(!(i instanceof ci)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class PD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function LD(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const c=await e,u={...s,send_to:c};i("event",n,u)}}async function UD(i,e,n,s){if(s&&s.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return i("set",o),Promise.resolve()}else{const o=await e;i("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(){if(g1())try{await p1()}catch(i){return an.warn(In.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return an.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function zD(i,e,n,s,o,c,u){const m=MD(i);m.then(S=>{n[S.measurementId]=S.appId,i.options.measurementId&&S.measurementId!==i.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>an.error(S)),e.push(m);const g=jD().then(S=>{if(S)return s.getId()}),[p,E]=await Promise.all([m,g]);CD(c)||TD(c,p.measurementId),o("js",new Date);const T=(u==null?void 0:u.config)??{};return T[gD]="firebase",T.update=!0,E!=null&&(T[mD]=E),o("config",p.measurementId,T),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.app=e}_delete(){return delete No[this.app.options.appId],Promise.resolve()}}let No={},wE=[];const SE={};let sg="dataLayer",HD="gtag",AE,vp,RE=!1;function qD(){const i=[];if(m1()&&i.push("This is a browser extension environment."),JC()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});an.warn(n.message)}}function FD(i,e,n){qD();const s=i.options.appId;if(!s)throw In.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if(No[s]!=null)throw In.create("already-exists",{id:s});if(!RE){bD(sg);const{wrappedGtag:c,gtagCore:u}=RD(No,wE,SE,sg,HD);vp=c,AE=u,RE=!0}return No[s]=zD(i,wE,SE,e,AE,sg,n),new BD(i)}function GD(i=sp()){i=mt(i);const e=wa(i,tf);return e.isInitialized()?e.getImmediate():$D(i)}function $D(i,e={}){const n=wa(i,tf);if(n.isInitialized()){const o=n.getImmediate();if(gs(e,n.getOptions()))return o;throw In.create("already-initialized")}return n.initialize({options:e})}function KD(i,e,n){i=mt(i),UD(vp,No[i.app.options.appId],e,n).catch(s=>an.error(s))}function YD(i,e,n,s){i=mt(i),LD(vp,No[i.app.options.appId],e,n,s).catch(o=>an.error(o))}const CE="@firebase/analytics",IE="0.10.19";function QD(){Hi(new ai(tf,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return FD(s,o,n)},"PUBLIC")),Hi(new ai("analytics-internal",i,"PRIVATE")),Fn(CE,IE),Fn(CE,IE,"esm2020");function i(e){try{const n=e.getProvider(tf).getImmediate();return{logEvent:(s,o,c)=>YD(n,s,o,c),setUserProperties:(s,o)=>KD(n,s,o)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}QD();var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,Ab;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function R(){}R.prototype=A.prototype,I.F=A.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,D,L){for(var N=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)N[$e-2]=arguments[$e];return A.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)k[D]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(D=0;D<16;++D)k[D]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=I.g[0],R=I.g[1],D=I.g[2];let L=I.g[3],N;N=A+(L^R&(D^L))+k[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(D^A&(R^D))+k[1]+3905402710&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(R^L&(A^R))+k[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=R+(A^D&(L^A))+k[3]+3250441966&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(L^R&(D^L))+k[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(D^A&(R^D))+k[5]+1200080426&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(R^L&(A^R))+k[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=R+(A^D&(L^A))+k[7]+4249261313&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(L^R&(D^L))+k[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(D^A&(R^D))+k[9]+2336552879&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(R^L&(A^R))+k[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=R+(A^D&(L^A))+k[11]+2304563134&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(L^R&(D^L))+k[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=L+(D^A&(R^D))+k[13]+4254626195&4294967295,L=A+(N<<12&4294967295|N>>>20),N=D+(R^L&(A^R))+k[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=R+(A^D&(L^A))+k[15]+1236535329&4294967295,R=D+(N<<22&4294967295|N>>>10),N=A+(D^L&(R^D))+k[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^D&(A^R))+k[6]+3225465664&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(L^A))+k[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(D^L))+k[0]+3921069994&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(D^L&(R^D))+k[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^D&(A^R))+k[10]+38016083&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(L^A))+k[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(D^L))+k[4]+3889429448&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(D^L&(R^D))+k[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^D&(A^R))+k[14]+3275163606&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(L^A))+k[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(D^L))+k[8]+1163531501&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(D^L&(R^D))+k[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=L+(R^D&(A^R))+k[2]+4243563512&4294967295,L=A+(N<<9&4294967295|N>>>23),N=D+(A^R&(L^A))+k[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=R+(L^A&(D^L))+k[12]+2368359562&4294967295,R=D+(N<<20&4294967295|N>>>12),N=A+(R^D^L)+k[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^D)+k[8]+2272392833&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^R)+k[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=R+(D^L^A)+k[14]+4259657740&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(R^D^L)+k[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^D)+k[4]+1272893353&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^R)+k[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=R+(D^L^A)+k[10]+3200236656&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(R^D^L)+k[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^D)+k[0]+3936430074&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^R)+k[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=R+(D^L^A)+k[6]+76029189&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(R^D^L)+k[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=L+(A^R^D)+k[12]+3873151461&4294967295,L=A+(N<<11&4294967295|N>>>21),N=D+(L^A^R)+k[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=R+(D^L^A)+k[2]+3299628645&4294967295,R=D+(N<<23&4294967295|N>>>9),N=A+(D^(R|~L))+k[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~D))+k[7]+1126891415&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~R))+k[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=R+(L^(D|~A))+k[5]+4237533241&4294967295,R=D+(N<<21&4294967295|N>>>11),N=A+(D^(R|~L))+k[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~D))+k[3]+2399980690&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~R))+k[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=R+(L^(D|~A))+k[1]+2240044497&4294967295,R=D+(N<<21&4294967295|N>>>11),N=A+(D^(R|~L))+k[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~D))+k[15]+4264355552&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~R))+k[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=R+(L^(D|~A))+k[13]+1309151649&4294967295,R=D+(N<<21&4294967295|N>>>11),N=A+(D^(R|~L))+k[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=L+(R^(A|~D))+k[11]+3174756917&4294967295,L=A+(N<<10&4294967295|N>>>22),N=D+(A^(L|~R))+k[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=R+(L^(D|~A))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const R=A-this.blockSize,k=this.C;let D=this.h,L=0;for(;L<A;){if(D==0)for(;L<=R;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<A;)if(k[D++]=I.charCodeAt(L++),D==this.blockSize){o(this,k),D=0;break}}else for(;L<A;)if(k[D++]=I[L++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[A++]=this.g[R]>>>k&255;return I};function c(I,A){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=A(I)}function u(I,A){this.h=A;const R=[];let k=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;k&&L==A||(R[D]=L,k=!1)}this.g=R}var m={};function g(I){return-128<=I&&I<128?c(I,function(A){return new u([A|0],A<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return q(p(-I));const A=[];let R=1;for(let k=0;I>=R;k++)A[k]=I/R|0,R*=4294967296;return new u(A,0)}function E(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return q(E(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let k=T;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const N=parseInt(I.substring(L,L+D),A);D<8?(D=p(Math.pow(A,D)),k=k.j(D).add(p(N))):(k=k.j(R),k=k.add(p(N)))}return k}var T=g(0),S=g(1),O=g(16777216);i=u.prototype,i.m=function(){if($(this))return-q(this).m();let I=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*A,A*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(j(this))return"0";if($(this))return"-"+q(this).toString(I);const A=p(Math.pow(I,6));var R=this;let k="";for(;;){const D=ce(R,A).g;R=re(R,D.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,j(R))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function j(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function $(I){return I.h==-1}i.l=function(I){return I=re(this,I),$(I)?-1:j(I)?0:1};function q(I){const A=I.g.length,R=[];for(let k=0;k<A;k++)R[k]=~I.g[k];return new u(R,~I.h).add(S)}i.abs=function(){return $(this)?q(this):this},i.add=function(I){const A=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let D=0;D<=A;D++){let L=k+(this.i(D)&65535)+(I.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=N>>>16,L&=65535,N&=65535,R[D]=N<<16|L}return new u(R,R[R.length-1]&-2147483648?-1:0)};function re(I,A){return I.add(q(A))}i.j=function(I){if(j(this)||j(I))return T;if($(this))return $(I)?q(this).j(q(I)):q(q(this).j(I));if($(I))return q(this.j(q(I)));if(this.l(O)<0&&I.l(O)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const L=this.i(k)>>>16,N=this.i(k)&65535,$e=I.i(D)>>>16,gt=I.i(D)&65535;R[2*k+2*D]+=N*gt,Y(R,2*k+2*D),R[2*k+2*D+1]+=L*gt,Y(R,2*k+2*D+1),R[2*k+2*D+1]+=N*$e,Y(R,2*k+2*D+1),R[2*k+2*D+2]+=L*$e,Y(R,2*k+2*D+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new u(R,0)};function Y(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function J(I,A){this.g=I,this.h=A}function ce(I,A){if(j(A))throw Error("division by zero");if(j(I))return new J(T,T);if($(I))return A=ce(q(I),A),new J(q(A.g),q(A.h));if($(A))return A=ce(I,q(A)),new J(q(A.g),A.h);if(I.g.length>30){if($(I)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=A;k.l(I)<=0;)R=pe(R),k=pe(k);var D=ye(R,1),L=ye(k,1);for(k=ye(k,2),R=ye(R,2);!j(k);){var N=L.add(k);N.l(I)<=0&&(D=D.add(R),L=N),k=ye(k,1),R=ye(R,1)}return A=re(I,D.j(A)),new J(D,A)}for(D=T;I.l(A)>=0;){for(R=Math.max(1,Math.floor(I.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=p(R),N=L.j(A);$(N)||N.l(I)>0;)R-=k,L=p(R),N=L.j(A);j(L)&&(L=S),D=D.add(L),I=re(I,N)}return new J(D,I)}i.B=function(I){return ce(this,I).h},i.and=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&I.i(k);return new u(R,this.h&I.h)},i.or=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|I.i(k);return new u(R,this.h|I.h)},i.xor=function(I){const A=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^I.i(k);return new u(R,this.h^I.h)};function pe(I){const A=I.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new u(R,I.h)}function ye(I,A){const R=A>>5;A%=32;const k=I.g.length-R,D=[];for(let L=0;L<k;L++)D[L]=A>0?I.i(L+R)>>>A|I.i(L+R+1)<<32-A:I.i(L+R);return new u(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Ab=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=E,ds=u}).apply(typeof NE<"u"?NE:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rb,ac,Cb,Uh,xg,Ib,Nb,xb;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var v=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var z=h[w];if(!(z in v))break e;v=v[z]}h=h[h.length-1],w=v[h],y=y(w),y!=w&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var v=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&v.push([w,y[w]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,v){return h.call.apply(h.bind,arguments)}function p(h,y,v){return p=g,p.apply(null,arguments)}function E(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(w,z,G){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return y.prototype[z].apply(w,ae)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const y=h.length;if(y>0){const v=Array(y);for(let w=0;w<y;w++)v[w]=h[w];return v}return[]}function j(h,y){for(let w=1;w<arguments.length;w++){const z=arguments[w];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=h.length||0;const G=z.length||0;h.length=v+G;for(let ae=0;ae<G;ae++)h[v+ae]=z[ae]}else h.push(z)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(h){u.setTimeout(()=>{throw h},0)}function re(){var h=I;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,v){const w=J.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new $(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ye=!1,I=new Y,A=()=>{const h=Promise.resolve(void 0);pe=()=>{h.then(R)}};function R(){for(var h;h=re();){try{h.h.call(h.g)}catch(v){q(v)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ye=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};u.addEventListener("test",v,y),u.removeEventListener("test",v,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function $e(h,y){D.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T($e,D),$e.prototype.init=function(h,y){const v=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(h,y,v,w,z){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++Q,this.da=this.fa=!1}function de(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function we(h,y,v){for(const w in h)y.call(v,h[w],w,h)}function xe(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function V(h){const y={};for(const v in h)y[v]=h[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(h,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)h[v]=w[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(w,v)&&(h[v]=w[v])}}function se(h){this.src=h,this.g={},this.h=0}se.prototype.add=function(h,y,v,w,z){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ae=be(h,y,w,z);return ae>-1?(y=h[ae],v||(y.fa=!1)):(y=new oe(y,this.src,G,!!w,z),y.fa=v,h.push(y)),y};function ve(h,y){const v=y.type;if(v in h.g){var w=h.g[v],z=Array.prototype.indexOf.call(w,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(w,z,1),G&&(de(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function be(h,y,v,w){for(let z=0;z<h.length;++z){const G=h[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==w)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),tt={};function at(h,y,v,w,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(h,y[G],v,w,z);return null}return v=Wo(v),h&&h[gt]?h.J(y,v,m(w)?!!w.capture:!!w,z):xs(h,y,v,!1,w,z)}function xs(h,y,v,w,z,G){if(!y)throw Error("Invalid event type");const ae=m(z)?!!z.capture:!!z;let Ce=Ds(h);if(Ce||(h[Ue]=Ce=new se(h)),v=Ce.add(y,v,w,ae,G),v.proxy)return v;if(w=Ca(),v.proxy=w,w.src=h,w.listener=v,h.addEventListener)L||(z=ae),z===void 0&&(z=!1),h.addEventListener(y.toString(),w,z);else if(h.attachEvent)h.attachEvent(ui(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ca(){function h(v){return y.call(h.src,h.listener,v)}const y=Xo;return h}function Ia(h,y,v,w,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ia(h,y[G],v,w,z);else w=m(w)?!!w.capture:!!w,v=Wo(v),h&&h[gt]?(h=h.i,G=String(y).toString(),G in h.g&&(y=h.g[G],v=be(y,v,w,z),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[G],h.h--)))):h&&(h=Ds(h))&&(y=h.g[y.toString()],h=-1,y&&(h=be(y,v,w,z)),(v=h>-1?y[h]:null)&&Na(v))}function Na(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[gt])ve(y.i,h);else{var v=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(v,w,h.capture):y.detachEvent?y.detachEvent(ui(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Ds(y))?(ve(v,h),v.h==0&&(v.src=null,y[Ue]=null)):de(h)}}}function ui(h){return h in tt?tt[h]:tt[h]="on"+h}function Xo(h,y){if(h.da)h=!0;else{y=new $e(y,this);const v=h.listener,w=h.ha||h.src;h.fa&&Na(h),h=v.call(w,y)}return h}function Ds(h){return h=h[Ue],h instanceof se?h:null}var Jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wo(h){return typeof h=="function"?h:(h[Jo]||(h[Jo]=function(y){return h.handleEvent(y)}),h[Jo])}function bt(){k.call(this),this.i=new se(this),this.M=this,this.G=null}T(bt,k),bt.prototype[gt]=!0,bt.prototype.removeEventListener=function(h,y,v,w){Ia(this,h,y,v,w)};function Vt(h,y){var v,w=h.G;if(w)for(v=[];w;w=w.G)v.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new D(y,h);else if(y instanceof D)y.target=y.target||h;else{var z=y;y=new D(w,h),W(y,z)}z=!0;let G,ae;if(v)for(ae=v.length-1;ae>=0;ae--)G=y.g=v[ae],z=Ar(G,w,!0,y)&&z;if(G=y.g=h,z=Ar(G,w,!0,y)&&z,z=Ar(G,w,!1,y)&&z,v)for(ae=0;ae<v.length;ae++)G=y.g=v[ae],z=Ar(G,w,!1,y)&&z}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let w=0;w<v.length;w++)de(v[w]);delete h.g[y],h.h--}}this.G=null},bt.prototype.J=function(h,y,v,w){return this.i.add(String(h),y,!1,v,w)},bt.prototype.K=function(h,y,v,w){return this.i.add(String(h),y,!0,v,w)};function Ar(h,y,v,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const ae=y[G];if(ae&&!ae.da&&ae.capture==v){const Ce=ae.listener,yt=ae.ha||ae.src;ae.fa&&ve(h.i,ae),z=Ce.call(yt,w)!==!1&&z}}return z&&!w.defaultPrevented}function Ff(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(h,y||0)}function Kc(h){h.g=Ff(()=>{h.g=null,h.i&&(h.i=!1,Kc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class nn extends k{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Kc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Os(h){k.call(this),this.h=h,this.g={}}T(Os,k);var Zo=[];function el(h){we(h.g,function(y,v){this.g.hasOwnProperty(v)&&Na(y)},h),h.g={}}Os.prototype.N=function(){Os.Z.N.call(this),el(this)},Os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rr=u.JSON.stringify,Gf=u.JSON.parse,Yc=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Qc(){}function Xc(){}var $n={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}T(Bt,D);function Nn(){D.call(this,"c")}T(Nn,D);var pt={},Jc=null;function xa(){return Jc=Jc||new bt}pt.Ia="serverreachability";function Wc(h){D.call(this,pt.Ia,h)}T(Wc,D);function hi(h){const y=xa();Vt(y,new Wc(y))}pt.STAT_EVENT="statevent";function Ms(h,y){D.call(this,pt.STAT_EVENT,h),this.stat=y}T(Ms,D);function wt(h){const y=xa();Vt(y,new Ms(y,h))}pt.Ja="timingevent";function fi(h,y){D.call(this,pt.Ja,h),this.size=y}T(fi,D);function di(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function $f(h,y,v,w,z,G){h.info(function(){if(h.g)if(G){var ae="",Ce=G.split("&");for(let qe=0;qe<Ce.length;qe++){var yt=Ce[qe].split("=");if(yt.length>1){const ot=yt[0];yt=yt[1];const Mn=ot.split("_");ae=Mn.length>=2&&Mn[1]=="type"?ae+(ot+"="+yt+"&"):ae+(ot+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function Zc(h,y,v,w,z,G,ae){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+ae})}function mi(h,y,v,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Kf(h,v)+(w?" "+w:"")})}function Vs(h,y){h.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Kf(h,y){if(!h.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var v=G[h];if(!(v.length<2)){var w=v[1];if(Array.isArray(w)&&!(w.length<1)){var z=w[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return Rr(G)}catch{return y}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nl;function Ps(){}T(Ps,Qc),Ps.prototype.g=function(){return new XMLHttpRequest},nl=new Ps;function Ki(h){return encodeURIComponent(String(h))}function eu(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function Yn(h,y,v,w){this.j=h,this.i=y,this.l=v,this.S=w||1,this.V=new Os(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var St={},Lt={};function gi(h,y,v){h.M=1,h.A=Ls(Rt(y)),h.u=v,h.R=!0,Da(h,null)}function Da(h,y){h.F=Date.now(),pi(h),h.B=Rt(h.A);var v=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),ka(v.i,"t",w),h.C=0,v=h.j.L,h.h=new Qn,h.g=gu(h.j,v?y:null,!h.u),h.P>0&&(h.O=new nn(p(h.Y,h,h.g),h.P)),y=h.V,v=h.g,w=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Zo[0]=z.toString()),z=Zo);for(let G=0;G<z.length;G++){const ae=at(v,z[G],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),hi(),$f(h.i,h.v,h.B,h.l,h.S,h.u)}Yn.prototype.ba=function(h){h=h.target;const y=this.O;y&&Wn(h)==3?y.j():this.Y(h)},Yn.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=Wn(this.g),yt=this.g.ya(),qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ce!=4||yt==7||(yt==8||qe<=0?hi(3):hi(2)),yi(this);var y=this.g.ca();this.X=y;var v=Yf(this);if(this.o=y==200,Zc(this.i,this.v,this.B,this.l,this.S,Ce,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,z=this.g;if((w=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var G=w;break t}}G=null}if(h=G)mi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,h);else{this.o=!1,this.m=3,wt(12),yn(this),xn(this);break e}}if(this.R){h=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=nu(this,v),ot==Lt){Ce==4&&(this.m=4,wt(14),h=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==St){this.m=4,wt(15),mi(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else mi(this.i,this.l,ot,null),_i(this,ot);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,wt(16),h=!1),this.o=this.o&&h,!h)mi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),yl(ae),ae.P=!0,wt(11))}}else mi(this.i,this.l,v,null),_i(this,v);Ce==4&&yn(this),this.o&&!this.K&&(Ce==4?hu(this.j,this):(this.o=!1,pi(this)))}else Qi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),yn(this),xn(this)}}}catch{}finally{}};function Yf(h){if(!tu(h))return h.g.la();const y=Ht(h.g);if(y==="")return"";let v="";const w=y.length,z=Wn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return yn(h),xn(h),"";h.h.i=new u.TextDecoder}for(let G=0;G<w;G++)h.h.h=!0,v+=h.h.i.decode(y[G],{stream:!(z&&G==w-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function tu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function nu(h,y){var v=h.C,w=y.indexOf(`
`,v);return w==-1?Lt:(v=Number(y.substring(v,w)),isNaN(v)?St:(w+=1,w+v>y.length?Lt:(y=y.slice(w,w+v),h.C=w+v,y)))}Yn.prototype.cancel=function(){this.K=!0,yn(this)};function pi(h){h.T=Date.now()+h.H,Oa(h,h.H)}function Oa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=di(p(h.aa,h),y)}function yi(h){h.D&&(u.clearTimeout(h.D),h.D=null)}Yn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Vs(this.i,this.B),this.M!=2&&(hi(),wt(17)),yn(this),this.m=2,xn(this)):Oa(this,this.T-h)};function xn(h){h.j.I==0||h.K||hu(h.j,h)}function yn(h){yi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,el(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function _i(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Ei(v.h,h))){if(!h.L&&Ei(v.h,h)&&v.I==3){try{var w=v.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)za(v),Vr(v);else break e;Fs(v),wt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(p(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((h.L||v.g==h)&&za(v),!N(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let qe=z[y];const ot=qe[0];if(!(ot<=v.K))if(v.K=ot,qe=qe[1],v.I==2)if(qe[0]=="c"){v.M=qe[1],v.ba=qe[2];const Mn=qe[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const Ci=qe[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const Zn=qe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(w=1.5*Zn,v.O=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const ei=h.g;if(ei){const Gs=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gs){var G=w.h;G.g||Gs.indexOf("spdy")==-1&&Gs.indexOf("quic")==-1&&Gs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(sl(G,G.h),G.h=null))}if(w.G){const Ba=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;Ba&&(w.wa=Ba,Ke(w.J,w.G,Ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),w=v;var ae=h;if(w.na=mu(w,w.L?w.ba:null,w.W),ae.L){al(w.h,ae);var Ce=ae,yt=w.O;yt&&(Ce.H=yt),Ce.D&&(yi(Ce),pi(Ce)),w.g=ae}else cu(w);v.i.length>0&&Ai(v)}else qe[0]!="stop"&&qe[0]!="close"||Ri(v,7);else v.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ri(v,7):gl(v):qe[0]!="noop"&&v.l&&v.l.qa(qe),v.A=0)}}hi(4)}catch{}}var At=class{constructor(h,y){this.g=h,this.map=y}};function il(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function vi(h){return h.h?1:h.g?h.g.size:0}function Ei(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function sl(h,y){h.g?h.g.add(y):h.h=y}function al(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}il.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ol(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return O(h.i)}var iu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const w=h[v].indexOf("=");let z,G=null;w>=0?(z=h[v].substring(0,w),G=h[v].substring(w+1)):z=h[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function _n(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof _n?(this.l=h.l,Ut(this,h.j),this.o=h.o,this.g=h.g,Cr(this,h.u),this.h=h.h,ll(this,ou(h.i)),this.m=h.m):h&&(y=String(h).match(iu))?(this.l=!1,Ut(this,y[1]||"",!0),this.o=Ti(y[2]||""),this.g=Ti(y[3]||"",!0),Cr(this,y[4]),this.h=Ti(y[5]||"",!0),ll(this,y[6]||"",!0),this.m=Ti(y[7]||"")):(this.l=!1,this.i=new Nr(null,this.l))}_n.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Us(y,Va,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Us(y,Va,!0),"@"),h.push(Ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Us(v,v.charAt(0)=="/"?cl:ru,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Us(v,su)),h.join("")},_n.prototype.resolve=function(h){const y=Rt(this);let v=!!h.j;v?Ut(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var w=h.h;if(v)Cr(y,h.u);else if(v=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var z=y.h.lastIndexOf("/");z!=-1&&(w=y.h.slice(0,z+1)+w)}if(z=w,z==".."||z==".")w="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){w=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let ae=0;ae<z.length;){const Ce=z[ae++];Ce=="."?w&&ae==z.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&ae==z.length&&G.push("")):(G.push(Ce),w=!0)}w=G.join("/")}else w=z}return v?y.h=w:v=h.i.toString()!=="",v?ll(y,ou(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Rt(h){return new _n(h)}function Ut(h,y,v){h.j=v?Ti(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Cr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function ll(h,y,v){y instanceof Nr?(h.i=y,Pa(h.i,h.l)):(v||(y=Us(y,Ir)),h.i=new Nr(y,h.l))}function Ke(h,y,v){h.i.set(y,v)}function Ls(h){return Ke(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ti(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,ln),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ln(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Va=/[#\/\?@]/g,ru=/[#\?:]/g,cl=/[#\?]/g,Ir=/[#\?@]/g,su=/#/g;function Nr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function cn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ma(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Nr.prototype,i.add=function(h,y){cn(this),this.i=null,h=xr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function au(h,y){cn(h),y=xr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ul(h,y){return cn(h),y=xr(h,y),h.g.has(y)}i.forEach=function(h,y){cn(this),this.g.forEach(function(v,w){v.forEach(function(z){h.call(y,z,w,this)},this)},this)};function hl(h,y){cn(h);let v=[];if(typeof y=="string")ul(h,y)&&(v=v.concat(h.g.get(xr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}i.set=function(h,y){return cn(this),this.i=null,h=xr(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=hl(this,h),h.length>0?String(h[0]):y):y};function ka(h,y,v){au(h,y),v.length>0&&(h.i=null,h.g.set(xr(h,y),O(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var v=y[w];const z=Ki(v);v=hl(this,v);for(let G=0;G<v.length;G++){let ae=z;v[G]!==""&&(ae+="="+Ki(v[G])),h.push(ae)}}return this.i=h.join("&")};function ou(h){const y=new Nr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function xr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Pa(h,y){y&&!h.j&&(cn(h),h.i=null,h.g.forEach(function(v,w){const z=w.toLowerCase();w!=z&&(au(this,w),ka(this,z,v))},h)),h.j=y}function Xn(h,y){const v=new Kn;if(u.Image){const w=new Image;w.onload=E(Dn,v,"TestLoadImage: loaded",!0,y,w),w.onerror=E(Dn,v,"TestLoadImage: error",!1,y,w),w.onabort=E(Dn,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,y,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function fl(h,y){const v=new Kn,w=new AbortController,z=setTimeout(()=>{w.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(G=>{clearTimeout(z),G.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Dn(v,"TestPingServer: error",!1,y)})}function Dn(h,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Dr(){this.g=new Yc}function bi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(bi,Qc),bi.prototype.g=function(){return new js(this.i,this.h)};function js(h,y){bt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(js,bt),i=js.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Jn(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Or(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;La(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function La(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Or(this):Jn(this),this.readyState==3&&La(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Or(this))},i.Na=function(h){this.g&&(this.response=h,Or(this))},i.ga=function(){this.g&&Or(this)};function Or(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Jn(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function Jn(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function On(h){let y="";return we(h,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function zs(h,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=On(v),typeof h=="string"?v!=null&&Ki(v):Ke(h,y,v))}function Xe(h){bt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,bt);var wi=/^https?$/i,dl=["POST","PUT"];i=Xe.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nl.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(G){Bs(this,G);return}if(h=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())v.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(dl,y,void 0)>=0)||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of v)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){Bs(this,G)}};function Bs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,ml(h),Yi(h)}function ml(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),Yi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Xe.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Hs(this):this.Xa())},i.Xa=function(){Hs(this)};function Hs(h){if(h.h&&typeof c<"u"){if(h.v&&Wn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),Wn(h)==4){h.h=!1;try{const G=h.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=G===0){let ae=String(h.D).match(iu)[1]||null;!ae&&u.self&&u.self.location&&(ae=u.self.location.protocol.slice(0,-1)),w=!wi.test(ae?ae.toLowerCase():"")}v=w}if(v)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var z=Wn(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",ml(h)}}finally{Yi(h)}}}}function Yi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||Vt(h,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Gf(y)}};function Ht(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(h){const y={};h=(h.g&&Wn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var v=eu(h[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}xe(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Mr(h){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,h),this.Za=Si("retryDelaySeedMs",1e4,h),this.Ta=Si("forwardChannelMaxRetries",2,h),this.va=Si("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new il(h&&h.concurrentRequestLimit),this.Ba=new Dr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Mr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,v,w){wt(0),this.W=h,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.J=mu(this,null,this.W),Ai(this)};function gl(h){if(Ua(h),h.I==3){var y=h.V++,v=Rt(h.J);if(Ke(v,"SID",h.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),qs(h,v),y=new Yn(h,h.j,y),y.M=2,y.A=Ls(Rt(v)),v=!1,u.navigator&&u.navigator.sendBeacon)try{v=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&u.Image&&(new Image().src=y.A,v=!0),v||(y.g=gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}du(h)}function Vr(h){h.g&&(yl(h),h.g.cancel(),h.g=null)}function Ua(h){Vr(h),h.v&&(u.clearTimeout(h.v),h.v=null),za(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Ai(h){if(!rl(h.h)&&!h.m){h.m=!0;var y=h.Ea;pe||A(),ye||(pe(),ye=!0),I.add(y,h),h.D=0}}function ja(h,y){return vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=di(p(h.Ea,h,y),fu(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new Yn(this,this.j,h);let G=this.o;if(this.U&&(G?(G=V(G),W(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=lu(this,z,y),v=Rt(this.J),Ke(v,"RID",h),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),qs(this,v),G&&(this.R?y="headers="+Ki(On(G))+"&"+y:this.u&&zs(v,this.u,G)),sl(this.h,z),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),z.U=!0,gi(z,v,null)):gi(z,v,y),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||rl(this.h)||pl(this))};function pl(h,y){var v;y?v=y.l:v=h.V++;const w=Rt(h.J);Ke(w,"SID",h.M),Ke(w,"RID",v),Ke(w,"AID",h.K),qs(h,w),h.u&&h.o&&zs(w,h.u,h.o),v=new Yn(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=lu(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),sl(h.h,v),gi(v,w,y)}function qs(h,y){h.H&&we(h.H,function(v,w){Ke(y,w,v)}),h.l&&we({},function(v,w){Ke(y,w,v)})}function lu(h,y,v){v=Math.min(h.i.length,v);const w=h.l?p(h.l.Ka,h.l,h):null;e:{var z=h.i;let Ce=-1;for(;;){const yt=["count="+v];Ce==-1?v>0?(Ce=z[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let qe=!0;for(let ot=0;ot<v;ot++){var G=z[ot].g;const Mn=z[ot].map;if(G-=Ce,G<0)Ce=Math.max(0,z[ot].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var ae=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ci,Zn]of ae){let ei=Zn;m(Zn)&&(ei=Rr(Zn)),yt.push(G+Ci+"="+encodeURIComponent(ei))}}catch(Ci){throw yt.push(G+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(Mn)}}if(qe){ae=yt.join("&");break e}}ae=void 0}return h=h.i.splice(0,v),y.G=h,ae}function cu(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;pe||A(),ye||(pe(),ye=!0),I.add(y,h),h.A=0}}function Fs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=di(p(h.Da,h),fu(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=di(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Vr(this),uu(this))};function yl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function uu(h){h.g=new Yn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Rt(h.na);Ke(y,"RID","rpc"),Ke(y,"SID",h.M),Ke(y,"AID",h.K),Ke(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ke(y,"TO",h.ia),Ke(y,"TYPE","xmlhttp"),qs(h,y),h.u&&h.o&&zs(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Ls(Rt(y)),v.u=null,v.R=!0,Da(v,h)}i.Va=function(){this.C!=null&&(this.C=null,Vr(this),Fs(this),wt(19))};function za(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function hu(h,y){var v=null;if(h.g==y){za(h),yl(h),h.g=null;var w=2}else if(Ei(h.h,y))v=y.G,al(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;w=xa(),Vt(w,new fi(w,v)),Ai(h)}else cu(h);else if(z=y.m,z==3||z==0&&y.X>0||!(w==1&&ja(h,y)||w==2&&Fs(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),z){case 1:Ri(h,5);break;case 4:Ri(h,10);break;case 3:Ri(h,6);break;default:Ri(h,2)}}}function fu(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function Ri(h,y){if(h.j.info("Error code "+y),y==2){var v=p(h.bb,h),w=h.Ua;const z=!w;w=new _n(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ut(w,"https"),Ls(w),z?Xn(w.toString(),v):fl(w.toString(),v)}else wt(2);h.I=0,h.l&&h.l.pa(y),du(h),Ua(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function du(h){if(h.I=0,h.ja=[],h.l){const y=ol(h.h);(y.length!=0||h.i.length!=0)&&(j(h.ja,y),j(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function mu(h,y,v){var w=v instanceof _n?Rt(v):new _n(v);if(w.g!="")y&&(w.g=y+"."+w.g),Cr(w,w.u);else{var z=u.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new _n(null);w&&Ut(G,w),y&&(G.g=y),z&&Cr(G,z),v&&(G.h=v),w=G}return v=h.G,y=h.wa,v&&y&&Ke(w,v,y),Ke(w,"VER",h.ka),qs(h,w),w}function gu(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new Xe(new bi({ab:v})):new Xe(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function pu(){}i=pu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function kr(){}kr.prototype.g=function(h,y){return new rn(h,y)};function rn(h,y){bt.call(this),this.g=new Mr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Xi(this)}T(rn,bt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){gl(this.g)},rn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=Rr(h),h=v);y.i.push(new At(y.Ya++,h)),y.I==3&&Ai(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,rn.Z.N.call(this)};function yu(h){Bt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(yu,Bt);function _u(){Nn.call(this),this.status=1}T(_u,Nn);function Xi(h){this.g=h}T(Xi,pu),Xi.prototype.ra=function(){Vt(this.g,"a")},Xi.prototype.qa=function(h){Vt(this.g,new yu(h))},Xi.prototype.pa=function(h){Vt(this.g,new _u)},Xi.prototype.oa=function(){Vt(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,xb=function(){return new kr},Nb=function(){return xa()},Ib=pt,xg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Uh=ks,tl.COMPLETE="complete",Cb=tl,Xc.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",bt.prototype.listen=bt.prototype.J,ac=Xc,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Rb=Xe}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const xE="@firebase/firestore",DE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new yf("@firebase/firestore");function vo(){return _a.logLevel}function ue(i,...e){if(_a.logLevel<=ke.DEBUG){const n=e.map(Ep);_a.debug(`Firestore (${Fo}): ${i}`,...n)}}function br(i,...e){if(_a.logLevel<=ke.ERROR){const n=e.map(Ep);_a.error(`Firestore (${Fo}): ${i}`,...n)}}function Vo(i,...e){if(_a.logLevel<=ke.WARN){const n=e.map(Ep);_a.warn(`Firestore (${Fo}): ${i}`,...n)}}function Ep(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Db(i,s,n)}function Db(i,e,n){let s=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw br(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||Db(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class JD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WD{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _r,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _r)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Ob(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class ZD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eO{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ZD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class OE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new OE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new OE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=nO(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function Dg(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return ag(o)===ag(c)?Pe(o,c):ag(o)?1:-1}return Pe(i.length,e.length)}const iO=55296,rO=57343;function ag(i){const e=i.charCodeAt(0);return e>=iO&&e<=rO}function ko(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class ki{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ki.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ki?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=ki.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const s=ki.isNumericId(e),o=ki.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ki.extractNumericId(e).compare(ki.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class nt extends ki{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const sO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends ki{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return sO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new Yt([ME])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(s+=m,o++):(c(),o++)}if(c(),u)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(i,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aO(i,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function VE(i){if(!ge.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function kE(i){if(ge.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function wf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Gn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wf(i);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function oO(i,e){if(e<=0)throw new le(Z.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Pc(i,e){if(!Vb(i))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=-62135596800,LE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*LE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PE)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Mt("string",st._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function lO(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new ps(o,ge.empty(),e)}function cO(i){return new ps(i.readTime,i.key,Ec)}class ps{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ps(Se.min(),ge.empty(),Ec)}static max(){return new ps(Se.max(),ge.empty(),Ec)}}function uO(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==hO)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(g=>s(g)))})),u=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,u=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;n(e[p]).next((E=>{u[p]=E,++m,m===c&&s(u)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function dO(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=-1;function Af(i){return i==null}function nf(i){return i===0&&1/i==-1/0}function mO(i){return typeof i=="number"&&Number.isInteger(i)&&!nf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="";function gO(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=UE(e)),e=pO(i.get(n),e);return UE(e)}function pO(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case kb:n+="";break;default:n+=c}}return n}function UE(i){return i+kb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function As(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Pb(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=c??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zE(this.data.getIterator())}getIteratorFrom(e){return new zE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class zE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Lb("Invalid base64 string: "+c):c}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const yO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=yO.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function _s(i){return typeof i=="string"?Qt.fromBase64String(i):Qt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",jb="__type__",zb="__previous_value__",Bb="__local_write_time__";function wp(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[jb])==null?void 0:s.stringValue)===Ub}function Rf(i){const e=i.mapValue.fields[zb];return wp(e)?Rf(e):e}function Tc(i){const e=ys(i.mapValue.fields[Bb].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n,s,o,c,u,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const rf="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="__type__",qb="__max__",Rh={mapValue:{fields:{__type__:{stringValue:qb}}}},Fb="__vector__",sf="value";function vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?wp(i)?4:EO(i)?9007199254740991:vO(i)?10:11:Te(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=vs(i);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tc(i).isEqual(Tc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=ys(o.timestampValue),m=ys(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return _s(o.bytesValue).isEqual(_s(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Et(o.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Et(o.integerValue)===Et(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Et(o.doubleValue),m=Et(c.doubleValue);return u===m?nf(u)===nf(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return ko(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(jE(u)!==jE(m))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(m[g]===void 0||!qi(u[g],m[g])))return!1;return!0})(i,e);default:return Te(52216,{left:i})}}function wc(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function Po(i,e){if(i===e)return 0;const n=vs(i),s=vs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Et(c.integerValue||c.doubleValue),g=Et(u.integerValue||u.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return BE(i.timestampValue,e.timestampValue);case 4:return BE(Tc(i),Tc(e));case 5:return Dg(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=_s(c),g=_s(u);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),g=u.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Pe(m[p],g[p]);if(E!==0)return E}return Pe(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Pe(Et(c.latitude),Et(u.latitude));return m!==0?m:Pe(Et(c.longitude),Et(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return HE(i.arrayValue,e.arrayValue);case 10:return(function(c,u){var S,O,j,$;const m=c.fields||{},g=u.fields||{},p=(S=m[sf])==null?void 0:S.arrayValue,E=(O=g[sf])==null?void 0:O.arrayValue,T=Pe(((j=p==null?void 0:p.values)==null?void 0:j.length)||0,(($=E==null?void 0:E.values)==null?void 0:$.length)||0);return T!==0?T:HE(p,E)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===Rh.mapValue&&u===Rh.mapValue)return 0;if(c===Rh.mapValue)return 1;if(u===Rh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=u.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const S=Dg(g[T],E[T]);if(S!==0)return S;const O=Po(m[g[T]],p[E[T]]);if(O!==0)return O}return Pe(g.length,E.length)})(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function BE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=ys(i),s=ys(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function HE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Po(n[o],s[o]);if(c)return c}return Pe(n.length,s.length)}function Lo(i){return Og(i)}function Og(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return _s(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ge.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Og(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Og(n.fields[u])}`;return o+"}"})(i.mapValue):Te(61005,{value:i})}function jh(i){switch(vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rf(i);return e?16+jh(e):16;case 5:return 2*i.stringValue.length;case 6:return _s(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+jh(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return As(s.fields,((c,u)=>{o+=c.length+jh(u)})),o})(i.mapValue);default:throw Te(13486,{value:i})}}function qE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Mg(i){return!!i&&"integerValue"in i}function Sp(i){return!!i&&"arrayValue"in i}function FE(i){return!!i&&"nullValue"in i}function GE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function vO(i){var n,s;return((s=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[Hb])==null?void 0:s.stringValue)===Fb}function fc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return As(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(i.arrayValue.values[n]);return e}return{...i}}function EO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===qb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}u?s[m.lastSegment()]=fc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){As(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new pn(fc(this.value))}}function Gb(i){const e=[];return As(i.fields,((n,s)=>{const o=new Yt([n]);if(zh(s)){const c=Gb(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,c,u,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.position=e,this.inclusive=n}}function $E(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(u.referenceValue),n.key):s=Po(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function KE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function TO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{}class Ot extends $b{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new wO(e,n,s):n==="array-contains"?new RO(e,s):n==="in"?new CO(e,s):n==="not-in"?new IO(e,s):n==="array-contains-any"?new NO(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new SO(e,s):new AO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Po(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends $b{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new li(e,n)}matches(e){return Kb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kb(i){return i.op==="and"}function Yb(i){return bO(i)&&Kb(i)}function bO(i){for(const e of i.filters)if(e instanceof li)return!1;return!0}function Vg(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+Lo(i.value);if(Yb(i))return i.filters.map((e=>Vg(e))).join(",");{const e=i.filters.map((n=>Vg(n))).join(",");return`${i.op}(${e})`}}function Qb(i,e){return i instanceof Ot?(function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&qi(s.value,o.value)})(i,e):i instanceof li?(function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,m)=>c&&Qb(u,o.filters[m])),!0):!1})(i,e):void Te(19439)}function Xb(i){return i instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(i):i instanceof li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Xb).join(" ,")+"}"})(i):"Filter"}class wO extends Ot{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class SO extends Ot{constructor(e,n){super(e,"in",n),this.keys=Jb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class AO extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Jb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Jb(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ge.fromName(s.referenceValue)))}class RO extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sp(n)&&wc(n.arrayValue,this.value)}}class CO extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class IO extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class NO extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>wc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n=null,s=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function YE(i,e=null,n=[],s=[],o=null,c=null,u=null){return new xO(i,e,n,s,o,c,u)}function Ap(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Vg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function Rp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!TO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Qb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!KE(i.startAt,e.startAt)&&KE(i.endAt,e.endAt)}function kg(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n=null,s=[],o=[],c=null,u="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DO(i,e,n,s,o,c,u,m){return new Ko(i,e,n,s,o,c,u,m)}function Cp(i){return new Ko(i)}function QE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Wb(i){return i.collectionGroup!==null}function dc(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Pt(Yt.comparator);return u.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Sc(c,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Sc(Yt.keyField(),s))}return e.Ie}function Ui(i){const e=Re(i);return e.Ee||(e.Ee=OO(e,dc(i))),e.Ee}function OO(i,e){if(i.limitType==="F")return YE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Sc(o.field,c)}));const n=i.endAt?new af(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new af(i.startAt.position,i.startAt.inclusive):null;return YE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Pg(i,e){const n=i.filters.concat([e]);return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function of(i,e,n){return new Ko(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Cf(i,e){return Rp(Ui(i),Ui(e))&&i.limitType===e.limitType}function Zb(i){return`${Ap(Ui(i))}|lt:${i.limitType}`}function Eo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Xb(o))).join(", ")}]`),Af(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})(Ui(i))}; limitType=${i.limitType})`}function If(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of dc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,m,g){const p=$E(u,m,g);return u.inclusive?p<=0:p<0})(s.startAt,dc(s),o)||s.endAt&&!(function(u,m,g){const p=$E(u,m,g);return u.inclusive?p>=0:p>0})(s.endAt,dc(s),o))})(i,e)}function MO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ew(i){return(e,n)=>{let s=!1;for(const o of dc(i)){const c=VO(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function VO(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,u,m){const g=u.data.field(c),p=m.data.field(c);return g!==null&&p!==null?Po(g,p):Te(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new ut(ge.comparator);function wr(){return kO}const tw=new ut(ge.comparator);function oc(...i){let e=tw;for(const n of i)e=e.insert(n.key,n);return e}function nw(i){let e=tw;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fa(){return mc()}function iw(){return mc()}function mc(){return new Aa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const PO=new ut(ge.comparator),LO=new Pt(ge.comparator);function Le(...i){let e=LO;for(const n of i)e=e.add(n);return e}const UO=new Pt(Pe);function jO(){return UO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function rw(i){return{integerValue:""+i}}function zO(i,e){return mO(e)?rw(e):Ip(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(){this._=void 0}}function BO(i,e,n){return i instanceof Ac?(function(o,c){const u={fields:{[jb]:{stringValue:Ub},[Bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&wp(c)&&(c=Rf(c)),c&&(u.fields[zb]=c),{mapValue:u}})(n,e):i instanceof Rc?aw(i,e):i instanceof Cc?ow(i,e):(function(o,c){const u=sw(o,c),m=XE(u)+XE(o.Ae);return Mg(u)&&Mg(o.Ae)?rw(m):Ip(o.serializer,m)})(i,e)}function HO(i,e,n){return i instanceof Rc?aw(i,e):i instanceof Cc?ow(i,e):n}function sw(i,e){return i instanceof lf?(function(s){return Mg(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class Ac extends Nf{}class Rc extends Nf{constructor(e){super(),this.elements=e}}function aw(i,e){const n=lw(e);for(const s of i.elements)n.some((o=>qi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Cc extends Nf{constructor(e){super(),this.elements=e}}function ow(i,e){let n=lw(e);for(const s of i.elements)n=n.filter((o=>!qi(o,s)));return{arrayValue:{values:n}}}class lf extends Nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function XE(i){return Et(i.integerValue||i.doubleValue)}function lw(i){return Sp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n){this.field=e,this.transform=n}}function FO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Rc&&o instanceof Rc||s instanceof Cc&&o instanceof Cc?ko(s.elements,o.elements,qi):s instanceof lf&&o instanceof lf?qi(s.Ae,o.Ae):s instanceof Ac&&o instanceof Ac})(i.transform,e.transform)}class GO{constructor(e,n){this.version=e,this.transformResults=n}}class on{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new on}static exists(e){return new on(void 0,e)}static updateTime(e){return new on(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class xf{}function cw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Df(i.key,on.none()):new Lc(i.key,i.data,on.none());{const n=i.data,s=pn.empty();let o=new Pt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Rs(i.key,s,new Cn(o.toArray()),on.none())}}function $O(i,e,n){i instanceof Lc?(function(o,c,u){const m=o.value.clone(),g=WE(o.fieldTransforms,c,u.transformResults);m.setAll(g),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Rs?(function(o,c,u){if(!Bh(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=WE(o.fieldTransforms,c,u.transformResults),g=c.data;g.setAll(uw(o)),g.setAll(m),c.convertToFoundDocument(u.version,g).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function gc(i,e,n,s){return i instanceof Lc?(function(c,u,m,g){if(!Bh(c.precondition,u))return m;const p=c.value.clone(),E=ZE(c.fieldTransforms,g,u);return p.setAll(E),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(i,e,n,s):i instanceof Rs?(function(c,u,m,g){if(!Bh(c.precondition,u))return m;const p=ZE(c.fieldTransforms,g,u),E=u.data;return E.setAll(uw(c)),E.setAll(p),u.convertToFoundDocument(u.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(c,u,m){return Bh(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,n)}function KO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=sw(s.transform,o||null);c!=null&&(n===null&&(n=pn.empty()),n.set(s.field,c))}return n||null}function JE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ko(s,o,((c,u)=>FO(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lc extends xf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rs extends xf{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function uw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function WE(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);s.set(c.field,HO(u,m,n[o]))}return s}function ZE(i,e,n){const s=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);s.set(o.field,BO(c,u,e))}return s}class Df extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YO extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&$O(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=gc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=gc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=iw();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const g=cw(u,m);g!==null&&s.set(o.key,g),u.isValidDocument()||u.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,((n,s)=>JE(n,s)))&&ko(this.baseMutations,e.baseMutations,((n,s)=>JE(n,s)))}}class Np{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return PO})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new Np(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,ze;function WO(i){switch(i){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function hw(i){if(i===void 0)return br("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Dt.OK:return Z.OK;case Dt.CANCELLED:return Z.CANCELLED;case Dt.UNKNOWN:return Z.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return Z.INTERNAL;case Dt.UNAVAILABLE:return Z.UNAVAILABLE;case Dt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Dt.NOT_FOUND:return Z.NOT_FOUND;case Dt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Dt.ABORTED:return Z.ABORTED;case Dt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Dt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:i})}}(ze=Dt||(Dt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new ds([4294967295,4294967295],0);function eT(i){const e=ZO().encode(i),n=new Ab;return n.update(e),new Uint8Array(n.digest())}function tT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,c],0)]}class xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lc(`Invalid padding: ${n}`);if(s<0)throw new lc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new lc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ds.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(eM)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=eT(e),[s,o]=tT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new xp(c,o,n);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=eT(e),[s,o]=tT(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Of(Se.min(),o,new ut(Pe),wr(),Le())}}class Uc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uc(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class fw{constructor(e,n){this.targetId=e,this.Ce=n}}class dw{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nT{constructor(){this.ve=0,this.Fe=iT(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:c})}})),new Uc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=iT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tM{constructor(e){this.Ge=e,this.ze=new Map,this.je=wr(),this.Je=Ch(),this.He=Ch(),this.Ye=new ut(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(kg(c))if(s===0){const u=new ge(c.path);this.et(n,u,en.newNoDocument(u,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const m=this.ut(e),g=m?this.ct(m,e,u):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=_s(s).toUint8Array()}catch(g){if(g instanceof Lb)return Vo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new xp(u,o,c)}catch(g){return Vo(g instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&kg(m.target)){const g=new ge(m.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,en.newNoDocument(g,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=Le();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Of(e,n,this.Ye,this.je,s);return this.je=wr(),this.Je=Ch(),this.He=Ch(),this.Ye=new ut(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new nT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new nT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ch(){return new ut(ge.comparator)}function iT(){return new ut(ge.comparator)}const nM={asc:"ASCENDING",desc:"DESCENDING"},iM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rM={and:"AND",or:"OR"};class sM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lg(i,e){return i.useProto3Json||Af(e)?e:{value:e}}function cf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aM(i,e){return cf(i,e.toTimestamp())}function ji(i){return Ge(!!i,49232),Se.fromTimestamp((function(n){const s=ys(n);return new st(s.seconds,s.nanos)})(i))}function Dp(i,e){return Ug(i,e).canonicalString()}function Ug(i,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function gw(i){const e=nt.fromString(i);return Ge(Ew(e),10190,{key:e.toString()}),e}function jg(i,e){return Dp(i.databaseId,e.path)}function og(i,e){const n=gw(e);if(n.get(1)!==i.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(yw(n))}function pw(i,e){return Dp(i.databaseId,e)}function oM(i){const e=gw(i);return e.length===4?nt.emptyPath():yw(e)}function zg(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function yw(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function rT(i,e,n){return{name:jg(i,e),fields:n.value.mapValue.fields}}function lM(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,E){return p.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(p){const E=p.code===void 0?Z.UNKNOWN:hw(p.code);return new le(E,p.message||"")})(u);n=new dw(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=og(i,s.document.name),c=ji(s.document.updateTime),u=s.document.createTime?ji(s.document.createTime):Se.min(),m=new pn({mapValue:{fields:s.document.fields}}),g=en.newFoundDocument(o,c,u,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new Hh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=og(i,s.document),c=s.readTime?ji(s.readTime):Se.min(),u=en.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Hh([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=og(i,s.document),c=s.removedTargetIds||[];n=new Hh([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new JO(o,c),m=s.targetId;n=new fw(m,u)}}return n}function cM(i,e){let n;if(e instanceof Lc)n={update:rT(i,e.key,e.value)};else if(e instanceof Df)n={delete:jg(i,e.key)};else if(e instanceof Rs)n={update:rT(i,e.key,e.data),updateMask:_M(e.fieldMask)};else{if(!(e instanceof YO))return Te(16599,{Vt:e.type});n={verify:jg(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const m=u.transform;if(m instanceof Ac)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Rc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Cc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lf)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:aM(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(i,e.precondition)),n}function uM(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?ji(o.updateTime):ji(c);return u.isEqual(Se.min())&&(u=ji(c)),new GO(u,o.transformResults||[])})(n,e)))):[]}function hM(i,e){return{documents:[pw(i,e.path)]}}function fM(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pw(i,o);const c=(function(p){if(p.length!==0)return vw(li.create(p,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(p){if(p.length!==0)return p.map((E=>(function(S){return{field:To(S.field),direction:gM(S.dir)}})(E)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Lg(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:o}}function dM(i){let e=oM(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];n.where&&(c=(function(T){const S=_w(T);return S instanceof li&&Yb(S)?S.getFilters():[S]})(n.where));let u=[];n.orderBy&&(u=(function(T){return T.map((S=>(function(j){return new Sc(bo(j.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Af(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,O=T.values||[];return new af(O,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const S=!T.before,O=T.values||[];return new af(O,S)})(n.endAt)),DO(e,o,u,c,m,"F",g,p)}function mM(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _w(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bo(n.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bo(n.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ot.create(bo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return li.create(n.compositeFilter.filters.map((s=>_w(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(i):Te(30097,{filter:i})}function gM(i){return nM[i]}function pM(i){return iM[i]}function yM(i){return rM[i]}function To(i){return{fieldPath:i.canonicalString()}}function bo(i){return Yt.fromServerFormat(i.fieldPath)}function vw(i){return i instanceof Ot?(function(n){if(n.op==="=="){if(GE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(FE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(FE(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:pM(n.op),value:n.value}}})(i):i instanceof li?(function(n){const s=n.getFilters().map((o=>vw(o)));return s.length===1?s[0]:{compositeFilter:{op:yM(n.op),filters:s}}})(i):Te(54877,{filter:i})}function _M(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ew(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,s,o,c=Se.min(),u=Se.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.yt=e}}function EM(i){const e=dM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?of(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this.Cn=new bM}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ps.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class bM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(nt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tw=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Tw,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="LruGarbageCollector",wM=1048576;function oT([i,e],[n,s]){const o=Pe(i,n);return o===0?Pe(e,s):o}class SM{constructor(e){this.Ir=e,this.buffer=new Pt(oT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(aT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ue(aT,"Ignoring IndexedDB error during garbage collection: ",n):await Go(n)}await this.Vr(3e5)}))}}class RM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Sf.ce);const s=new SM(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(sT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,u,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,u=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),vo()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-E}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T}))))}}function CM(i,e){return new RM(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(){this.changes=new Aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&gc(s.mutation,o,Cn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=fa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let u=oc();return c.forEach(((m,g)=>{u=u.insert(m,g.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=fa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,s,o){let c=wr();const u=mc(),m=(function(){return mc()})();return n.forEach(((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Rs)?c=c.insert(p.key,p):E!==void 0?(u.set(p.key,E.mutation.getFieldMask()),gc(E.mutation,p,E.mutation.getFieldMask(),st.now())):u.set(p.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((p,E)=>u.set(p,E))),n.forEach(((p,E)=>m.set(p,new NM(E,u.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=mc();let o=new ut(((u,m)=>u-m)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Cn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const T=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,T=iw();E.forEach((S=>{if(!c.has(S)){const O=cw(n.get(S),s.get(S));O!==null&&T.set(S,O),c=c.add(S)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(fa());let m=Ec,g=c;return u.next((p=>ie.forEach(p,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),c.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,g,p,Le()))).next((E=>({batchId:m,changes:nw(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=oc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let u=oc();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(g=>{const p=(function(T,S){return new Ko(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next((E=>{E.forEach(((T,S)=>{u=u.insert(T,S)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((u=>{c.forEach(((g,p)=>{const E=p.getKey();u.get(E)===null&&(u=u.insert(E,en.newInvalidDocument(E)))}));let m=oc();return u.forEach(((g,p)=>{const E=c.get(g);E!==void 0&&gc(E.mutation,p,Cn.empty(),st.now()),If(n,p)&&(m=m.insert(g,p))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ji(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:EM(o.bundledQuery),readTime:ji(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.overlays=new ut(ge.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fa();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=fa(),c=n.length+1,u=new ge(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ut(((p,E)=>p-E));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=fa(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=fa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,E)=>m.set(p,E))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new XO(n,s));let c=this.qr.get(n);c===void 0&&(c=Le(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Qr=new Pt(zt.$r),this.Ur=new Pt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new nt([])),s=new zt(n,e),o=new zt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let c=Le();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(zt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new QO(c,n,s,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?bp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Pe);return n.forEach((o=>{const c=new zt(o,0),u=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const u=new zt(new ge(c),0);let m=new Pt(Pe);return this.Zr.forEachWhile((g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)}),u),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const c=new zt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.ri=e,this.docs=(function(){return new ut(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=wr();const u=n.path,m=new ge(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||uO(cO(E),s)<=0||(o.has(E.key)||If(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new PM(this)}getSize(e){return ie.resolve(this.size)}}class PM extends IM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e){this.persistence=e,this.si=new Aa((n=>Ap(n)),Rp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Op,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sf(0),this.li=!1,this.li=!0,this.hi=new MM,this.referenceDelegate=e(this),this.Pi=new LM(this),this.indexManager=new TM,this.remoteDocumentCache=(function(o){return new kM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new vM(n),this.Ii=new DM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new VM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new UM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class UM extends fO{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Ri=new Op,this.Vi=null}static mi(e){return new Mp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uf{constructor(e,n){this.persistence=e,this.pi=new Aa((s=>gO(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=CM(this,n)}static mi(e,n){return new uf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((m=>{m||(s++,c.removeEntry(u,Se.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XC()?8:dO(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new jM;return this.Ss(e,n,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(vo()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(vo()<=ke.DEBUG&&ue("QueryEngine","Query:",Eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):ie.resolve())}ys(e,n){if(QE(n))return ie.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=of(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=Le(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const p=this.Ds(n,m);return this.Cs(n,p,u,g.readTime)?this.ys(e,of(n,null,"F")):this.vs(e,p,n,g)}))))})))))}ws(e,n,s,o){return QE(n)||o.isEqual(Se.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,o)?ie.resolve(null):(vo()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(n)),this.vs(e,u,n,lO(o,Ec)).next((m=>m)))}))}Ds(e,n){let s=new Pt(ew(e));return n.forEach(((o,c)=>{If(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return vo()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.ps.getDocumentsMatchingQuery(e,n,ps.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",BM=3e8;class HM{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Pe),this.xs=new Aa((c=>Ap(c)),Rp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qM(i,e,n,s){return new HM(i,e,n,s)}async function ww(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],m=[];let g=Le();for(const p of o){u.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of c){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:m})))}))}))}function FM(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,E){const T=p.batch,S=T.keys();let O=ie.resolve();return S.forEach((j=>{O=O.next((()=>E.getEntry(g,j))).next(($=>{const q=p.docVersions.get(j);Ge(q!==null,48541),$.version.compareTo(q)<0&&(T.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),E.addEntry($)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Le();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Sw(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function GM(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,T))));let O=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(T,O),(function($,q,re){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=BM?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(S,O,E)&&m.push(n.Pi.updateTargetData(c,O))}));let g=wr(),p=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),m.push($M(c,u,e.documentUpdates).next((E=>{g=E.ks,p=E.qs}))),!s.isEqual(Se.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((T=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,p))).next((()=>g))})).then((c=>(n.Ms=o,c)))}function $M(i,e,n){let s=Le(),o=Le();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=wr();return n.forEach(((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),u=u.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),u=u.insert(m,g)):ue(kp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{ks:u,qs:o}}))}function KM(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=bp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function YM(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.Pi.allocateTargetId(s).next((u=>(o=new us(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Bg(i,e,n){const s=Re(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!$o(u))throw u;ue(kp,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function lT(i,e,n){const s=Re(i);let o=Se.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(g,p,E){const T=Re(g),S=T.xs.get(E);return S!==void 0?ie.resolve(T.Ms.get(S)):T.Pi.getTargetData(p,E)})(s,u,Ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,m.targetId).next((g=>{c=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?c:Le()))).next((m=>(QM(s,MO(e),m),{documents:m,Qs:c})))))}function QM(i,e,n){let s=i.Os.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class cT{constructor(){this.activeTargetIds=jO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XM{constructor(){this.Mo=new cT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="ConnectivityMonitor";class hT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(uT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(uT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function Hg(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="RestConnection",WM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===rf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const u=Hg(),m=this.zo(e,n.toUriEncodedString());ue(lg,`Sending RPC '${e}' ${u}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:p}=new URL(m),E=Bo(p);return this.Jo(e,m,g,s,E).then((T=>(ue(lg,`Received RPC '${e}' ${u}: `,T),T)),(T=>{throw Vo(lg,`RPC '${e}' ${u} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,c,u){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=WM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class t4 extends ZM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const u=Hg();return new Promise(((m,g)=>{const p=new Rb;p.setWithCredentials(!0),p.listenOnce(Cb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Uh.NO_ERROR:const T=p.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:ue(Jt,`RPC '${e}' ${u} timed out`),g(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const S=p.getStatus();if(ue(Jt,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let O=p.getResponseJson();Array.isArray(O)&&(O=O[0]);const j=O==null?void 0:O.error;if(j&&j.status&&j.message){const $=(function(re){const Y=re.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Y)>=0?Y:Z.UNKNOWN})(j.status);g(new le($,j.message))}else g(new le(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new le(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${u} completed.`)}}));const E=JSON.stringify(o);ue(Jt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Hg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=xb(),m=Nb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ue(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=u.createWebChannel(E,g);this.I_(T);let S=!1,O=!1;const j=new e4({Yo:q=>{O?ue(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(S||(ue(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ue(Jt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),$=(q,re,Y)=>{q.listen(re,(J=>{try{Y(J)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return $(T,ac.EventType.OPEN,(()=>{O||(ue(Jt,`RPC '${e}' stream ${o} transport opened.`),j.o_())})),$(T,ac.EventType.CLOSE,(()=>{O||(O=!0,ue(Jt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(T))})),$(T,ac.EventType.ERROR,(q=>{O||(O=!0,Vo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),j.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),$(T,ac.EventType.MESSAGE,(q=>{var re;if(!O){const Y=q.data[0];Ge(!!Y,16349);const J=Y,ce=(J==null?void 0:J.error)||((re=J[0])==null?void 0:re.error);if(ce){ue(Jt,`RPC '${e}' stream ${o} received error:`,ce);const pe=ce.status;let ye=(function(R){const k=Dt[R];if(k!==void 0)return hw(k)})(pe),I=ce.message;ye===void 0&&(ye=Z.INTERNAL,I="Unknown error status: "+pe+" with message "+ce.message),O=!0,j.a_(new le(ye,I)),T.close()}else ue(Jt,`RPC '${e}' stream ${o} received:`,Y),j.u_(Y)}})),$(m,Ib.STAT_EVENT,(q=>{q.stat===xg.PROXY?ue(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===xg.NOPROXY&&ue(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(i){return new sM(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="PersistentStream";class Rw{constructor(e,n,s,o,c,u,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Aw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(fT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ue(fT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n4 extends Rw{constructor(e,n,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lM(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Se.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?ji(u.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=zg(this.serializer),n.addTarget=(function(c,u){let m;const g=u.target;if(m=kg(g)?{documents:hM(c,g)}:{query:fM(c,g).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=mw(c,u.resumeToken);const p=Lg(c,u.expectedCount);p!==null&&(m.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){m.readTime=cf(c,u.snapshotVersion.toTimestamp());const p=Lg(c,u.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const s=mM(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=zg(this.serializer),n.removeTarget=e,this.q_(n)}}class i4 extends Rw{constructor(e,n,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uM(e.writeResults,e.commitTime),s=ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=zg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>cM(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{}class s4 extends r4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Ug(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(Z.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Ug(n,s),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class o4{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Ra(this)&&(ue(va,"Restarting streams for network reachability change."),await(async function(g){const p=Re(g);p.Ea.add(4),await jc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Vf(p)})(this))}))})),this.Ra=new a4(s,o)}}async function Vf(i){if(Ra(i))for(const e of i.da)await e(!0)}async function jc(i){for(const e of i.da)await e(!1)}function Cw(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jp(n)?Up(n):Yo(n).O_()&&Lp(n,e))}function Pp(i,e){const n=Re(i),s=Yo(n);n.Ia.delete(e),s.O_()&&Iw(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ra(n)&&n.Ra.set("Unknown"))}function Lp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(i).Y_(e)}function Iw(i,e){i.Va.Ue(e),Yo(i).Z_(e)}function Up(i){i.Va=new tM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Yo(i).start(),i.Ra.ua()}function jp(i){return Ra(i)&&!Yo(i).x_()&&i.Ia.size>0}function Ra(i){return Re(i).Ea.size===0}function Nw(i){i.Va=void 0}async function l4(i){i.Ra.set("Online")}async function c4(i){i.Ia.forEach(((e,n)=>{Lp(i,e)}))}async function u4(i,e){Nw(i),jp(i)?(i.Ra.ha(e),Up(i)):i.Ra.set("Unknown")}async function h4(i,e,n){if(i.Ra.set("Online"),e instanceof dw&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ue(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hf(i,s)}else if(e instanceof Hh?i.Va.Ze(e):e instanceof fw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Se.min()))try{const s=await Sw(i.localStore);n.compareTo(s)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(p);E&&c.Ia.set(p,E.withResumeToken(g.resumeToken,u))}})),m.targetMismatches.forEach(((g,p)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),Iw(c,g);const T=new us(E.target,g,p,E.sequenceNumber);Lp(c,T)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ue(va,"Failed to raise snapshot:",s),await hf(i,s)}}async function hf(i,e,n){if(!$o(e))throw e;i.Ea.add(1),await jc(i),i.Ra.set("Offline"),n||(n=()=>Sw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ue(va,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Vf(i)}))}function xw(i,e){return e().catch((n=>hf(i,n,e)))}async function kf(i){const e=Re(i),n=Es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bp;for(;f4(e);)try{const o=await KM(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,d4(e,o)}catch(o){await hf(e,o)}Dw(e)&&Ow(e)}function f4(i){return Ra(i)&&i.Ta.length<10}function d4(i,e){i.Ta.push(e);const n=Es(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Dw(i){return Ra(i)&&!Es(i).x_()&&i.Ta.length>0}function Ow(i){Es(i).start()}async function m4(i){Es(i).ra()}async function g4(i){const e=Es(i);for(const n of i.Ta)e.ea(n.mutations)}async function p4(i,e,n){const s=i.Ta.shift(),o=Np.from(s,e,n);await xw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await kf(i)}async function y4(i,e){e&&Es(i).X_&&await(async function(s,o){if((function(u){return WO(u)&&u!==Z.ABORTED})(o.code)){const c=s.Ta.shift();Es(s).B_(),await xw(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await kf(s)}})(i,e),Dw(i)&&Ow(i)}async function dT(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),ue(va,"RemoteStore received new credentials");const s=Ra(n);n.Ea.add(3),await jc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vf(n)}async function _4(i,e){const n=Re(i);e?(n.Ea.delete(2),await Vf(n)):e||(n.Ea.add(2),await jc(n),n.Ra.set("Unknown"))}function Yo(i){return i.ma||(i.ma=(function(n,s,o){const c=Re(n);return c.sa(),new n4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:l4.bind(null,i),t_:c4.bind(null,i),r_:u4.bind(null,i),H_:h4.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),jp(i)?Up(i):i.Ra.set("Unknown")):(await i.ma.stop(),Nw(i))}))),i.ma}function Es(i){return i.fa||(i.fa=(function(n,s,o){const c=Re(n);return c.sa(),new i4(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:m4.bind(null,i),r_:y4.bind(null,i),ta:g4.bind(null,i),na:p4.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await kf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(va,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const u=Date.now()+s,m=new zp(e,n,u,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(i,e){if(br("AsyncQueue",`${e}: ${i}`),$o(i))return new le(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{static emptySet(e){return new xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=oc(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.ga=new ut(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class jo{constructor(e,n,s,o,c,u,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new jo(e,n,xo.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class E4{constructor(){this.queries=gT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),c=o.queries;o.queries=gT(),c.forEach(((u,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function gT(){return new Aa((i=>Zb(i)),Cf)}async function Mw(i,e){const n=Re(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new v4,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=Bp(u,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Hp(n)}async function Vw(i,e){const n=Re(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function T4(i,e){const n=Re(i);let s=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(s=!0);u.wa=o}}s&&Hp(n)}function b4(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Hp(i){i.Ca.forEach((e=>{e.next()}))}var qg,pT;(pT=qg||(qg={})).Ma="default",pT.Cache="cache";class kw{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.key=e}}class Lw{constructor(e){this.key=e}}class w4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=ew(e),this.tu=new xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new mT,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const S=o.get(E),O=If(this.query,T)?T:null,j=!!S&&this.mutatedKeys.has(S.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let q=!1;S&&O?S.data.isEqual(O.data)?j!==$&&(s.track({type:3,doc:O}),q=!0):this.su(S,O)||(s.track({type:2,doc:O}),q=!0,(g&&this.eu(O,g)>0||p&&this.eu(O,p)<0)&&(m=!0)):!S&&O?(s.track({type:0,doc:O}),q=!0):S&&!O&&(s.track({type:1,doc:S}),q=!0,(g||p)&&(m=!0)),q&&(O?(u=u.add(O),c=$?c.add(E):c.delete(E)):(u=u.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const E=this.query.limitType==="F"?u.last():u.first();u=u.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:u,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((E,T)=>(function(O,j){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:q})}};return $(O)-$(j)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,u.length!==0||p?{snapshot:new jo(this.query,e.tu,c,u,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Lw(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Pw(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qp="SyncEngine";class S4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class A4{constructor(e){this.key=e,this.hu=!1}}class R4{constructor(e,n,s,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Aa((m=>Zb(m)),Cf),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ge.comparator),this.Au=new Map,this.Ru=new Op,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function C4(i,e,n=!0){const s=qw(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await Uw(s,e,n,!0),o}async function I4(i,e){const n=qw(i);await Uw(n,e,!0,!1)}async function Uw(i,e,n,s){const o=await YM(i.localStore,Ui(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await N4(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&Cw(i.remoteStore,o),m}async function N4(i,e,n,s,o){i.pu=(T,S,O)=>(async function($,q,re,Y){let J=q.view.ru(re);J.Cs&&(J=await lT($.localStore,q.query,!1).then((({documents:I})=>q.view.ru(I,J))));const ce=Y&&Y.targetChanges.get(q.targetId),pe=Y&&Y.targetMismatches.get(q.targetId)!=null,ye=q.view.applyChanges(J,$.isPrimaryClient,ce,pe);return _T($,q.targetId,ye.au),ye.snapshot})(i,T,S,O);const c=await lT(i.localStore,e,!0),u=new w4(e,c.Qs),m=u.ru(c.documents),g=Uc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),p=u.applyChanges(m,i.isPrimaryClient,g);_T(i,n,p.au);const E=new S4(e,n,u);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),p.snapshot}async function x4(i,e,n){const s=Re(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Cf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),Fg(s,o.targetId)})).catch(Go)):(Fg(s,o.targetId),await Bg(s.localStore,o.targetId,!0))}async function D4(i,e){const n=Re(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function O4(i,e,n){const s=j4(i);try{const o=await(function(u,m){const g=Re(u),p=st.now(),E=m.reduce(((O,j)=>O.add(j.key)),Le());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let j=wr(),$=Le();return g.Ns.getEntries(O,E).next((q=>{j=q,j.forEach(((re,Y)=>{Y.isValidDocument()||($=$.add(re))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,j))).next((q=>{T=q;const re=[];for(const Y of m){const J=KO(Y,T.get(Y.key).overlayedDocument);J!=null&&re.push(new Rs(Y.key,J,Gb(J.value.mapValue),on.exists(!0)))}return g.mutationQueue.addMutationBatch(O,p,re,m)})).next((q=>{S=q;const re=q.applyToLocalDocumentSet(T,$);return g.documentOverlayCache.saveOverlays(O,q.batchId,re)}))})).then((()=>({batchId:S.batchId,changes:nw(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,m,g){let p=u.Vu[u.currentUser.toKey()];p||(p=new ut(Pe)),p=p.insert(m,g),u.Vu[u.currentUser.toKey()]=p})(s,o.batchId,n),await zc(s,o.changes),await kf(s.remoteStore)}catch(o){const c=Bp(o,"Failed to persist write");n.reject(c)}}async function jw(i,e){const n=Re(i);try{const s=await GM(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Ge(u.hu,14607):o.removedDocuments.size>0&&(Ge(u.hu,42227),u.hu=!1))})),await zc(n,s,e)}catch(s){await Go(s)}}function yT(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const g=Re(u);g.onlineState=m;let p=!1;g.queries.forEach(((E,T)=>{for(const S of T.Sa)S.va(m)&&(p=!0)})),p&&Hp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function M4(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new ut(ge.comparator);u=u.insert(c,en.newNoDocument(c,Se.min()));const m=Le().add(c),g=new Of(Se.min(),new Map,new ut(Pe),u,m);await jw(s,g),s.du=s.du.remove(c),s.Au.delete(e),Fp(s)}else await Bg(s.localStore,e,!1).then((()=>Fg(s,e,n))).catch(Go)}async function V4(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await FM(n.localStore,e);Bw(n,s,null),zw(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await zc(n,o)}catch(o){await Go(o)}}async function k4(i,e,n){const s=Re(i);try{const o=await(function(u,m){const g=Re(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(Ge(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E))).next((()=>g.localDocuments.getDocuments(p,E)))}))})(s.localStore,e);Bw(s,e,n),zw(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await zc(s,o)}catch(o){await Go(o)}}function zw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Bw(i,e,n){const s=Re(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Fg(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Hw(i,s)}))}function Hw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Pp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Fp(i))}function _T(i,e,n){for(const s of n)s instanceof Pw?(i.Ru.addReference(s.key,e),P4(i,s)):s instanceof Lw?(ue(qp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Hw(i,s.key)):Te(19791,{wu:s})}function P4(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(qp,"New document in limbo: "+n),i.Eu.add(s),Fp(i))}function Fp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ge(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new A4(n)),i.du=i.du.insert(n,s),Cw(i.remoteStore,new us(Ui(Cp(n.path)),s,"TargetPurposeLimboResolution",Sf.ce))}}async function zc(i,e,n){const s=Re(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{u.push(s.pu(g,e,n).then((p=>{var E;if((p||n)&&s.isPrimaryClient){const T=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Vp.As(g.targetId,p);c.push(T)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(g,p){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(p,(S=>ie.forEach(S.Es,(O=>E.persistence.referenceDelegate.addReference(T,S.targetId,O))).next((()=>ie.forEach(S.ds,(O=>E.persistence.referenceDelegate.removeReference(T,S.targetId,O)))))))))}catch(T){if(!$o(T))throw T;ue(kp,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const O=E.Ms.get(S),j=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(S,$)}}})(s.localStore,c))}async function L4(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){ue(qp,"User change. New user:",e.toKey());const s=await ww(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(Z.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zc(n,s.Ls)}}function U4(i,e){const n=Re(i),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function qw(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M4.bind(null,e),e.Pu.H_=T4.bind(null,e.eventManager),e.Pu.yu=b4.bind(null,e.eventManager),e}function j4(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qM(this.persistence,new zM,e.initialUser,this.serializer)}Cu(e){return new bw(Mp.mi,this.serializer)}Du(e){return new XM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class z4 extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new bw((s=>uf.mi(s,n)),this.serializer)}}class Gg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=L4.bind(null,this.syncEngine),await _4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new E4})()}createDatastore(e){const n=Mf(e.databaseInfo.databaseId),s=(function(c){return new t4(c)})(e.databaseInfo);return(function(c,u,m,g){return new s4(c,u,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,u,m){return new o4(s,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>yT(this.syncEngine,n,0)),(function(){return hT.v()?new hT:new JM})())}createSyncEngine(e,n){return(function(o,c,u,m,g,p,E){const T=new R4(o,c,u,m,g,p);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Re(o);ue(va,"RemoteStore shutting down."),c.Ea.add(5),await jc(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class B4{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Tp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{ue(Ts,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ue(Ts,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ug(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ww(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function vT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await H4(i);ue(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>dT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>dT(e.remoteStore,o))),i._onlineComponents=e}async function H4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Ts,"Using user provided OfflineComponentProvider");try{await ug(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await ug(i,new ff)}}else ue(Ts,"Using default OfflineComponentProvider"),await ug(i,new z4(void 0));return i._offlineComponents}async function Gw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Ts,"Using user provided OnlineComponentProvider"),await vT(i,i._uninitializedComponentsProvider._online)):(ue(Ts,"Using default OnlineComponentProvider"),await vT(i,new Gg))),i._onlineComponents}function q4(i){return Gw(i).then((e=>e.syncEngine))}async function $w(i){const e=await Gw(i),n=e.eventManager;return n.onListen=C4.bind(null,e.syncEngine),n.onUnlisten=x4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=I4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=D4.bind(null,e.syncEngine),n}function F4(i,e,n={}){const s=new _r;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,p){const E=new Fw({next:S=>{E.Nu(),u.enqueueAndForget((()=>Vw(c,T)));const O=S.docs.has(m);!O&&S.fromCache?p.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new kw(Cp(m.path),E,{includeMetadataChanges:!0,qa:!0});return Mw(c,T)})(await $w(i),i.asyncQueue,e,n,s))),s.promise}function G4(i,e,n={}){const s=new _r;return i.asyncQueue.enqueueAndForget((async()=>(function(c,u,m,g,p){const E=new Fw({next:S=>{E.Nu(),u.enqueueAndForget((()=>Vw(c,T))),S.fromCache&&g.source==="server"?p.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new kw(m,E,{includeMetadataChanges:!0,qa:!0});return Mw(c,T)})(await $w(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firestore.googleapis.com",TT=!0;class bT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yw,this.ssl=TT}else this.host=e.host,this.ssl=e.ssl??TT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Tw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wM)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kw(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new XD;switch(s.type){case"firstParty":return new eO(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ET.get(n);s&&(ue("ComponentProvider","Removing Datastore"),ET.delete(n),s.terminate())})(this),Promise.resolve()}}function $4(i,e,n,s={}){var p;i=Gn(i,Pf);const o=Bo(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(f1(`https://${m}`),d1("Firestore",!0)),c.host!==Yw&&c.host!==m&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:s};if(!gs(g,u)&&(i._setSettings(g),s.mockUserToken)){let E,T;if(typeof s.mockUserToken=="string")E=s.mockUserToken,T=Zt.MOCK_USER;else{E=HC(s.mockUserToken,(p=i._app)==null?void 0:p.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Zt(S)}i._authCredentials=new JD(new Ob(E,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Tt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pc(n,Tt._jsonSchema))return new Tt(e,s||null,new ge(nt.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:Mt("string",Tt._jsonSchemaVersion),referencePath:Mt("string")};class ms extends Cs{constructor(e,n,s){super(e,n,Cp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ge(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function Rn(i,e,...n){if(i=mt(i),Mb("collection","path",e),i instanceof Pf){const s=nt.fromString(e,...n);return kE(s),new ms(i,null,s)}{if(!(i instanceof Tt||i instanceof ms))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return kE(s),new ms(i.firestore,null,s)}}function Do(i,e,...n){if(i=mt(i),arguments.length===1&&(e=Tp.newId()),Mb("doc","path",e),i instanceof Pf){const s=nt.fromString(e,...n);return VE(s),new Tt(i,null,new ge(s))}{if(!(i instanceof Tt||i instanceof ms))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return VE(s),new Tt(i.firestore,i instanceof ms?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="AsyncQueue";class ST{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Aw(this,"async_queue_retry"),this._c=()=>{const s=cg();s&&ue(wT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new _r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ue(wT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",AT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=zp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:AT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Is extends Pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ST,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ST(e),this._firestoreClient=void 0,await e}}}function K4(i,e){const n=typeof i=="object"?i:sp(),s=typeof i=="string"?i:rf,o=wa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=zC("firestore");c&&$4(o,...c)}return o}function Lf(i){if(i._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Y4(i),i._firestoreClient}function Y4(i){var s,o,c;const e=i._freezeSettings(),n=(function(m,g,p,E){return new _O(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Kw(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)})(i._databaseId,((s=i._app)==null?void 0:s.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new B4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn(Qt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Mt("string",qn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Mt("string",zi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Mt("string",Bi._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class X4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}class Qw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class Gp{constructor(e,n,s,o,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Xw(this.Ac)&&Q4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class J4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Mf(e)}Cc(e,n,s,o=!1){return new Gp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hc(i){const e=i._freezeSettings(),n=Mf(i._databaseId);return new J4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function $p(i,e,n,s,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);Yp("Data must be an object, but it was:",u,s);const m=Zw(s,u);let g,p;if(c.merge)g=new Cn(u.fieldMask),p=u.fieldTransforms;else if(c.mergeFields){const E=[];for(const T of c.mergeFields){const S=$g(e,T,n);if(!u.contains(S))throw new le(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);tS(E,S)||E.push(S)}g=new Cn(E),p=u.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=u.fieldTransforms;return new X4(new pn(m),g,p)}class jf extends Uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jf}}class Kp extends Uf{_toFieldTransform(e){return new qO(e.path,new Ac)}isEqual(e){return e instanceof Kp}}function Jw(i,e,n,s){const o=i.Cc(1,e,n);Yp("Data must be an object, but it was:",o,s);const c=[],u=pn.empty();As(s,((g,p)=>{const E=Qp(e,g,n);p=mt(p);const T=o.yc(E);if(p instanceof jf)c.push(E);else{const S=qc(p,T);S!=null&&(c.push(E),u.set(E,S))}}));const m=new Cn(c);return new Qw(u,m,o.fieldTransforms)}function Ww(i,e,n,s,o,c){const u=i.Cc(1,e,n),m=[$g(e,s,n)],g=[o];if(c.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push($g(e,c[S])),g.push(c[S+1]);const p=[],E=pn.empty();for(let S=m.length-1;S>=0;--S)if(!tS(p,m[S])){const O=m[S];let j=g[S];j=mt(j);const $=u.yc(O);if(j instanceof jf)p.push(O);else{const q=qc(j,$);q!=null&&(p.push(O),E.set(O,q))}}const T=new Cn(p);return new Qw(E,T,u.fieldTransforms)}function W4(i,e,n,s=!1){return qc(n,i.Cc(s?4:3,e))}function qc(i,e){if(eS(i=mt(i)))return Yp("Unsupported field value:",e,i),Zw(i,e);if(i instanceof Uf)return(function(s,o){if(!Xw(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const m of s){let g=qc(m,o.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=st.fromDate(s);return{timestampValue:cf(o.serializer,c)}}if(s instanceof st){const c=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cf(o.serializer,c)}}if(s instanceof zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:mw(o.serializer,s._byteString)};if(s instanceof Tt){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bi)return(function(u,m){return{mapValue:{fields:{[Hb]:{stringValue:Fb},[sf]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ip(m.serializer,p)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${wf(s)}`)})(i,e)}function Zw(i,e){const n={};return Pb(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(i,((s,o)=>{const c=qc(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function eS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof zi||i instanceof qn||i instanceof Tt||i instanceof Uf||i instanceof Bi)}function Yp(i,e,n){if(!eS(n)||!Vb(n)){const s=wf(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function $g(i,e,n){if((e=mt(e))instanceof Bc)return e._internalPath;if(typeof e=="string")return Qp(i,e);throw df("Field path arguments must be of type string or ",i,!1,void 0,n)}const Z4=new RegExp("[~\\*/\\[\\]]");function Qp(i,e,n){if(e.search(Z4)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Bc(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function df(i,e,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||u)&&(g+=" (found",c&&(g+=` in field ${s}`),u&&(g+=` in document ${o}`),g+=")"),new le(Z.INVALID_ARGUMENT,m+i+g)}function tS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eV extends nS{data(){return super.data()}}function zf(i,e){return typeof e=="string"?Qp(i,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class Jp extends Xp{}function Oi(i,e,...n){let s=[];e instanceof Xp&&s.push(e),s=s.concat(n),(function(c){const u=c.filter((g=>g instanceof Wp)).length,m=c.filter((g=>g instanceof Bf)).length;if(u>1||u>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class Bf extends Jp{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Bf(e,n,s)}_apply(e){const n=this._parse(e);return iS(e._query,n),new Cs(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=Hc(e.firestore);return(function(c,u,m,g,p,E,T){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){CT(T,E);const j=[];for(const $ of T)j.push(RT(g,c,$));S={arrayValue:{values:j}}}else S=RT(g,c,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||CT(T,E),S=W4(m,u,T,E==="in"||E==="not-in");return Ot.create(p,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mi(i,e,n){const s=e,o=zf("where",i);return Bf._create(o,s,n)}class Wp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let u=o;const m=c.getFlattenedFilters();for(const g of m)iS(u,g),u=Pg(u,g)})(e._query,n),new Cs(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zp extends Jp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Zp(e,n)}_apply(e){const n=(function(o,c,u){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(c,u)})(e._query,this._field,this._direction);return new Cs(e.firestore,e.converter,(function(o,c){const u=o.explicitOrderBy.concat([c]);return new Ko(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ca(i,e="asc"){const n=e,s=zf("orderBy",i);return Zp._create(s,n)}class ey extends Jp{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ey(e,n,s)}_apply(e){return new Cs(e.firestore,e.converter,of(e._query,this._limit,this._limitType))}}function ua(i){return oO("limit",i),ey._create("limit",i,"F")}function RT(i,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wb(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ge.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return qE(i,new ge(s))}if(n instanceof Tt)return qE(i,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(n)}.`)}function CT(i,e){if(!Array.isArray(i)||i.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iS(i,e){const n=(function(o,c){for(const u of o)for(const m of u.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nV{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(_s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return As(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){var s,o,c;const n=(c=(o=(s=e.fields)==null?void 0:s[sf].arrayValue)==null?void 0:o.values)==null?void 0:c.map((u=>Et(u.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new zi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=ys(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(Ew(s),9688,{name:e});const o=new bc(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return o.isEqual(n)||br(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class cc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends nS{constructor(e,n,s,o,c,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(zf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Mt("string",da._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class qh extends da{data(e={}){return super.data(e)}}class Oo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new cc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new qh(this._firestore,this._userDataWriter,s.key,s,new cc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const g=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new cc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),E=u.indexOf(m.doc.key)),{type:iV(m.type),doc:g,oldIndex:p,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function iV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(i){i=Gn(i,Tt);const e=Gn(i.firestore,Is);return F4(Lf(e),i._key).then((n=>rV(e,i,n)))}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Mt("string",Oo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class rS extends nV{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function Vi(i){i=Gn(i,Cs);const e=Gn(i.firestore,Is),n=Lf(e),s=new rS(e);return tV(i._query),G4(n,i._query).then((o=>new Oo(e,s,i,o)))}function sS(i,e,n){i=Gn(i,Tt);const s=Gn(i.firestore,Is),o=ty(i.converter,e,n);return Fc(s,[$p(Hc(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,on.none())])}function IT(i,e,n,...s){i=Gn(i,Tt);const o=Gn(i.firestore,Is),c=Hc(o);let u;return u=typeof(e=mt(e))=="string"||e instanceof Bc?Ww(c,"updateDoc",i._key,e,n,s):Jw(c,"updateDoc",i._key,e),Fc(o,[u.toMutation(i._key,on.exists(!0))])}function aS(i){return Fc(Gn(i.firestore,Is),[new Df(i._key,on.none())])}function ny(i,e){const n=Gn(i.firestore,Is),s=Do(i),o=ty(i.converter,e);return Fc(n,[$p(Hc(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,on.exists(!1))]).then((()=>s))}function Fc(i,e){return(function(s,o){const c=new _r;return s.asyncQueue.enqueueAndForget((async()=>O4(await q4(s),o,c))),c.promise})(Lf(i),e)}function rV(i,e,n){const s=n.docs.get(e._key),o=new rS(i);return new da(i,o,e._key,s,new cc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hc(e)}set(e,n,s){this._verifyNotCommitted();const o=hg(e,this._firestore),c=ty(o.converter,n,s),u=$p(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,s);return this._mutations.push(u.toMutation(o._key,on.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const c=hg(e,this._firestore);let u;return u=typeof(n=mt(n))=="string"||n instanceof Bc?Ww(this._dataReader,"WriteBatch.update",c._key,n,s,o):Jw(this._dataReader,"WriteBatch.update",c._key,n),this._mutations.push(u.toMutation(c._key,on.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=hg(e,this._firestore);return this._mutations=this._mutations.concat(new Df(n._key,on.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hg(i,e){if((i=mt(i)).firestore!==e)throw new le(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function cs(){return new Kp("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){return Lf(i=Gn(i,Is)),new sV(i,(e=>Fc(i,e)))}(function(e,n=!0){(function(o){Fo=o})(Ho),Hi(new ai("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),m=new Is(new WD(s.getProvider("auth-internal")),new tO(u,s.getProvider("app-check-internal")),(function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(p.options.projectId,E)})(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Fn(xE,DE,e),Fn(xE,DE,"esm2020")})();const aV={apiKey:"AIzaSyCddND9ciUpeL3xTpWTUMyQ0TG9FyUCdiU",authDomain:"gen-lang-client-0595612537.firebaseapp.com",databaseURL:"https://gen-lang-client-0595612537-default-rtdb.firebaseio.com",projectId:"gen-lang-client-0595612537",storageBucket:"gen-lang-client-0595612537.firebasestorage.app",messagingSenderId:"1022447215307",appId:"1:1022447215307:web:5fbf39694b90d420d2314e",measurementId:"G-9YGZ8Z594C"},iy=E1(aV);GD(iy);const Wt=Ax(iy),dt=K4(iy);var NT={},oV="@vercel/speed-insights",lV="1.2.0",cV=()=>{window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)})};function uV(){return typeof window<"u"}function hV(){try{const i="production"}catch{}return"production"}function oS(){return hV()==="development"}function fV(i){return i.scriptSrc?i.scriptSrc:oS()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":i.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":i.basePath?`${i.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function dV(i={}){var e;if(!uV()||i.route===null)return null;cV();const n=fV(i);if(document.head.querySelector(`script[src*="${n}"]`))return null;i.beforeSend&&((e=window.si)==null||e.call(window,"beforeSend",i.beforeSend));const s=document.createElement("script");return s.src=n,s.defer=!0,s.dataset.sdkn=oV+(i.framework?`/${i.framework}`:""),s.dataset.sdkv=lV,i.sampleRate&&(s.dataset.sampleRate=i.sampleRate.toString()),i.route&&(s.dataset.route=i.route),i.endpoint?s.dataset.endpoint=i.endpoint:i.basePath&&(s.dataset.endpoint=`${i.basePath}/speed-insights/vitals`),i.dsn&&(s.dataset.dsn=i.dsn),oS()&&i.debug===!1&&(s.dataset.debug="false"),s.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${n}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(s),{setRoute:o=>{s.dataset.route=o??void 0}}}function mV(){if(!(typeof process>"u"||typeof NT>"u"))return NT.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function gV(i){U.useEffect(()=>{var n;i.beforeSend&&((n=window.si)==null||n.call(window,"beforeSend",i.beforeSend))},[i.beforeSend]);const e=U.useRef(null);return U.useEffect(()=>{if(e.current)i.route&&e.current(i.route);else{const n=dV({framework:i.framework??"react",basePath:i.basePath??mV(),...i});n&&(e.current=n.setRoute)}},[i.route]),null}var xT={},pV="@vercel/analytics",yV="1.5.0",_V=()=>{window.va||(window.va=function(...e){(window.vaq=window.vaq||[]).push(e)})};function lS(){return typeof window<"u"}function cS(){try{const i="production"}catch{}return"production"}function vV(i="auto"){if(i==="auto"){window.vam=cS();return}window.vam=i}function EV(){return(lS()?window.vam:cS())||"production"}function Yg(){return EV()==="development"}function TV(i){return i.scriptSrc?i.scriptSrc:Yg()?"https://va.vercel-scripts.com/v1/script.debug.js":i.basePath?`${i.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function bV(i={debug:!0}){var e;if(!lS())return;vV(i.mode),_V(),i.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",i.beforeSend));const n=TV(i);if(document.head.querySelector(`script[src*="${n}"]`))return;const s=document.createElement("script");s.src=n,s.defer=!0,s.dataset.sdkn=pV+(i.framework?`/${i.framework}`:""),s.dataset.sdkv=yV,i.disableAutoTrack&&(s.dataset.disableAutoTrack="1"),i.endpoint?s.dataset.endpoint=i.endpoint:i.basePath&&(s.dataset.endpoint=`${i.basePath}/insights`),i.dsn&&(s.dataset.dsn=i.dsn),s.onerror=()=>{const o=Yg()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${o}`)},Yg()&&i.debug===!1&&(s.dataset.debug="false"),document.head.appendChild(s)}function wV({route:i,path:e}){var n;(n=window.va)==null||n.call(window,"pageview",{route:i,path:e})}function SV(){if(!(typeof process>"u"||typeof xT>"u"))return xT.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function AV(i){return U.useEffect(()=>{var e;i.beforeSend&&((e=window.va)==null||e.call(window,"beforeSend",i.beforeSend))},[i.beforeSend]),U.useEffect(()=>{bV({framework:i.framework||"react",basePath:i.basePath??SV(),...i.route!==void 0&&{disableAutoTrack:!0},...i})},[]),U.useEffect(()=>{i.route&&i.path&&wV({route:i.route,path:i.path})},[i.route,i.path]),null}let uS=-1;const Qo=i=>{addEventListener("pageshow",(e=>{e.persisted&&(uS=e.timeStamp,i(e))}),!0)},Fi=(i,e,n,s)=>{let o,c;return u=>{e.value>=0&&(u||s)&&(c=e.value-(o??0),(c||o===void 0)&&(o=e.value,e.delta=c,e.rating=((m,g)=>m>g[1]?"poor":m>g[0]?"needs-improvement":"good")(e.value,n),i(e)))}},ry=i=>{requestAnimationFrame((()=>requestAnimationFrame((()=>i()))))},sy=()=>{const i=performance.getEntriesByType("navigation")[0];if(i&&i.responseStart>0&&i.responseStart<performance.now())return i},Gc=()=>{const i=sy();return(i==null?void 0:i.activationStart)??0},Gi=(i,e=-1)=>{const n=sy();let s="navigate";return uS>=0?s="back-forward-cache":n&&(document.prerendering||Gc()>0?s="prerender":document.wasDiscarded?s="restore":n.type&&(s=n.type.replace(/_/g,"-"))),{name:i,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:s}},fg=new WeakMap;function ay(i,e){return fg.get(i)||fg.set(i,new e),fg.get(i)}class RV{constructor(){fr(this,"t");fr(this,"i",0);fr(this,"o",[])}h(e){var o;if(e.hadRecentInput)return;const n=this.o[0],s=this.o.at(-1);this.i&&n&&s&&e.startTime-s.startTime<1e3&&e.startTime-n.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),(o=this.t)==null||o.call(this,e)}}const $c=(i,e,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(i)){const s=new PerformanceObserver((o=>{Promise.resolve().then((()=>{e(o.getEntries())}))}));return s.observe({type:i,buffered:!0,...n}),s}}catch{}},oy=i=>{let e=!1;return()=>{e||(i(),e=!0)}};let Ao=-1;const hS=new Set,DT=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Qg=i=>{if(document.visibilityState==="hidden"){if(i.type==="visibilitychange")for(const e of hS)e();isFinite(Ao)||(Ao=i.type==="visibilitychange"?i.timeStamp:0,removeEventListener("prerenderingchange",Qg,!0))}},Hf=()=>{var i;if(Ao<0){const e=Gc();Ao=(document.prerendering||(i=globalThis.performance.getEntriesByType("visibility-state").filter((s=>s.name==="hidden"&&s.startTime>e))[0])==null?void 0:i.startTime)??DT(),addEventListener("visibilitychange",Qg,!0),addEventListener("prerenderingchange",Qg,!0),Qo((()=>{setTimeout((()=>{Ao=DT()}))}))}return{get firstHiddenTime(){return Ao},onHidden(e){hS.add(e)}}},qf=i=>{document.prerendering?addEventListener("prerenderingchange",(()=>i()),!0):i()},OT=[1800,3e3],fS=(i,e={})=>{qf((()=>{const n=Hf();let s,o=Gi("FCP");const c=$c("paint",(u=>{for(const m of u)m.name==="first-contentful-paint"&&(c.disconnect(),m.startTime<n.firstHiddenTime&&(o.value=Math.max(m.startTime-Gc(),0),o.entries.push(m),s(!0)))}));c&&(s=Fi(i,o,OT,e.reportAllChanges),Qo((u=>{o=Gi("FCP"),s=Fi(i,o,OT,e.reportAllChanges),ry((()=>{o.value=performance.now()-u.timeStamp,s(!0)}))})))}))},MT=[.1,.25],CV=(i,e={})=>{const n=Hf();fS(oy((()=>{let s,o=Gi("CLS",0);const c=ay(e,RV),u=g=>{for(const p of g)c.h(p);c.i>o.value&&(o.value=c.i,o.entries=c.o,s())},m=$c("layout-shift",u);m&&(s=Fi(i,o,MT,e.reportAllChanges),n.onHidden((()=>{u(m.takeRecords()),s(!0)})),Qo((()=>{c.i=0,o=Gi("CLS",0),s=Fi(i,o,MT,e.reportAllChanges),ry((()=>s()))})),setTimeout(s))})))};let dS=0,dg=1/0,xh=0;const IV=i=>{for(const e of i)e.interactionId&&(dg=Math.min(dg,e.interactionId),xh=Math.max(xh,e.interactionId),dS=xh?(xh-dg)/7+1:0)};let Xg;const VT=()=>Xg?dS:performance.interactionCount??0,NV=()=>{"interactionCount"in performance||Xg||(Xg=$c("event",IV,{type:"event",buffered:!0,durationThreshold:0}))};let kT=0;class xV{constructor(){fr(this,"u",[]);fr(this,"l",new Map);fr(this,"m");fr(this,"p")}v(){kT=VT(),this.u.length=0,this.l.clear()}L(){const e=Math.min(this.u.length-1,Math.floor((VT()-kT)/50));return this.u[e]}h(e){var o,c;if((o=this.m)==null||o.call(this,e),!e.interactionId&&e.entryType!=="first-input")return;const n=this.u.at(-1);let s=this.l.get(e.interactionId);if(s||this.u.length<10||e.duration>n.P){if(s?e.duration>s.P?(s.entries=[e],s.P=e.duration):e.duration===s.P&&e.startTime===s.entries[0].startTime&&s.entries.push(e):(s={id:e.interactionId,entries:[e],P:e.duration},this.l.set(s.id,s),this.u.push(s)),this.u.sort(((u,m)=>m.P-u.P)),this.u.length>10){const u=this.u.splice(10);for(const m of u)this.l.delete(m.id)}(c=this.p)==null||c.call(this,s)}}}const mS=i=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?i():(i=oy(i),addEventListener("visibilitychange",i,{once:!0,capture:!0}),e((()=>{i(),removeEventListener("visibilitychange",i,{capture:!0})})))},PT=[200,500],DV=(i,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const n=Hf();qf((()=>{NV();let s,o=Gi("INP");const c=ay(e,xV),u=g=>{mS((()=>{for(const E of g)c.h(E);const p=c.L();p&&p.P!==o.value&&(o.value=p.P,o.entries=p.entries,s())}))},m=$c("event",u,{durationThreshold:e.durationThreshold??40});s=Fi(i,o,PT,e.reportAllChanges),m&&(m.observe({type:"first-input",buffered:!0}),n.onHidden((()=>{u(m.takeRecords()),s(!0)})),Qo((()=>{c.v(),o=Gi("INP"),s=Fi(i,o,PT,e.reportAllChanges)})))}))};class OV{constructor(){fr(this,"m")}h(e){var n;(n=this.m)==null||n.call(this,e)}}const LT=[2500,4e3],MV=(i,e={})=>{qf((()=>{const n=Hf();let s,o=Gi("LCP");const c=ay(e,OV),u=g=>{e.reportAllChanges||(g=g.slice(-1));for(const p of g)c.h(p),p.startTime<n.firstHiddenTime&&(o.value=Math.max(p.startTime-Gc(),0),o.entries=[p],s())},m=$c("largest-contentful-paint",u);if(m){s=Fi(i,o,LT,e.reportAllChanges);const g=oy((()=>{u(m.takeRecords()),m.disconnect(),s(!0)})),p=E=>{E.isTrusted&&(mS(g),removeEventListener(E.type,p,{capture:!0}))};for(const E of["keydown","click","visibilitychange"])addEventListener(E,p,{capture:!0});Qo((E=>{o=Gi("LCP"),s=Fi(i,o,LT,e.reportAllChanges),ry((()=>{o.value=performance.now()-E.timeStamp,s(!0)}))}))}}))},UT=[800,1800],Jg=i=>{document.prerendering?qf((()=>Jg(i))):document.readyState!=="complete"?addEventListener("load",(()=>Jg(i)),!0):setTimeout(i)},VV=(i,e={})=>{let n=Gi("TTFB"),s=Fi(i,n,UT,e.reportAllChanges);Jg((()=>{const o=sy();o&&(n.value=Math.max(o.responseStart-Gc(),0),n.entries=[o],s(!0),Qo((()=>{n=Gi("TTFB",0),s=Fi(i,n,UT,e.reportAllChanges),s(!0)})))}))},kV=()=>(U.useEffect(()=>{const i=e=>{};CV(i),DV(i),fS(i),MV(i),VV(i)},[]),null),mg="users",gg="cvHistory";class Mo{static async saveUserProfile(e,n,s,o){try{const c=Do(dt,mg,e),u=await Kg(c);u.exists()?await IT(c,{displayName:s||u.data().displayName,avatar:o||u.data().avatar,updatedAt:cs()}):await sS(c,{uid:e,email:n,displayName:s||"",avatar:o||"",createdAt:cs(),updatedAt:cs()})}catch(c){throw console.error("Error saving user profile:",c),c}}static async getUserProfile(e){try{const n=Do(dt,mg,e),s=await Kg(n);return s.exists()?s.data():null}catch(n){return console.error("Error getting user profile:",n),null}}static async updateUserAvatar(e,n){try{const s=Do(dt,mg,e);await IT(s,{avatar:n,updatedAt:cs()})}catch(s){throw console.error("Error updating user avatar:",s),s}}static async saveCVHistory(e,n,s){try{await ny(Rn(dt,gg),{uid:e,email:n,...s,timestamp:cs()})}catch(o){throw console.error("Error saving CV history:",o),o}}static async getUserCVHistory(e,n=50){try{const s=Oi(Rn(dt,gg),Mi("uid","==",e),ca("timestamp","desc"),ua(n)),o=await Vi(s),c=[];return o.forEach(u=>{c.push({id:u.id,...u.data()})}),c}catch(s){return console.error("Error getting user CV history:",s),[]}}static async cleanupOldHistory(e,n=100){try{const s=Oi(Rn(dt,gg),Mi("uid","==",e),ca("timestamp","desc"),ua(1e3)),c=(await Vi(s)).docs;if(c.length>n){const u=c.slice(n),m=[];for(const g of u)m.push(aS(g.ref));await Promise.all(m)}}catch(s){console.error("Error cleaning up old history:",s)}}static async migrateLocalDataToFirebase(e,n){try{const s=localStorage.getItem("userAvatar");s&&(await this.updateUserAvatar(e,s),localStorage.removeItem("userAvatar"));const o=localStorage.getItem("cvFilterHistory");if(o){const c=JSON.parse(o);for(const u of c)await this.saveCVHistory(e,n,{jdText:u.jdText,jdTitle:u.jdTitle||"V tr tuyn dng",cvCount:u.cvCount,results:u.results});localStorage.removeItem("cvFilterHistory")}}catch(s){console.error("Error migrating local data to Firebase:",s)}}}const PV={jdFit:{key:"jdFit",name:"Ph hp JD (Job Fit)",icon:"fa-solid fa-bullseye",color:"text-sky-400",children:[{key:"overallFit",name:"Mc  ph hp",weight:20}]},workExperience:{key:"workExperience",name:"Kinh nghim",icon:"fa-solid fa-briefcase",color:"text-green-400",children:[{key:"totalYears",name:"S nm tng",weight:8},{key:"relevantExperience",name:"Kinh nghim chuyn ngnh",weight:12}]},technicalSkills:{key:"technicalSkills",name:"K nng",icon:"fa-solid fa-gears",color:"text-purple-400",children:[{key:"hardSkills",name:"K nng cng/Technical",weight:10},{key:"softSkills",name:"K nng mm/Soft",weight:5}]},achievements:{key:"achievements",name:"Thnh tu/KPI",icon:"fa-solid fa-trophy",color:"text-yellow-400",children:[{key:"quantifiableKPI",name:"KPI nh lng",weight:7},{key:"awardsAndCertificates",name:"Gii thng/chng nhn",weight:3}]},education:{key:"education",name:"Hc vn",icon:"fa-solid fa-graduation-cap",color:"text-indigo-400",children:[{key:"degree",name:"Hc v",weight:5},{key:"grade",name:"Loi bng",weight:1},{key:"certificates",name:"Chng ch khc",weight:4}]},language:{key:"language",name:"Ngn ng",icon:"fa-solid fa-language",color:"text-orange-400",children:[{key:"proficiency",name:"Mc  thnh tho",weight:8}]},professionalism:{key:"professionalism",name:"Chuyn nghip",icon:"fa-solid fa-file-invoice",color:"text-cyan-400",children:[{key:"format",name:"B cc CV",weight:2},{key:"clarity",name:"R rng",weight:2},{key:"grammar",name:"Ng php",weight:1}]},jobTenure:{key:"jobTenure",name:"Gn b & Lch s CV",icon:"fa-solid fa-hourglass-half",color:"text-lime-400",children:[{key:"averageTenure",name:"Tenure trung bnh",weight:3},{key:"jobHoppingRate",name:"T l nhy vic",weight:2}]},cultureFit:{key:"cultureFit",name:"Ph hp vn ho",icon:"fa-solid fa-users-gear",color:"text-pink-400",children:[{key:"valueAlignment",name:"Gi tr c nhn",weight:7}]}},xk="gemini-2.5-flash";/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UV=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),jT=i=>{const e=UV(i);return e.charAt(0).toUpperCase()+e.slice(1)},gS=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),jV=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:u,...m},g)=>U.createElement("svg",{ref:g,...zV,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:gS("lucide",o),...!c&&!jV(m)&&{"aria-hidden":"true"},...m},[...u.map(([p,E])=>U.createElement(p,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=(i,e)=>{const n=U.forwardRef(({className:s,...o},c)=>U.createElement(BV,{ref:c,iconNode:e,className:gS(`lucide-${LV(jT(i))}`,`lucide-${i}`,s),...o}));return n.displayName=jT(i),n};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],qV=Ns("chevron-left",HV);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],GV=Ns("chevron-right",FV);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],KV=Ns("file-text",$V);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],QV=Ns("history",YV);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],JV=Ns("house",XV);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],ZV=Ns("sliders-vertical",WV);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tk=Ns("sparkles",ek);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ik=Ns("upload",nk),rk=({activeStep:i,setActiveStep:e,completedSteps:n,onReset:s,onLogout:o,userEmail:c,onLoginRequest:u,isOpen:m=!0,onClose:g,onShowSettings:p,onCollapsedChange:E})=>{const[T,S]=U.useState(()=>{if(typeof window<"u"){const Y=localStorage.getItem("sidebarCollapsed");return Y?JSON.parse(Y):!1}return!1}),O=()=>{S(Y=>{const J=!Y;return localStorage.setItem("sidebarCollapsed",JSON.stringify(J)),E&&E(J),J})},j=Y=>{q(Y)&&(e(Y),typeof window<"u"&&window.innerWidth<768&&g&&g())},$=[{key:"home",icon:JV,label:"Trang ch"},{key:"jd",icon:KV,label:"M t Cng vic"},{key:"weights",icon:ZV,label:"Phn b Trng s"},{key:"upload",icon:ik,label:"Ti ln CV"},{key:"analysis",icon:tk,label:"Phn Tch AI"}],q=Y=>Y==="home"||Y==="jd"?!0:Y==="weights"?n.includes("jd"):Y==="upload"?n.includes("jd")&&n.includes("weights"):Y==="analysis"?n.includes("jd")&&n.includes("weights")&&n.includes("upload"):Y==="process",re=Y=>{const J=i===Y.key,ce=q(Y.key),pe=n.includes(Y.key),ye=Y.icon,A=(R=>{if(pe)return"text-green-400";if(J)return"text-cyan-400";if(!ce)return"text-slate-500";switch(R){case"home":return"text-cyan-400";case"jd":return"text-blue-400";case"weights":return"text-purple-400";case"upload":return"text-green-400";case"analysis":return"text-amber-400";default:return"text-slate-400"}})(Y.key);return C.jsx("li",{className:"w-full",children:C.jsxs("button",{className:`w-full relative flex items-center gap-3 px-3 py-2.5 transition-all duration-200 group
            ${J?"bg-slate-800/80 text-white":"text-slate-300 hover:bg-slate-800/50 hover:text-white"} 
            ${ce?"cursor-pointer":"opacity-40 cursor-not-allowed"}
            ${T?"justify-center":""}`,disabled:!ce,onClick:()=>j(Y.key),title:T?Y.label:"",children:[C.jsx("div",{className:`flex items-center justify-center transition-colors ${A}`,children:C.jsx(ye,{className:"w-5 h-5"})}),!T&&C.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:Y.label}),pe&&!J&&!T&&C.jsx("span",{className:"ml-auto w-1.5 h-1.5 bg-green-400 rounded-full"})]})},Y.key)};return C.jsxs(C.Fragment,{children:[m&&C.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:g}),C.jsxs("aside",{id:"cv-sidebar",className:`flex flex-col fixed top-0 left-0 h-screen bg-slate-900/95 border-r border-slate-800 shadow-xl z-50 backdrop-blur-sm overflow-hidden transition-all duration-300 ease-in-out ${m?"translate-x-0":"-translate-x-full md:translate-x-0"} ${T?"w-16":"w-64"}`,children:[C.jsxs("div",{className:`flex items-center gap-3 px-4 py-5 border-b border-slate-800 ${T?"justify-center px-2":""}`,children:[C.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-slate-800 rounded-lg flex-shrink-0 border border-slate-700",children:C.jsx("span",{className:"text-white font-bold text-lg",children:"S"})}),!T&&C.jsx("span",{className:"text-[#60A5FA] font-semibold text-lg",children:"Support HR"})]}),C.jsx("button",{onClick:O,className:"absolute top-6 -right-3 w-6 h-6 bg-slate-800 border border-slate-700 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700 transition-all duration-200 z-10 hidden md:flex",children:T?C.jsx(GV,{className:"w-3 h-3"}):C.jsx(qV,{className:"w-3 h-3"})}),C.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:C.jsx("ul",{className:`flex flex-col gap-1 ${T?"px-2":"px-3"}`,children:$.map(re)})}),c&&p&&C.jsx("div",{className:`border-t border-slate-800 ${T?"p-2":"p-3"}`,children:C.jsxs("button",{onClick:()=>{p(),typeof window<"u"&&window.innerWidth<768&&g&&g()},className:`w-full flex items-center gap-3 px-3 py-2.5 text-slate-300 hover:bg-slate-800/50 hover:text-white transition-all duration-200 ${T?"justify-center":""}`,title:T?"Lch s":"",children:[C.jsx(QV,{className:"w-5 h-5 text-slate-400"}),!T&&C.jsx("span",{className:"text-sm font-medium",children:"Lch s"})]})})]})]})},sk=({show:i,onClose:e,syncType:n,success:s,message:o})=>{const[c,u]=U.useState(!1);if(U.useEffect(()=>{if(i){u(!0);const E=setTimeout(()=>{u(!1),setTimeout(e,300)},3e3);return()=>clearTimeout(E)}},[i,e]),!i&&!c)return null;const m=()=>{switch(n){case"avatar":return"fa-camera";case"history":return"fa-history";case"profile":return"fa-user-circle";default:return"fa-sync"}},g=()=>{switch(n){case"avatar":return"ng b Avatar";case"history":return"ng b Lch s";case"profile":return"ng b H s";default:return"ng b d liu"}},p=s?`${g()} thnh cng! D liu  c lu vo ti khon Gmail ca bn.`:`Khng th ${g().toLowerCase()}.  lu vo b nh cc b.`;return C.jsx("div",{className:`fixed top-4 right-4 z-50 transform transition-all duration-300 ease-in-out ${c?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:C.jsx("div",{className:`min-w-80 max-w-md p-4 rounded-xl border backdrop-blur-lg shadow-2xl ${s?"bg-gradient-to-r from-green-500/20 to-emerald-500/20 border-green-400/50":"bg-gradient-to-r from-orange-500/20 to-yellow-500/20 border-orange-400/50"}`,children:C.jsxs("div",{className:"flex items-start gap-3",children:[C.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${s?"bg-green-500/20":"bg-orange-500/20"}`,children:C.jsx("i",{className:`fa-solid ${s?"fa-check":"fa-exclamation-triangle"} text-sm ${s?"text-green-400":"text-orange-400"}`})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx("i",{className:`fa-solid ${m()} text-sm ${s?"text-green-400":"text-orange-400"}`}),C.jsx("h4",{className:`font-semibold text-sm ${s?"text-green-200":"text-orange-200"}`,children:g()})]}),C.jsx("p",{className:`text-xs leading-relaxed ${s?"text-green-300/80":"text-orange-300/80"}`,children:o||p})]}),C.jsx("button",{onClick:()=>{u(!1),setTimeout(e,300)},className:`w-6 h-6 rounded-full flex items-center justify-center hover:bg-white/10 transition-colors flex-shrink-0 ${s?"text-green-400 hover:text-green-300":"text-orange-400 hover:text-orange-300"}`,children:C.jsx("i",{className:"fa-solid fa-times text-xs"})})]})})})},ak=({userEmail:i,onLogout:e,onLoginRequest:n,onBrandClick:s,sidebarOpen:o,onToggleSidebar:c,sidebarCollapsed:u})=>{const[m,g]=U.useState(!1),[p,E]=U.useState(!1),[T,S]=U.useState(null),[O,j]=U.useState({show:!1,syncType:"avatar",success:!1,message:""});U.useEffect(()=>{const J=localStorage.getItem("theme")==="dark";g(J),document.documentElement.classList.toggle("dark",J)},[]),U.useEffect(()=>{(async()=>{if(i){const J=K1(Wt,async ce=>{if(ce&&ce.email===i)try{const pe=await Mo.getUserProfile(ce.uid);if(pe!=null&&pe.avatar)S(pe.avatar);else{const ye=localStorage.getItem(`avatar_${i}`);S(ye)}await Mo.migrateLocalDataToFirebase(ce.uid,ce.email)}catch(pe){console.error("Error loading user profile:",pe);const ye=localStorage.getItem(`avatar_${i}`);S(ye)}});return()=>J()}})()},[i]);const $=Y=>Y.charAt(0).toUpperCase(),q=Y=>{const J=["bg-red-500","bg-green-500","bg-blue-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500"],ce=Y.charCodeAt(0)%J.length;return J[ce]},re=async Y=>{var ce;const J=(ce=Y.target.files)==null?void 0:ce[0];if(J&&i)if(J.type==="image/jpeg"||J.type==="image/png"||J.type==="image/jpg"){const pe=new FileReader;pe.onload=async ye=>{var A;const I=(A=ye.target)==null?void 0:A.result;S(I);try{const R=Wt.currentUser;R?(await Mo.updateUserAvatar(R.uid,I),console.log("Avatar updated successfully in Firebase"),j({show:!0,syncType:"avatar",success:!0,message:"Avatar  c ng b thnh cng vi ti khon Gmail!"})):localStorage.setItem(`avatar_${i}`,I)}catch(R){console.error("Error updating avatar in Firebase:",R),localStorage.setItem(`avatar_${i}`,I),j({show:!0,syncType:"avatar",success:!1,message:"Vui lng ng nhp  ng b avatar vi ti khon Gmail."}),j({show:!0,syncType:"avatar",success:!1,message:"Khng th ng b vi Firebase. Avatar  lu cc b."})}},pe.readAsDataURL(J)}else j({show:!0,syncType:"avatar",success:!1,message:"Ch h tr nh dng JPG v PNG."})};return C.jsxs(C.Fragment,{children:[C.jsxs("nav",{className:`fixed top-0 left-0 right-0 h-14 flex items-center justify-between px-4 ${u?"md:pl-20":"md:pl-72"} bg-gradient-to-r from-slate-900/95 via-slate-800/95 to-slate-900/95 dark:from-gray-900/95 dark:via-gray-800/95 dark:to-gray-900/95 backdrop-blur-lg border-b border-slate-600/30 dark:border-gray-600/30 z-40 navbar shadow-lg transition-all duration-300 ease-in-out`,children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("button",{onClick:c,className:"md:hidden w-9 h-9 rounded-lg flex items-center justify-center text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors duration-200 border border-slate-600/30 hover:border-slate-500/50",title:o?"ng thanh bn":"M thanh bn",children:C.jsx("i",{className:`fa-solid ${o?"fa-xmark":"fa-bars"} text-sm transition-transform duration-200`})}),C.jsxs("div",{className:"md:hidden flex items-center gap-3 cursor-pointer select-none",onClick:s,title:"Support HR",children:[C.jsx("div",{className:"w-9 h-9 rounded-lg overflow-hidden border border-white/10 bg-slate-800/50 flex items-center justify-center",children:C.jsx("img",{src:"/images/logos/logo.jpg",alt:"Support HR",className:"object-cover w-full h-full",onError:Y=>{const J=Y.currentTarget;J.style.display="none",J.parentElement.innerHTML='<span class="font-bold text-sm text-white">HR</span>'},draggable:!1})}),C.jsx("span",{className:"text-lg font-bold tracking-wide bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"Support HR"})]})]}),C.jsx("div",{className:"flex items-center gap-3",children:i?C.jsxs("div",{className:"relative",children:[C.jsx("button",{onClick:()=>E(!p),className:"w-9 h-9 rounded-full flex items-center justify-center text-white font-bold hover:ring-2 hover:ring-white/50 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400/60 text-sm border border-white/20 overflow-hidden",title:"Menu ti khon",children:T?C.jsx("img",{src:T,alt:"Avatar",className:"w-full h-full object-cover"}):C.jsx("div",{className:`w-full h-full ${q(i)} flex items-center justify-center rounded-full`,children:$(i)})}),p&&C.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-800 rounded-lg shadow-xl ring-1 ring-black/10 dark:ring-white/10 z-50 overflow-hidden",children:[C.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600",children:C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold border-2 border-white/30 overflow-hidden",children:T?C.jsx("img",{src:T,alt:"Avatar",className:"w-full h-full object-cover"}):C.jsx("div",{className:`w-full h-full ${q(i)} flex items-center justify-center rounded-full`,children:$(i)})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:"text-sm font-medium text-white",children:"Ti khon"}),C.jsx("p",{className:"text-xs text-white/80 truncate",children:i})]})]})}),C.jsxs("div",{className:"py-1",children:[C.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[C.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Ci t"}),C.jsxs("label",{className:"w-full flex items-center px-2 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors duration-150 cursor-pointer",children:[C.jsx("i",{className:"fa-solid fa-camera w-4 text-center mr-3 text-gray-500"}),C.jsx("span",{children:"Thay i nh i din"}),C.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:re,className:"hidden"})]})]}),C.jsx("div",{className:"px-2 py-2",children:C.jsxs("button",{onClick:()=>{E(!1),e==null||e()},className:"w-full flex items-center px-2 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md transition-colors duration-150",children:[C.jsx("i",{className:"fa-solid fa-right-from-bracket w-4 text-center mr-3"}),C.jsx("span",{children:"ng xut"})]})})]})]}),p&&C.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>E(!1)})]}):n&&C.jsxs("button",{onClick:n,className:"px-4 py-2 rounded-md bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white text-sm font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-blue-400/40",children:[C.jsx("i",{className:"fa-solid fa-right-to-bracket mr-2"}),"ng nhp"]})})]}),C.jsx(sk,{show:O.show,syncType:O.syncType,success:O.success,message:O.message,onClose:()=>j(Y=>({...Y,show:!1}))})]})},ok=()=>{const i=new Date().getFullYear(),e=[{name:"Facebook",icon:"fa-brands fa-facebook",url:"https://www.facebook.com/profile.php?id=61577736765345&locale=vi_VN",color:"hover:text-blue-500"},{name:"GitHub",icon:"fa-brands fa-github",url:"https://github.com/orgs/TechFutureAIFPT/dashboard",color:"hover:text-gray-300"},{name:"LinkedIn",icon:"fa-brands fa-linkedin",url:"https://www.linkedin.com/in/truong-minh-hoang-phuc-5ba70532b/",color:"hover:text-blue-400"},{name:"Discord",icon:"fa-brands fa-discord",url:"https://discord.gg/supporthr",color:"hover:text-purple-400"}];return C.jsx("footer",{className:"bg-slate-900/50 border-t border-slate-700/50 backdrop-blur-sm mt-auto",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("img",{src:"/images/logos/logo.jpg",alt:"SupportHR Logo",className:"w-10 h-10 rounded-lg object-cover border-2 border-blue-500/30",onError:n=>{console.log("Logo not found, using fallback icon"),n.target.style.display="none";const s=n.target.nextElementSibling;s&&s.classList.remove("hidden")}}),C.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center hidden",children:C.jsx("i",{className:"fa-solid fa-users text-white text-sm"})}),C.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"SupportHR"})]}),C.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Nn tng AI h tr tuyn dng thng minh, gip HR ti u ha quy trnh sng lc CV v tm kim ng vin ph hp."})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("h4",{className:"text-lg font-semibold text-slate-200",children:"Lin h"}),C.jsxs("div",{className:"space-y-3",children:[C.jsxs("a",{href:"tel:0899280108",className:"flex items-center space-x-3 text-slate-400 hover:text-blue-400 transition-colors group",children:[C.jsx("i",{className:"fa-solid fa-phone w-4 text-center group-hover:scale-110 transition-transform"}),C.jsx("span",{className:"text-sm",children:"0899 280 108"})]}),C.jsxs("a",{href:"mailto:support@supporthr.vn",className:"flex items-center space-x-3 text-slate-400 hover:text-blue-400 transition-colors group",children:[C.jsx("i",{className:"fa-solid fa-envelope w-4 text-center group-hover:scale-110 transition-transform"}),C.jsx("span",{className:"text-sm",children:"support@supporthr.vn"})]})]})]}),C.jsxs("div",{className:"space-y-4",children:[C.jsx("h4",{className:"text-lg font-semibold text-slate-200",children:"Kt ni"}),C.jsx("div",{className:"flex flex-wrap gap-3",children:e.map((n,s)=>C.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`w-10 h-10 bg-slate-800 border border-slate-700 rounded-lg flex items-center justify-center text-slate-400 ${n.color} transition-colors group hover:border-slate-600`,title:n.name,children:C.jsx("i",{className:`${n.icon} text-lg group-hover:scale-110 transition-transform`})},s))}),C.jsx("p",{className:"text-xs text-slate-500 mt-4",children:"Theo di chng ti  cp nht nhng tnh nng mi nht v xu hng AI trong tuyn dng."})]})]}),C.jsxs("div",{className:"border-t border-slate-700/50 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[C.jsxs("div",{className:"text-sm text-slate-400",children:[" ",i," ",C.jsx("span",{className:"font-semibold text-slate-300",children:"SupportHR"}),". Tt c quyn c bo lu."]}),C.jsxs("div",{className:"flex items-center space-x-6 text-xs text-slate-500",children:[C.jsx("span",{children:"Phin bn 3.0"}),C.jsx("span",{children:""}),C.jsx("span",{children:"c pht trin bi TechFutureAI"}),C.jsx("span",{children:""}),C.jsxs("span",{className:"flex items-center space-x-1",children:[C.jsx("i",{className:"fa-solid fa-heart text-red-500"}),C.jsx("span",{children:"Made in Vietnam"})]})]})]})]})})},lk=({activeStep:i,completedSteps:e})=>{const n=[{key:"jd",label:"JD",icon:"fa-clipboard-list"},{key:"weights",label:"Trng s",icon:"fa-sliders"},{key:"upload",label:"CV",icon:"fa-file-arrow-up"},{key:"analysis",label:"AI",icon:"fa-rocket"}],o=(u=>n.findIndex(m=>m.key===u))(i),c=(o+1)/n.length*100;return C.jsx("div",{className:"md:hidden w-full mb-8 px-4",children:C.jsxs("div",{className:"bg-slate-800/30 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-lg",children:[C.jsxs("div",{className:"flex items-center justify-between relative mb-4",children:[C.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-slate-700 -z-10"}),C.jsx("div",{className:"absolute top-5 left-0 h-0.5 bg-gradient-to-r from-blue-500 to-cyan-500 transition-all duration-700 ease-out -z-10",style:{width:`${c}%`}}),n.map((u,m)=>{const g=e.includes(u.key),p=i===u.key,E=m<=o,S={jd:{base:"bg-blue-500 border-2 border-blue-400",hover:"hover:bg-blue-600 hover:border-blue-500",active:"bg-gradient-to-br from-blue-400 to-cyan-500 border-2 border-cyan-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"},weights:{base:"bg-purple-500 border-2 border-purple-400",hover:"hover:bg-purple-600 hover:border-purple-500",active:"bg-gradient-to-br from-purple-400 to-pink-500 border-2 border-pink-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"},upload:{base:"bg-emerald-500 border-2 border-emerald-400",hover:"hover:bg-emerald-600 hover:border-emerald-500",active:"bg-gradient-to-br from-emerald-400 to-teal-500 border-2 border-teal-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"},analysis:{base:"bg-orange-500 border-2 border-orange-400",hover:"hover:bg-orange-600 hover:border-orange-500",active:"bg-gradient-to-br from-orange-400 to-red-500 border-2 border-red-300",completed:"bg-gradient-to-br from-green-400 to-emerald-500 border-2 border-emerald-300"}}[u.key];return C.jsxs("div",{className:"flex flex-col items-center relative z-10",children:[C.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all duration-300 shadow-lg ${g?`${S.completed} text-white shadow-green-500/30 scale-110`:p?`${S.active} text-white shadow-blue-500/40 scale-110 animate-pulse`:E?`${S.base} text-white shadow-slate-600/20 ${S.hover}`:"bg-slate-700 text-slate-500 shadow-slate-700/20"}`,children:C.jsx("i",{className:`fa-solid ${u.icon} ${p?"animate-bounce":""}`})}),C.jsx("span",{className:`text-xs mt-2 font-semibold transition-colors duration-300 ${p?"text-blue-400":g?"text-green-400":"text-slate-400"}`,children:u.label})]},u.key)})]}),C.jsxs("div",{className:"text-center",children:[C.jsxs("div",{className:"text-sm font-medium text-slate-300 mb-1",children:["Tin trnh: ",Math.round(c),"%"]}),C.jsx("div",{className:"w-full bg-slate-700 rounded-full h-3 overflow-hidden shadow-inner",children:C.jsx("div",{className:"bg-gradient-to-r from-blue-500 via-cyan-500 to-teal-500 h-full rounded-full transition-all duration-700 ease-out shadow-sm",style:{width:`${c}%`}})})]})]})})},_o="syncedAnalysisCache",ic="syncedAnalysisHistory",ck=7,pg=50,zT=100;class yg{static async syncCacheToFirebase(e,n,s,o,c,u){const m=Wt.currentUser;if(m)try{const g=new Date;g.setDate(g.getDate()+ck);const p={uid:m.uid,email:m.email,cacheKey:e,candidateData:n,timestamp:cs(),jdHash:s,weightsHash:o,filtersHash:c,fileInfo:u,expiresAt:g},E=Do(dt,_o,`${m.uid}_${e}`);await sS(E,p),await this.cleanupOldCacheEntries(m.uid)}catch(g){console.error("Error syncing cache to Firebase:",g)}}static async getCacheFromFirebase(e){var s,o;const n=Wt.currentUser;if(!n)return null;try{const c=Do(dt,_o,`${n.uid}_${e}`),u=await Kg(c);if(!u.exists())return null;const m=u.data(),g=new Date,p=((o=(s=m.expiresAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date(0);return g>p?(await aS(c),null):m.candidateData}catch(c){return console.error("Error getting cache from Firebase:",c),null}}static async getAllUserCacheFromFirebase(){const e=Wt.currentUser;if(!e)return new Map;try{const n=Oi(Rn(dt,_o),Mi("uid","==",e.uid),ca("timestamp","desc"),ua(pg)),s=await Vi(n),o=new Map,c=new Date,u=[];if(s.forEach(m=>{var E,T;const g=m.data(),p=((T=(E=g.expiresAt)==null?void 0:E.toDate)==null?void 0:T.call(E))||new Date(0);c<=p?o.set(g.cacheKey,g.candidateData):u.push(m.ref)}),u.length>0){const m=Nh(dt);u.forEach(g=>m.delete(g)),await m.commit()}return o}catch(n){return console.error("Error getting all user cache from Firebase:",n),new Map}}static async syncHistoryToFirebase(e){const n=Wt.currentUser;if(n)try{const s=e.candidates,o={A:0,B:0,C:0};s.forEach(u=>{var g;const m=u.status==="FAILED"?"C":((g=u.analysis)==null?void 0:g.Hng)||"C";o[m]++});const c={uid:n.uid,email:n.email,analysisData:e,timestamp:cs(),jobPosition:e.job.position,locationRequirement:e.job.locationRequirement,totalCandidates:s.length,gradesCount:o};await ny(Rn(dt,ic),c),await this.cleanupOldHistoryEntries(n.uid)}catch(s){console.error("Error syncing history to Firebase:",s)}}static async getHistoryFromFirebase(e=20){const n=Wt.currentUser;if(!n)return[];try{const s=Oi(Rn(dt,ic),Mi("uid","==",n.uid),ca("timestamp","desc"),ua(e)),o=await Vi(s),c=[];return o.forEach(u=>{const m=u.data();c.push(m.analysisData)}),c}catch(s){return console.error("Error getting history from Firebase:",s),[]}}static async migrateLocalDataToFirebase(){if(Wt.currentUser){console.log("Starting data migration to Firebase...");try{await this.migrateCacheFromLocalStorage(),await this.migrateHistoryFromLocalStorage(),console.log("Data migration completed successfully")}catch(n){console.error("Error during data migration:",n)}}}static async migrateCacheFromLocalStorage(){try{const e=localStorage.getItem("cvAnalysisCache");if(!e)return;const n=JSON.parse(e),s=[];for(const[o,c]of Object.entries(n)){const u=c;s.push(this.syncCacheToFirebase(o,u.candidateData,u.jdHash,u.weightsHash,u.filtersHash,{name:o.split("_")[0]||"unknown",size:u.fileSize||0,lastModified:u.fileLastModified||0}))}await Promise.all(s),localStorage.removeItem("cvAnalysisCache"),console.log("Cache migration completed")}catch(e){console.error("Error migrating cache from localStorage:",e)}}static async migrateHistoryFromLocalStorage(){try{const e=["cvAnalysis.latest","cvFilterHistory","analysisHistory"];for(const n of e){const s=localStorage.getItem(n);if(s)if(n==="cvAnalysis.latest"){const o=JSON.parse(s);await this.syncHistoryToFirebase(o)}else{const o=JSON.parse(s);if(Array.isArray(o))for(const c of o)c.candidates&&c.job&&await this.syncHistoryToFirebase(c)}}e.forEach(n=>localStorage.removeItem(n)),console.log("History migration completed")}catch(e){console.error("Error migrating history from localStorage:",e)}}static async loadDataFromFirebase(){if(Wt.currentUser){console.log("Loading data from Firebase...");try{const n=await this.getAllUserCacheFromFirebase();if(n.size>0){const o={};n.forEach((c,u)=>{o[u]=c}),localStorage.setItem("cvAnalysisCache",JSON.stringify(o))}const s=await this.getHistoryFromFirebase(50);s.length>0&&(localStorage.setItem("cvAnalysis.latest",JSON.stringify(s[0])),localStorage.setItem("analysisHistory",JSON.stringify(s))),console.log("Data loaded from Firebase successfully")}catch(n){console.error("Error loading data from Firebase:",n)}}}static async cleanupOldCacheEntries(e){try{const n=Oi(Rn(dt,_o),Mi("uid","==",e),ca("timestamp","desc"),ua(1e3)),o=(await Vi(n)).docs;if(o.length>pg){const c=o.slice(pg),u=Nh(dt);c.forEach(m=>u.delete(m.ref)),await u.commit()}}catch(n){console.error("Error cleaning up old cache entries:",n)}}static async cleanupOldHistoryEntries(e){try{const n=Oi(Rn(dt,ic),Mi("uid","==",e),ca("timestamp","desc"),ua(1e3)),o=(await Vi(n)).docs;if(o.length>zT){const c=o.slice(zT),u=Nh(dt);c.forEach(m=>u.delete(m.ref)),await u.commit()}}catch(n){console.error("Error cleaning up old history entries:",n)}}static async clearUserSyncedData(){const e=Wt.currentUser;if(e)try{const n=Oi(Rn(dt,_o),Mi("uid","==",e.uid)),s=await Vi(n),o=Oi(Rn(dt,ic),Mi("uid","==",e.uid)),c=await Vi(o),u=Nh(dt);s.docs.forEach(m=>u.delete(m.ref)),c.docs.forEach(m=>u.delete(m.ref)),await u.commit(),console.log("User synced data cleared successfully")}catch(n){console.error("Error clearing user synced data:",n)}}static async getSyncStats(){var n;const e=Wt.currentUser;if(!e)return{cacheEntries:0,historyEntries:0,lastSyncTime:null};try{const s=Oi(Rn(dt,_o),Mi("uid","==",e.uid)),o=await Vi(s),c=Oi(Rn(dt,ic),Mi("uid","==",e.uid),ca("timestamp","desc"),ua(1)),u=await Vi(c);let m=null;if(!u.empty){const p=u.docs[0].data().timestamp;m=((n=p==null?void 0:p.toDate)==null?void 0:n.call(p))||null}return{cacheEntries:o.size,historyEntries:u.size,lastSyncTime:m}}catch(s){return console.error("Error getting sync stats:",s),{cacheEntries:0,historyEntries:0,lastSyncTime:null}}}}class uk{constructor(){this.cache=new Map,this.CACHE_EXPIRY=1440*60*1e3,this.MAX_CACHE_SIZE=100}generateCacheKey(e,n,s,o){return`${e.name}_${e.size}_${e.lastModified}_${n}_${s}_${o}`}hashString(e){let n=0;for(let s=0;s<e.length;s++){const o=e.charCodeAt(s);n=(n<<5)-n+o,n=n&n}return Math.abs(n).toString(36)}generateAnalysisHashes(e,n,s){return{jdHash:this.hashString(e),weightsHash:this.hashString(JSON.stringify(n)),filtersHash:this.hashString(JSON.stringify(s))}}async getCachedAnalysis(e,n,s,o){const c=this.generateCacheKey(e,n,s,o),u=this.cache.get(c);if(u)if(Date.now()-u.timestamp>this.CACHE_EXPIRY)this.cache.delete(c);else{if(u.fileSize===e.size&&u.fileLastModified===e.lastModified)return u.candidateData;this.cache.delete(c)}if(Wt.currentUser)try{const m=await yg.getCacheFromFirebase(c);if(m){const g={candidateData:m,timestamp:Date.now(),jdHash:n,weightsHash:s,filtersHash:o,fileSize:e.size,fileLastModified:e.lastModified};return this.cache.set(c,g),m}}catch(m){console.warn("Failed to get cache from Firebase:",m)}return null}async cacheAnalysis(e,n,s,o,c){this.cache.size>=this.MAX_CACHE_SIZE&&this.cleanOldEntries();const u=this.generateCacheKey(e,s,o,c),m={candidateData:n,timestamp:Date.now(),jdHash:s,weightsHash:o,filtersHash:c,fileSize:e.size,fileLastModified:e.lastModified};this.cache.set(u,m);try{const g=this.loadPersistentCache();g[u]=m;const p=Date.now()-this.CACHE_EXPIRY,E=Object.fromEntries(Object.entries(g).filter(([T,S])=>S.timestamp>p));localStorage.setItem("cvAnalysisCache",JSON.stringify(E))}catch(g){console.warn("Failed to persist analysis cache:",g)}if(Wt.currentUser)try{await yg.syncCacheToFirebase(u,n,s,o,c,{name:e.name,size:e.size,lastModified:e.lastModified})}catch(g){console.warn("Failed to sync cache to Firebase:",g)}}loadPersistentCache(){try{const e=localStorage.getItem("cvAnalysisCache");return e?JSON.parse(e):{}}catch(e){return console.warn("Failed to load persistent cache:",e),{}}}async initializeFromStorage(){const e=this.loadPersistentCache(),n=Date.now()-this.CACHE_EXPIRY;for(const[s,o]of Object.entries(e))o.timestamp>n&&this.cache.set(s,o);if(Wt.currentUser)try{(await yg.getAllUserCacheFromFirebase()).forEach((o,c)=>{if(!this.cache.has(c)){const u={candidateData:o,timestamp:Date.now(),jdHash:"",weightsHash:"",filtersHash:"",fileSize:0,fileLastModified:0};this.cache.set(c,u)}})}catch(s){console.warn("Failed to load cache from Firebase:",s)}}cleanOldEntries(){const e=Date.now()-this.CACHE_EXPIRY,n=[];for(const[s,o]of this.cache.entries())o.timestamp<e&&n.push(s);if(n.forEach(s=>this.cache.delete(s)),this.cache.size>this.MAX_CACHE_SIZE){const s=Array.from(this.cache.entries());s.sort((c,u)=>c[1].timestamp-u[1].timestamp),s.slice(0,s.length-this.MAX_CACHE_SIZE+10).forEach(([c])=>this.cache.delete(c))}}getCacheStats(){const n=Array.from(this.cache.values()).map(s=>s.timestamp);return{size:this.cache.size,hitRate:0,oldestEntry:n.length>0?Math.min(...n):0,newestEntry:n.length>0?Math.max(...n):0}}clearCache(){this.cache.clear(),localStorage.removeItem("cvAnalysisCache")}async batchCheckCache(e,n,s,o){const c=[],u=[];return(await Promise.all(e.map(async g=>{const p=await this.getCachedAnalysis(g,n,s,o);return{file:g,result:p}}))).forEach(({file:g,result:p})=>{p?c.push({file:g,result:p}):u.push(g)}),{cached:c,uncached:u}}}const Fh=new uk;Fh.initializeFromStorage().catch(i=>{console.warn("Failed to initialize cache from storage:",i)});class hk{constructor(){this.STORAGE_KEY="cvFilterHistory",this.MAX_HISTORY_ENTRIES=30}addFilterSession(e){const n={timestamp:Date.now(),date:new Date().toLocaleString("vi-VN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),jobPosition:e||"Khng r v tr"},s=this.getHistory();s.unshift(n),s.length>this.MAX_HISTORY_ENTRIES&&s.splice(this.MAX_HISTORY_ENTRIES),this.saveHistory(s)}getHistory(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}catch(e){return console.warn("Failed to load CV filter history:",e),[]}}saveHistory(e){try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}catch(n){console.warn("Failed to save CV filter history:",n)}}clearHistory(){localStorage.removeItem(this.STORAGE_KEY)}getHistoryStats(){var m;const e=this.getHistory();if(e.length===0)return{totalSessions:0,lastSession:null,thisWeekCount:0,thisMonthCount:0};const n=Date.now(),s=n-10080*60*1e3,o=n-720*60*60*1e3,c=e.filter(g=>g.timestamp>s).length,u=e.filter(g=>g.timestamp>o).length;return{totalSessions:e.length,lastSession:((m=e[0])==null?void 0:m.date)||null,thisWeekCount:c,thisMonthCount:u}}getRecentHistory(){return this.getHistory().slice(0,15)}}const wo=new hk,fk=({isOpen:i,onClose:e})=>{const[n,s]=U.useState({size:0,hitRate:0,oldestEntry:0,newestEntry:0}),[o,c]=U.useState({totalSessions:0,lastSession:null,thisWeekCount:0,thisMonthCount:0}),[u,m]=U.useState([]);U.useEffect(()=>{if(i){const j=Fh.getCacheStats();s(j);const $=wo.getHistoryStats();c($);const q=wo.getRecentHistory();m(q)}},[i]);const g=()=>{window.confirm("Bn c chc mun xa ton b cache? iu ny s lm chm cc ln phn tch tip theo.")&&(Fh.clearCache(),s({size:0,hitRate:0,oldestEntry:0,newestEntry:0}))},p=()=>{window.confirm("Bn c chc mun xa ton b lch s lc CV? Hnh ng ny khng th hon tc.")&&(wo.clearHistory(),c({totalSessions:0,lastSession:null,thisWeekCount:0,thisMonthCount:0}),m([]))},E=()=>{const j=Fh.getCacheStats();s(j)},T=()=>{const j=wo.getHistoryStats();c(j);const $=wo.getRecentHistory();m($)},S=j=>j?new Date(j).toLocaleString("vi-VN"):"N/A",O=j=>j<20?"text-green-400":j<50?"text-yellow-400":"text-red-400";return i?C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:e}),C.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:C.jsxs("div",{className:"bg-slate-800/95 backdrop-blur border border-slate-600 rounded-xl max-w-md w-full max-h-[80vh] overflow-y-auto shadow-2xl",children:[C.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-600",children:[C.jsxs("h2",{className:"text-lg font-semibold text-slate-200 flex items-center gap-2",children:[C.jsx("i",{className:"fa-solid fa-history text-green-400"}),"Lch s & Thng k"]}),C.jsx("button",{onClick:e,className:"w-8 h-8 hover:bg-slate-700 rounded-lg text-slate-400 hover:text-slate-200 transition-colors flex items-center justify-center",children:C.jsx("i",{className:"fa-solid fa-times"})})]}),C.jsxs("div",{className:"p-6 space-y-6",children:[C.jsxs("div",{children:[C.jsxs("h3",{className:"text-md font-semibold text-slate-200 mb-4 flex items-center gap-2",children:[C.jsx("i",{className:"fa-solid fa-database text-blue-400"}),"Cache Statistics"]}),C.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 space-y-3",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Entries"}),C.jsxs("div",{className:`text-lg font-mono font-bold ${O(n.size)}`,children:[n.size,C.jsx("span",{className:"text-sm text-slate-400",children:"/100"})]})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Hit Rate"}),C.jsxs("div",{className:"text-lg font-mono font-bold text-slate-200",children:[n.hitRate.toFixed(1),C.jsx("span",{className:"text-sm",children:"%"})]})]})]}),(n.oldestEntry>0||n.newestEntry>0)&&C.jsxs("div",{className:"border-t border-slate-700 pt-3 space-y-2",children:[n.oldestEntry>0&&C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"text-slate-400",children:"Oldest Entry:"}),C.jsx("span",{className:"text-slate-300 font-mono",children:S(n.oldestEntry)})]}),n.newestEntry>0&&C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"text-slate-400",children:"Newest Entry:"}),C.jsx("span",{className:"text-slate-300 font-mono",children:S(n.newestEntry)})]})]}),C.jsxs("div",{className:"flex gap-2 pt-2",children:[C.jsxs("button",{onClick:E,className:"flex-1 px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-2",children:[C.jsx("i",{className:"fa-solid fa-refresh"}),"Refresh"]}),C.jsxs("button",{onClick:g,disabled:n.size===0,className:"flex-1 px-3 py-2 bg-red-600 hover:bg-red-500 disabled:bg-slate-600 disabled:text-slate-400 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-2",children:[C.jsx("i",{className:"fa-solid fa-trash"}),"Clear"]})]}),n.size>0&&C.jsx("div",{className:"text-xs text-slate-500 text-center pt-2 border-t border-slate-700",children:" Cache gip tng tc phn tch cho cng JD & trng s"})]})]}),C.jsxs("div",{children:[C.jsxs("h3",{className:"text-md font-semibold text-slate-200 mb-4 flex items-center gap-2",children:[C.jsx("i",{className:"fa-solid fa-history text-green-400"}),"Lch s Lc CV"]}),C.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 space-y-3",children:[C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Tng ln lc"}),C.jsx("div",{className:"text-lg font-mono font-bold text-blue-400",children:o.totalSessions})]}),C.jsxs("div",{className:"text-center",children:[C.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Tun ny"}),C.jsx("div",{className:"text-lg font-mono font-bold text-yellow-400",children:o.thisWeekCount})]})]}),o.lastSession&&C.jsx("div",{className:"border-t border-slate-700 pt-3",children:C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsx("span",{className:"text-slate-400",children:"Ln lc gn nht:"}),C.jsx("span",{className:"text-slate-300 font-mono text-xs",children:o.lastSession})]})}),u.length>0&&C.jsxs("div",{className:"border-t border-slate-700 pt-3",children:[C.jsx("div",{className:"text-xs text-slate-400 mb-2",children:"Lch s gn y:"}),C.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:u.slice(0,8).map((j,$)=>C.jsxs("div",{className:"flex justify-between text-xs",children:[C.jsx("span",{className:"text-slate-300 truncate max-w-[160px]",children:j.jobPosition}),C.jsx("span",{className:"text-slate-400 text-xs",children:j.date})]},$))})]}),C.jsxs("div",{className:"flex gap-2 pt-2",children:[C.jsxs("button",{onClick:T,className:"flex-1 px-3 py-2 bg-green-600 hover:bg-green-500 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-2",children:[C.jsx("i",{className:"fa-solid fa-refresh"}),"Refresh"]}),C.jsxs("button",{onClick:p,disabled:o.totalSessions===0,className:"flex-1 px-3 py-2 bg-red-600 hover:bg-red-500 disabled:bg-slate-600 disabled:text-slate-400 text-white text-sm rounded-lg transition-colors flex items-center justify-center gap-2",children:[C.jsx("i",{className:"fa-solid fa-trash"}),"Clear"]})]}),o.totalSessions>0&&C.jsx("div",{className:"text-xs text-slate-500 text-center pt-2 border-t border-slate-700",children:" Ghi li cc ln bn  lc CV"})]})]})]})]})})]}):null},dk="cvHistory";async function mk({jdText:i,jobPosition:e,locationRequirement:n,candidates:s,userEmail:o,weights:c,hardFilters:u}){try{const m=s.length,g={A:0,B:0,C:0};s.forEach(O=>{var $;const j=O.status==="FAILED"?"C":(($=O.analysis)==null?void 0:$.Hng)||"C";j==="A"?g.A++:j==="B"?g.B++:g.C++});const E=[...s].filter(O=>O.status==="SUCCESS").sort((O,j)=>{var $,q;return((($=j.analysis)==null?void 0:$["Tng im"])||0)-(((q=O.analysis)==null?void 0:q["Tng im"])||0)}).slice(0,3).map(O=>{var j,$,q,re,Y;return{id:O.id,name:O.candidateName,score:((j=O.analysis)==null?void 0:j["Tng im"])||0,jdFit:parseInt(((re=(q=($=O.analysis)==null?void 0:$["Chi tit"])==null?void 0:q.find(J=>J["Tiu ch"].startsWith("Ph hp JD")))==null?void 0:re.im.split("/")[0])||"0",10),grade:((Y=O.analysis)==null?void 0:Y.Hng)||"C"}}),T=await ny(Rn(dt,dk),{jobPosition:e,locationRequirement:n,jdTextSnippet:i.slice(0,300),totalCandidates:m,grades:g,topCandidates:E,userEmail:o,fullPayload:{jdText:i,jobPosition:e,weights:c,hardFilters:u,candidates:s},createdAt:cs(),timestamp:Date.now()}),S=Wt.currentUser;if(S&&S.email===o)try{await Mo.saveCVHistory(S.uid,o,{jdText:i,jdTitle:e,cvCount:m,results:s})}catch(O){console.warn("Failed to sync with UserProfileService:",O)}return T.id}catch(m){throw console.error("Failed to save history session",m),m}}const Dh=U.lazy(()=>Ea(()=>import("./ScreenerPage-DH2JNpun.js").then(i=>i.S),__vite__mapDeps([0,1]))),gk=U.lazy(()=>Ea(()=>import("./ProcessPage-BYYBpHi9.js"),[])),oa=U.lazy(()=>Ea(()=>import("./DashboardHomePage-B67mezb9.js"),[])),pk=U.lazy(()=>Ea(()=>import("./DashboardPage-BH-owa8Z.js"),__vite__mapDeps([2,1])));U.lazy(()=>Ea(()=>import("./AchievementsContactPage-NxTlncAs.js"),[]));const yk=U.lazy(()=>Ea(()=>import("./LoginPage-DlfHodme.js"),[])),_k=U.lazy(()=>Ea(()=>import("./DetailedAnalyticsPage-pV-kEa_f.js"),[]));function vk(i){const e=U.useRef(void 0);return U.useEffect(()=>{e.current=i}),e.current}const Ek=()=>C.jsx(bC,{children:C.jsx(Tk,{})}),Tk=()=>{const[i,e]=U.useState(!1),[n,s]=U.useState(null),[o,c]=U.useState(!1),[u,m]=U.useState(Date.now()),[g,p]=U.useState(!0),E=async O=>{c(!1)},T=()=>{m(Date.now())},S=()=>{c(!0)};return U.useEffect(()=>{const O=K1(Wt,async j=>{if(s(j),e(!!j),j){localStorage.setItem("authEmail",j.email||"");try{await Mo.saveUserProfile(j.uid,j.email,j.displayName||void 0),await Mo.migrateLocalDataToFirebase(j.uid,j.email)}catch($){console.error("Error syncing user profile:",$)}}else localStorage.removeItem("authEmail");p(!1)});return()=>O()},[]),U.useEffect(()=>{if(!g&&!n){const O=()=>{try{const $=localStorage.getItem("authEmail")||"",q=!!($&&$.length>0);q&&!i&&e(q)}catch{}};O(),window.addEventListener("storage",O);const j=setInterval(O,5e3);return()=>{window.removeEventListener("storage",O),clearInterval(j)}}},[g,n,i]),C.jsxs(C.Fragment,{children:[C.jsx(bk,{onResetRequest:T,isLoggedIn:i,onLoginRequest:S},u),o&&C.jsxs("div",{className:"fixed inset-0 z-50",children:[C.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 w-12 h-12 bg-slate-800/80 backdrop-blur-sm border border-slate-600 rounded-full flex items-center justify-center text-slate-400 hover:text-white hover:border-slate-500 transition-colors z-10",children:C.jsx("i",{className:"fa-solid fa-xmark text-xl"})}),C.jsx(yk,{onLogin:E})]})]})},bk=({onResetRequest:i,className:e,isLoggedIn:n,onLoginRequest:s})=>{const[o,c]=U.useState(()=>{var W;return typeof window<"u"&&((W=window.localStorage)==null?void 0:W.getItem("authEmail"))||""}),[u,m]=U.useState([]),[g,p]=U.useState(!1),[E,T]=U.useState(()=>{if(typeof window<"u"){const W=localStorage.getItem("sidebarCollapsed");return W?JSON.parse(W):!1}return!1}),[S,O]=U.useState(()=>{const W=localStorage.getItem("sidebarOpen");return W!==null?JSON.parse(W):!1}),j=bs(),$=JT(),q=U.useCallback(()=>{try{localStorage.removeItem("authEmail")}catch{}window.location.reload()},[]),re=U.useCallback(()=>{O(W=>{const se=!W;return localStorage.setItem("sidebarOpen",JSON.stringify(se)),se})},[]);U.useEffect(()=>{const W=()=>{window.innerWidth<768&&O(!1)};if(typeof window<"u")return window.addEventListener("resize",W),()=>{window.removeEventListener("resize",W)}},[]);const[Y,J]=U.useState(""),[ce,pe]=U.useState(""),[ye,I]=U.useState(PV),[A,R]=U.useState({location:"",minExp:"",seniority:"",education:"",industry:"",language:"",languageLevel:"",certificates:"",salaryMin:"",salaryMax:"",workFormat:"",contractType:"",locationMandatory:!0,minExpMandatory:!0,seniorityMandatory:!0,educationMandatory:!1,contactMandatory:!1,industryMandatory:!0,languageMandatory:!1,certificatesMandatory:!1,salaryMandatory:!1,workFormatMandatory:!1,contractTypeMandatory:!1}),[k,D]=U.useState([]),[L,N]=U.useState([]),[$e,gt]=U.useState(!1),[Q,oe]=U.useState("");U.useEffect(()=>{const W=()=>{try{const ve=localStorage.getItem("authEmail")||"";c(be=>be&&be.length>0?be:ve)}catch{}};W(),window.addEventListener("storage",W);const se=setInterval(W,5e3);return()=>{window.removeEventListener("storage",W),clearInterval(se)}},[]),U.useCallback(W=>{if(W)try{J(W.jdText||""),pe(W.jobPosition||""),W.weights&&I(W.weights),W.hardFilters&&R(W.hardFilters),W.candidates&&N(W.candidates),m(["jd","weights","upload","analysis"]),$("/analysis")}catch(se){console.warn("Restore failed",se)}},[$]);const de=vk($e);U.useEffect(()=>{!Y||Y.length<80||R(W=>{if(W.industry&&W.industryManual)return W;const se=cR(Y);return se&&se!==W.industry?{...W,industry:se}:W})},[Y]),U.useEffect(()=>{if(de&&!$e&&L.length>0){const W=L.filter(se=>se.status==="SUCCESS");if(W.length>0){const se=W.map(tt=>({...tt,id:tt.id||`${tt.fileName}-${tt.candidateName}-${Math.random()}`})),ve={timestamp:Date.now(),job:{position:ce,locationRequirement:A.location||"Khng c"},candidates:se};localStorage.setItem("cvAnalysis.latest",JSON.stringify(ve));const be=localStorage.getItem("showCVFilterHistory");(be!==null?JSON.parse(be):!0)&&wo.addFilterSession(ce||"Khng r v tr"),mk({jdText:Y,jobPosition:ce,locationRequirement:A.location||"Khng c",candidates:se,userEmail:o||"anonymous",weights:ye,hardFilters:A}).catch(tt=>console.warn("Save history failed",tt))}}},[$e,de,L,ce,A.location,Y,o,ye,A]);const we=U.useMemo(()=>{switch(j.pathname){case"/process":return"process";case"/jd":return"jd";case"/weights":return"weights";case"/upload":return"upload";case"/analysis":return"analysis";case"/dashboard":return"dashboard";case"/detailed-analytics":return"dashboard";case"/":default:return"home"}},[j.pathname]),xe=U.useCallback(W=>{const se={home:"/",jd:"/jd",weights:"/weights",upload:"/upload",analysis:"/analysis",dashboard:"/dashboard",process:"/process"};se[W]&&$(se[W])},[$]),V=U.useCallback(W=>{m(se=>[...new Set([...se,W])])},[]),ee={jdText:Y,setJdText:J,jobPosition:ce,setJobPosition:pe,weights:ye,setWeights:I,hardFilters:A,setHardFilters:R,cvFiles:k,setCvFiles:D,analysisResults:L,setAnalysisResults:N,isLoading:$e,setIsLoading:gt,loadingMessage:Q,setLoadingMessage:oe,activeStep:we,setActiveStep:xe,completedSteps:u,markStepAsCompleted:V};return C.jsxs("div",{className:`min-h-screen text-slate-200 flex flex-col ${e||""}`,children:[C.jsx(ak,{userEmail:o,onLogout:q,onLoginRequest:s,onBrandClick:()=>xe("home"),sidebarOpen:S,onToggleSidebar:re,sidebarCollapsed:E}),C.jsx(rk,{activeStep:we,setActiveStep:xe,completedSteps:u,onReset:i,onLogout:q,userEmail:o,onLoginRequest:s,isOpen:S,onClose:()=>O(!1),onShowSettings:()=>p(!0),onCollapsedChange:T}),C.jsxs("main",{className:`main-content ${E?"md:ml-16":"md:ml-64"} ${we==="home"||we==="jd"?"pt-14":"pt-16"} flex-1 flex flex-col min-h-0 transition-all duration-300 ease-in-out`,children:[we!=="home"&&we!=="jd"&&C.jsx(lk,{activeStep:we,completedSteps:u}),C.jsx("div",{className:`w-full ${we==="weights"?"container-responsive":we==="home"||we==="jd"?"flex-1":"max-w-7xl px-4 sm:px-6 lg:px-8 mx-auto py-2"} ${we==="home"||we==="jd"?"":"py-2"} flex-1`,children:C.jsx(U.Suspense,{fallback:C.jsx("div",{className:"flex justify-center items-center h-64",children:C.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),children:C.jsxs(ZR,{children:[C.jsx(dr,{path:"/",element:C.jsx(oa,{setActiveStep:xe,isLoggedIn:n,onLoginRequest:s,completedSteps:u})}),C.jsx(dr,{path:"/jd",element:n?C.jsx(Dh,{...ee}):C.jsx(oa,{setActiveStep:xe,isLoggedIn:n,onLoginRequest:s,completedSteps:u})}),C.jsx(dr,{path:"/weights",element:n?C.jsx(Dh,{...ee}):C.jsx(oa,{setActiveStep:xe,isLoggedIn:n,onLoginRequest:s,completedSteps:u})}),C.jsx(dr,{path:"/upload",element:n?C.jsx(Dh,{...ee}):C.jsx(oa,{setActiveStep:xe,isLoggedIn:n,onLoginRequest:s,completedSteps:u})}),C.jsx(dr,{path:"/analysis",element:n?C.jsx(Dh,{...ee}):C.jsx(oa,{setActiveStep:xe,isLoggedIn:n,onLoginRequest:s,completedSteps:u})}),C.jsx(dr,{path:"/dashboard",element:n?C.jsx(pk,{}):C.jsx(oa,{setActiveStep:xe,isLoggedIn:n,onLoginRequest:s,completedSteps:u})}),C.jsx(dr,{path:"/detailed-analytics",element:n?C.jsx(_k,{candidates:L,jobPosition:ce}):C.jsx(oa,{setActiveStep:xe,isLoggedIn:n,onLoginRequest:s,completedSteps:u})}),C.jsx(dr,{path:"/process",element:C.jsx(gk,{})})]})})}),we==="home"&&C.jsx(ok,{})]}),C.jsx(fk,{isOpen:g,onClose:()=>p(!1)}),C.jsx(AV,{}),C.jsx(gV,{}),C.jsx(kV,{})]})},pS=document.getElementById("root");if(!pS)throw new Error("Could not find root element to mount to");const wk=aR.createRoot(pS);wk.render(C.jsx(WA.StrictMode,{children:C.jsx(Ek,{})}));export{xk as M,WA as R,Ea as _,Rk as a,Fh as b,Ak as c,Wt as d,Ck as e,BT as g,C as j,U as r,Ik as s};
